{"version":3,"sources":["webpack:///webpack/bootstrap 4d60f70ff15167ad8401","webpack:///./node_modules/riot/riot.js","webpack:///./node_modules/extend/index.js","webpack:///./src/index.js","webpack:///./src/js/tags/app.html","webpack:///./src/js/tags/input-rangeslider.html","webpack:///./node_modules/nouislider/distribute/nouislider.js","webpack:///./src/js/tags/input-datepicker.html","webpack:///./node_modules/flatpickr/dist/flatpickr.js"],"names":["global","factory","exports","module","riot","__TAGS_CACHE","__TAG_IMPL","GLOBAL_MIXIN","ATTRS_PREFIX","REF_DIRECTIVES","IS_DIRECTIVE","CONDITIONAL_DIRECTIVE","LOOP_DIRECTIVE","LOOP_NO_REORDER_DIRECTIVE","SHOW_DIRECTIVE","HIDE_DIRECTIVE","RIOT_EVENTS_KEY","T_STRING","T_OBJECT","T_UNDEF","T_FUNCTION","XLINK_NS","SVG_NS","XLINK_REGEX","WIN","window","undefined","RE_SPECIAL_TAGS","RE_SPECIAL_TAGS_NO_OPTION","RE_EVENTS_PREFIX","RE_RESERVED_NAMES","RE_HTML_ATTRS","CASE_SENSITIVE_ATTRIBUTES","RE_BOOL_ATTRS","IE_VERSION","document","documentMode","isBoolAttr","value","test","isFunction","isObject","isUndefined","isString","isBlank","isArray","Array","isWritable","obj","key","descriptor","Object","getOwnPropertyDescriptor","writable","isReservedName","check","freeze","$$","selector","ctx","prototype","slice","call","querySelectorAll","$","querySelector","createFrag","createDocumentFragment","createDOMPlaceholder","createTextNode","isSvg","el","ownerSVGElement","mkEl","name","createElementNS","createElement","setInnerHTML","container","html","innerHTML","doc","DOMParser","parseFromString","node","ownerDocument","importNode","documentElement","appendChild","toggleVisibility","dom","show","style","display","remAttr","removeAttribute","styleObjectToString","keys","reduce","acc","prop","getAttr","getAttribute","setAttr","val","xlink","exec","setAttributeNS","setAttribute","safeInsert","root","curr","next","insertBefore","parentNode","walkAttrs","fn","m","toLowerCase","walkNodes","context","res","firstChild","nextSibling","styleNode","cssTextProp","byName","remainder","needsInject","newNode","userNode","id","replaceChild","getElementsByTagName","styleSheet","styleManager","add","css","push","inject","map","k","concat","join","cssText","skipRegex","beforeReChars","beforeReWords","wordsLastChar","s","w","RE_REGEX","RE_VN_CHAR","prev","code","pos","_skipRegex","start","re","lastIndex","match","length","c","indexOf","end","brackets","UNDEF","REGLOB","R_MLCOMMS","R_STRINGS","S_QBLOCKS","source","UNSUPPORTED","RegExp","NEED_ESCAPE","S_QBLOCK2","FINDBRACES","DEFAULT","_pairs","cachedBrackets","_regex","_cache","_settings","_loopback","_rewrite","bp","replace","_create","pair","arr","split","Error","_brackets","reOrIdx","str","tmpl","_bp","parts","isexpr","qblocks","prevStr","mark","index","ch","rech","ix","pushQBlock","unescapeStr","_pos","_lastIndex","slash","hasExpr","loopKeys","expr","trim","array","_reset","_setSettings","o","b","defineProperty","set","get","enumerable","settings","_tmpl","data","_logErr","bind","clearCache","errorHandler","err","riotData","tagName","__","_riot_id","console","error","message","log","_getTmpl","Function","RE_DQUOTE","RE_QBMARK","qstr","i","j","list","_parseExpr","_","RE_CSNAME","RE_BREND","asText","cnt","jsb","rightContext","skipBraces","_wrapExpr","mm","lv","ir","JS_CONTEXT","JS_VARNAME","JS_NOPROPS","tb","p","mvar","version","observable$1","callbacks","defineProperties","on","event","configurable","off","cb","splice","one","apply","arguments","trigger","arguments$1","arglen","args","fns","each","len","contains","item","toCamel","toUpperCase","startsWith","options","extend","src","misc","settings$1","create","skipAnonymousTags","autoUpdate","handleEvent","handler","e","ptag","parent","currentTarget","target","srcElement","which","charCode","keyCode","preventUpdate","getImmediateCustomParentTag","isMounted","update","setEventHandler","tag","eventName","listeners","removeEventListener","addEventListener","updateDataIs","conf","isVirtual","head","ref","unmount","impl","hasImpl","initChildTag","attrs","a","mount","makeReplaceVirtual","onUnmount","delName","opts","dataIs","tags","_tags","arrayishRemove","normalizeAttrName","attrName","updateExpression","attr","isToggle","isStyleAttr","isClassAttr","hasValue","isObj","JSON","stringify","isAttrRemoved","bool","isRtag","wasParsedOnce","nodeValue","hidden","updateAllExpressions","expressions","IfExpr","init","stub","pristine","removeChild","current","cloneNode","parseExpressions","unmountAll","_tag","RefExpr","attrValue","rawValue","hasExp","old","customParent","tagOrDom","__ref","refs","arrayishAdd","mkitem","base","unmountRedundant","items","remove","moveNestedTags","this$1","moveChildTag","move","nextTag","moveVirtual","insert","makeVirtual","append","_each","mustReorder","getTagName","placeholder","child","getTag","ifExpr","oldItems","hasKeys","isLoop","isAnonymous","updateEach","frag","isObject$$1","filter","doReorder","oldPos","isNew","mustAppend","mustCreate","Tag$1","t","mustIncludeRoot","tree","children","type","nodeType","tagImpl","attributes","parentElement","outerHTML","parseAttributes","reHasYield","reYieldAll","reYieldSrc","reYieldDest","rootEls","tr","th","td","col","tblTags","GENERIC","SVG","specialTags","select","selectedIndex","tname","childElementCount","replaceYield","text","def","mkdom","isSvg$$1","Tag$2","onCreate","tag$1","class","constructor","mountTo","tag2$1","mount$1","elem","allTags","pushTagsTo","riotTag","selectTags","nodeList","_el","mixins","globals","mixins_id","mixin$1","mix","g","store","update$1","unregister$1","version$1","core","Tag","tag2","mixin","unregister","__uid","updateOpts","instAttrs","skipAnonymous","cleanUpData","implAttrs","isInline","propsInSyncWithParent","virts","tail","tagUpdate","nextOpts","canTrigger","shouldUpdate","inheritFrom","tagMixin","instance","props","propsBlacklist","proto","getPrototypeOf","getOwnPropertyNames","hasGetterSetter","hasOwnProperty","tagMount","isPrototypeOf","v","globalMixin","tagUnmount","mustKeepRoot","tagIndex","forEach","mustSync","newPos","skipDataIs","namedTag","ensureArray","dest","isArr","hasIndex","oldIndex","implClass","_innerHTML","sib","util","vdom","Tag$$1","tag$$1","tag2$$1","mount$$1","mixin$$1","update$$1","unregister$$1","version$$1","observable","riot$1","hasOwn","toStr","toString","isPlainObject","hasOwnConstructor","hasIsPrototypeOf","copy","copyIsArray","clone","deep","body","parseFloat","initialValue","connect","range","min","max","pips","mode","density","values","slider","noUiSlider","define","VERSION","isValidFormatter","entry","to","from","removeElement","preventDefault","unique","closest","Math","round","offset","orientation","rect","getBoundingClientRect","docElem","pageOffset","getPageOffset","navigator","userAgent","x","top","y","clientTop","left","clientLeft","isNumeric","isNaN","isFinite","addClassFor","element","className","duration","addClass","setTimeout","removeClass","limit","asArray","countDecimals","numStr","String","pieces","classList","hasClass","supportPageOffset","pageXOffset","isCSS1Compat","compatMode","scrollLeft","pageYOffset","scrollTop","getActions","pointerEnabled","msPointerEnabled","getSupportsPassive","supportsPassive","getSupportsTouchActionNone","CSS","supports","subRangeRatio","pa","pb","fromPercentage","toPercentage","abs","isPercentage","getJ","toStepping","xVal","xPct","va","vb","fromStepping","getStep","xSteps","snap","handleEntryPoint","that","percentage","xHighestCompleteStep","handleStepPoint","n","totalSteps","xNumSteps","highestStep","ceil","Number","toFixed","step","Spectrum","singleStep","ordered","sort","getMargin","getNearbySteps","stepBefore","startValue","thisStep","stepAfter","countStepDecimals","stepDecimals","convert","defaultFormatter","validateFormat","testStep","parsed","testRange","spectrum","testStart","handles","testSnap","testAnimate","animate","testAnimationDuration","animationDuration","testConnect","testOrientation","ort","testMargin","margin","testLimit","testPadding","padding","testDirection","dir","testBehaviour","tap","drag","fixed","hover","events","testTooltips","tooltips","formatter","testAriaFormat","ariaFormat","testFormat","format","testCssPrefix","cssPrefix","testCssClasses","cssClasses","testUseRaf","useRequestAnimationFrame","testOptions","tests","r","defaults","origin","handle","handleLower","handleUpper","horizontal","vertical","background","ltr","rtl","draggable","active","tooltip","pipsHorizontal","pipsVertical","marker","markerHorizontal","markerVertical","markerNormal","markerLarge","markerSub","valueHorizontal","valueVertical","valueNormal","valueLarge","valueSub","styles","styleOposite","closure","originalOptions","actions","supportsTouchActionNone","scope_Target","scope_Locations","scope_Base","scope_Handles","scope_HandleNumbers","scope_ActiveHandle","scope_Connects","scope_Spectrum","scope_Values","scope_Events","scope_Self","scope_Pips","scope_Listeners","scope_Document","scope_DocumentElement","scope_Body","addNodeTo","div","addOrigin","handleNumber","addConnect","addElements","connectOptions","addSlider","addTooltip","tips","bindEvent","unencoded","formattedValue","aria","positions","checkHandlePosition","now","getGroup","stepped","spread","generateSpread","group","safeIncrement","increment","indexes","firstInRange","lastInRange","ignoreFirst","ignoreLast","prevPct","unshift","q","low","high","newPct","pctDifference","pctPos","steps","realSteps","stepsize","addMarking","filterFunc","valueSizeClasses","markerSizeClasses","valueOrientationClasses","markerOrientationClasses","getClasses","orientationClasses","sizeClasses","addSpread","innerText","removePips","grid","baseSize","alt","width","height","attachEvent","callback","method","hasAttribute","fixEvent","buttons","calcPoint","points","methods","passive","touch","mouse","pointer","touches","changedTouches","pageX","pageY","clientX","clientY","cursor","calcPointToPercentage","location","proposal","getClosestHandle","moveHandles","upward","locations","handleNumbers","proposals","f","reverse","state","setHandle","fireEvent","targetEvent","eventType","documentLeave","nodeName","relatedTarget","eventEnd","eventMove","appVersion","buttonsProperty","movement","startCalcPoint","setZindex","eventStart","stopPropagation","moveEvent","endEvent","outEvent","getComputedStyle","eventTap","eventHover","bindSliderEvents","behaviour","handleBefore","handleAfter","eventHolders","eventHolder","reference","lookBackward","lookForward","getValue","toPct","pct","updateHandlePosition","stateUpdate","updateConnect","requestAnimationFrame","zIndex","childNodes","l","h","setValue","valueSet","input","fireSetEvent","isInit","valueReset","valueGet","destroy","getCurrentStep","nearbySteps","decrement","namespacedEvent","removeEvent","namespace","substring","tEvent","tNamespace","updateOptions","optionsToUpdate","updateAble","newOptions","reset","__moveHandles","initialize","api","onChange","selectedDates","onOpen","hourElement","minuteElement","setDate","datepicker","_extends","assign","_typeof","Symbol","iterator","FlatpickrInstance","config","self","afterDayAnim","_bind","_compareDates","compareDates","_setHoursFromDate","setHoursFromDate","changeMonth","changeYear","clear","close","_createElement","isEnabled","jumpToDate","open","redraw","toggle","instanceConfig","parseDate","formatDate","setupFormats","parseConfig","setupLocale","setupInputs","setupDates","setupHelperFunctions","isOpen","isMobile","disableMobile","inline","disable","enable","weekNumbers","build","bindEvents","noCalendar","enableTime","latestSelectedDateObj","minDate","updateValue","showTimeInput","calendarContainer","daysContainer","offsetWidth","weekWrapper","positionCalendar","triggerEvent","bindToInstance","updateTime","timeWrapper","minDateHasTime","setHoursFromInputs","hours","parseInt","amPM","minutes","seconds","enableSeconds","secondElement","textContent","getHours","getMinutes","maxDateHasTime","maxDate","setHours","dateObj","date","getSeconds","pad","time_24hr","onYearInput","year","delta","currentYearElement","blur","ev","_handlers","onClick","evt","_animationLoop","wrap","setupMobile","debouncedResize","debounce","onResize","triggerChange","debouncedChange","onMouseOver","onKeyDown","static","_input","ontouchstart","documentClick","clickOpens","monthNav","onMonthNavScroll","onMonthNavClick","selectDate","animateDays","animateMonths","selText","timeContainer","timeIncrement","processPostDayAnimation","animationName","lastChild","days","navigationCurrentMonth","nav","previousSibling","oldCurMonth","jumpDate","currentYear","getFullYear","currentMonth","getMonth","stack","warn","incrementNumInput","inputElem","createEvent","dispatchEvent","createNumberInput","inputClassName","wrapper","numInput","arrowUp","arrowDown","pattern","fragment","tabIndex","buildMonthNav","innerContainer","buildWeeks","rContainer","buildWeekdays","buildDays","buildTime","toggleClass","customAppend","appendTo","altInput","createDay","dayNumber","dateIsEnabled","dayElement","getDate","$i","ariaDateFormat","todayDateElem","isDateSelected","selectedDateElem","minRangeDate","maxRangeDate","isDateInRange","insertAdjacentHTML","getWeek","focusOnDay","currentIndex","newIndex","targetNode","focus","firstOfMonth","Date","getDay","l10n","firstDayOfWeek","isRangeMode","prevMonthDays","utils","getDaysinMonth","daysInMonth","dayIndex","dayNum","_hidePrevMonthArrow","_hideNextMonthArrow","updateNavigationCurrentMonth","dayContainer","clearNode","monthNavFragment","prevMonthNav","prevArrow","currentMonthElement","title","scrollTitle","yearInput","disabled","nextMonthNav","nextArrow","__hidePrevMonthArrow","__hideNextMonthArrow","separator","hourInput","minuteInput","defaultHour","defaultMinute","hourIncrement","minuteIncrement","secondInput","toggleTitle","weekdayContainer","weekdays","shorthand","weekAbbreviation","is_offset","skipAnimations","monthToStr","activeElement","triggerChangeEvent","mobileInput","_type","isCalendarElem","isCalendarElement","isInput","path","lostFocus","ignoredFocusElements","newYear","newYearNum","isNewYear","timeless","dateToCheck","d","getTime","calendarElem","allowInput","allowKeydown","allowInlineKeydown","altFormat","dateFormat","isTimeObj","_delta","ctrlKey","hoverDate","initialDate","rangeStartDate","rangeEndDate","containsDisabled","DAY","_loop","timestamp","outOfRange","dayElem","_ret","positionElement","click","minMaxDateSetter","inverseDateObj","isValidDate","boolOpts","hooks","flatpickr","defaultConfig","userConfig","parse","dataset","_enable","dates","parseDateRules","_disable","_minDate","_maxDate","_i","arrayify","_i2","plugins","pluginConf","locale","l10ns","default","_positionElement","calendarHeight","offsetHeight","calendarWidth","configPos","position","inputBounds","distanceFromBottom","innerHeight","bottom","showOnTop","right","rightMost","selectedDate","shouldChangeMonth","closeOnSelect","single","option","setSelectedDate","inputDate","rangeSeparator","preloadedDate","defaultDate","_selectedDateObj","_showTimeInput","month","yr","monthNumber","shorthandCurrentMonth","months","formats","revFormat","F","M","altInputClass","required","inputType","mobileFormatStr","defaultValue","_supportsEvents","Event","bubbles","initEvent","joinChar","dObj","mouseDelta","wheelDelta","deltaY","isYear","isPrevMonth","isNextMonth","content","func","wait","immediate","timeout","clearTimeout","date1","date2","isKeyDown","isWheel","isIncrement","curValue","newValue","isHourElem","isMinuteElem","Z","toISOString","D","G","H","J","ordinal","K","S","U","W","Y","longhand","frmt","_this","monthName","setMonth","hour","day","shortMonth","setSeconds","unixSeconds","weekNumber","setFullYear","ISODate","setMinutes","tokenRegex","number","givenFormat","date_orig","parsedDate","matched","matchIndex","regexStr","token","isBackSlash","escaped","info","_flatpickr","nodes","instances","HTMLElement","HTMLCollection","NodeList","givenDate","onejan","onClose","onDayCreate","onMonthChange","onParseConfig","onReady","onValueUpdate","onYearChange","onDestroy","en","nth","localize","setDefaults","jQuery","fp_incr"],"mappings":";AAAA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAK;AACL;AACA;;AAEA;AACA;AACA;AACA,mCAA2B,0BAA0B,EAAE;AACvD,yCAAiC,eAAe;AAChD;AACA;AACA;;AAEA;AACA,8DAAsD,+DAA+D;;AAErH;AACA;;AAEA;AACA;;;;;;;;;;;;AC7DA;AACC,WAAUA,MAAV,EAAkBC,OAAlB,EAA2B;AAC3B,kCAAOC,OAAP,OAAmB,QAAnB,IAA+B,OAAOC,MAAP,KAAkB,WAAjD,GAA+DF,QAAQC,OAAR,CAA/D,GACA,QAA6C,iCAAO,CAAC,OAAD,CAAP,oCAAoBD,OAApB;AAAA;AAAA;AAAA,oGAA7C,GACCA,QAASD,OAAOI,IAAP,GAAcJ,OAAOI,IAAP,IAAe,EAAtC,CAFD;AAGA,CAJA,EAIC,IAJD,EAIQ,UAAUF,OAAV,EAAmB;AAAE;;AAE9B,MAAIG,eAAe,EAAnB;AACA,MAAIC,aAAa,EAAjB;AACA,MAAIC,eAAe,gBAAnB;AACA,MAAIC,eAAe,OAAnB;AACA,MAAIC,iBAAiB,CAAC,KAAD,EAAQ,UAAR,CAArB;AACA,MAAIC,eAAe,SAAnB;AACA,MAAIC,wBAAwB,IAA5B;AACA,MAAIC,iBAAiB,MAArB;AACA,MAAIC,4BAA4B,YAAhC;AACA,MAAIC,iBAAiB,MAArB;AACA,MAAIC,iBAAiB,MAArB;AACA,MAAIC,kBAAkB,iBAAtB;AACA,MAAIC,WAAW,QAAf;AACA,MAAIC,WAAW,QAAf;AACA,MAAIC,UAAW,WAAf;AACA,MAAIC,aAAa,UAAjB;AACA,MAAIC,WAAW,8BAAf;AACA,MAAIC,SAAS,4BAAb;AACA,MAAIC,cAAc,cAAlB;AACA,MAAIC,MAAM,QAAOC,MAAP,yCAAOA,MAAP,OAAkBN,OAAlB,GAA4BO,SAA5B,GAAwCD,MAAlD;AACA,MAAIE,kBAAkB,wEAAtB;AACA,MAAIC,4BAA4B,uDAAhC;AACA,MAAIC,mBAAmB,KAAvB;AACA,MAAIC,oBAAoB,wHAAxB;AACA,MAAIC,gBAAgB,+CAApB;AACA,MAAIC,4BAA4B,EAAE,WAAW,SAAb,EAAhC;AACA,MAAIC,gBAAgB,mQAApB;AACA,MAAIC,aAAa,CAACV,OAAOA,IAAIW,QAAX,IAAuB,EAAxB,EAA4BC,YAA5B,GAA2C,CAA5D;;AAEA;;;;;AAKA,WAASC,UAAT,CAAoBC,KAApB,EAA2B;AACzB,WAAOL,cAAcM,IAAd,CAAmBD,KAAnB,CAAP;AACD;;AAED;;;;;AAKA,WAASE,UAAT,CAAoBF,KAApB,EAA2B;AACzB,WAAO,QAAOA,KAAP,yCAAOA,KAAP,OAAiBlB,UAAxB;AACD;;AAED;;;;;;AAMA,WAASqB,QAAT,CAAkBH,KAAlB,EAAyB;AACvB,WAAOA,SAAS,QAAOA,KAAP,yCAAOA,KAAP,OAAiBpB,QAAjC,CADuB,CACmB;AAC3C;;AAED;;;;;AAKA,WAASwB,WAAT,CAAqBJ,KAArB,EAA4B;AAC1B,WAAO,QAAOA,KAAP,yCAAOA,KAAP,OAAiBnB,OAAxB;AACD;;AAED;;;;;AAKA,WAASwB,QAAT,CAAkBL,KAAlB,EAAyB;AACvB,WAAO,QAAOA,KAAP,yCAAOA,KAAP,OAAiBrB,QAAxB;AACD;;AAED;;;;;AAKA,WAAS2B,OAAT,CAAiBN,KAAjB,EAAwB;AACtB,WAAOI,YAAYJ,KAAZ,KAAsBA,UAAU,IAAhC,IAAwCA,UAAU,EAAzD;AACD;;AAED;;;;;AAKA,WAASO,OAAT,CAAiBP,KAAjB,EAAwB;AACtB,WAAOQ,MAAMD,OAAN,CAAcP,KAAd,KAAwBA,iBAAiBQ,KAAhD;AACD;;AAED;;;;;;AAMA,WAASC,UAAT,CAAoBC,GAApB,EAAyBC,GAAzB,EAA8B;AAC5B,QAAIC,aAAaC,OAAOC,wBAAP,CAAgCJ,GAAhC,EAAqCC,GAArC,CAAjB;AACA,WAAOP,YAAYM,IAAIC,GAAJ,CAAZ,KAAyBC,cAAcA,WAAWG,QAAzD;AACD;;AAED;;;;;AAKA,WAASC,cAAT,CAAwBhB,KAAxB,EAA+B;AAC7B,WAAOR,kBAAkBS,IAAlB,CAAuBD,KAAvB,CAAP;AACD;;AAED,MAAIiB,QAAQJ,OAAOK,MAAP,CAAc;AACzBnB,gBAAYA,UADa;AAEzBG,gBAAYA,UAFa;AAGzBC,cAAUA,QAHe;AAIzBC,iBAAaA,WAJY;AAKzBC,cAAUA,QALe;AAMzBC,aAASA,OANgB;AAOzBC,aAASA,OAPgB;AAQzBE,gBAAYA,UARa;AASzBO,oBAAgBA;AATS,GAAd,CAAZ;;AAYA;;;;;;AAMA,WAASG,EAAT,CAAYC,QAAZ,EAAsBC,GAAtB,EAA2B;AACzB,WAAOb,MAAMc,SAAN,CAAgBC,KAAhB,CAAsBC,IAAtB,CAA2B,CAACH,OAAOxB,QAAR,EAAkB4B,gBAAlB,CAAmCL,QAAnC,CAA3B,CAAP;AACD;;AAED;;;;;;AAMA,WAASM,CAAT,CAAWN,QAAX,EAAqBC,GAArB,EAA0B;AACxB,WAAO,CAACA,OAAOxB,QAAR,EAAkB8B,aAAlB,CAAgCP,QAAhC,CAAP;AACD;;AAED;;;;AAIA,WAASQ,UAAT,GAAsB;AACpB,WAAO/B,SAASgC,sBAAT,EAAP;AACD;;AAED;;;;AAIA,WAASC,oBAAT,GAAgC;AAC9B,WAAOjC,SAASkC,cAAT,CAAwB,EAAxB,CAAP;AACD;;AAED;;;;;AAKA,WAASC,KAAT,CAAeC,EAAf,EAAmB;AACjB,WAAO,CAAC,CAACA,GAAGC,eAAZ;AACD;;AAED;;;;;;AAMA,WAASC,IAAT,CAAcC,IAAd,EAAoB;AAClB,WAAOA,SAAS,KAAT,GAAiBvC,SAASwC,eAAT,CAAyBrD,MAAzB,EAAiCoD,IAAjC,CAAjB,GAA0DvC,SAASyC,aAAT,CAAuBF,IAAvB,CAAjE;AACD;;AAED;;;;;AAKA;AACA,WAASG,YAAT,CAAsBC,SAAtB,EAAiCC,IAAjC,EAAuC;AACrC,QAAI,CAACrC,YAAYoC,UAAUE,SAAtB,CAAL,EACE;AAAEF,gBAAUE,SAAV,GAAsBD,IAAtB;AAA6B;AAC/B;AAFF,SAGK;AACH,YAAIE,MAAM,IAAIC,SAAJ,GAAgBC,eAAhB,CAAgCJ,IAAhC,EAAsC,iBAAtC,CAAV;AACA,YAAIK,OAAON,UAAUO,aAAV,CAAwBC,UAAxB,CAAmCL,IAAIM,eAAvC,EAAwD,IAAxD,CAAX;AACAT,kBAAUU,WAAV,CAAsBJ,IAAtB;AACD;AACF;;AAED;;;;;;AAMA,WAASK,gBAAT,CAA0BC,GAA1B,EAA+BC,IAA/B,EAAqC;AACnCD,QAAIE,KAAJ,CAAUC,OAAV,GAAoBF,OAAO,EAAP,GAAY,MAAhC;AACAD,QAAI,QAAJ,IAAgBC,OAAO,KAAP,GAAe,IAA/B;AACD;;AAED;;;;;AAKA,WAASG,OAAT,CAAiBJ,GAAjB,EAAsBhB,IAAtB,EAA4B;AAC1BgB,QAAIK,eAAJ,CAAoBrB,IAApB;AACD;;AAED;;;;;;;AAOA,WAASsB,mBAAT,CAA6BJ,KAA7B,EAAoC;AAClC,WAAOzC,OAAO8C,IAAP,CAAYL,KAAZ,EAAmBM,MAAnB,CAA0B,UAAUC,GAAV,EAAeC,IAAf,EAAqB;AACpD,aAAQD,MAAM,GAAN,GAAYC,IAAZ,GAAmB,IAAnB,GAA2BR,MAAMQ,IAAN,CAA3B,GAA0C,GAAlD;AACD,KAFM,EAEJ,EAFI,CAAP;AAGD;;AAED;;;;;;AAMA,WAASC,OAAT,CAAiBX,GAAjB,EAAsBhB,IAAtB,EAA4B;AAC1B,WAAOgB,IAAIY,YAAJ,CAAiB5B,IAAjB,CAAP;AACD;;AAED;;;;;;AAMA,WAAS6B,OAAT,CAAiBb,GAAjB,EAAsBhB,IAAtB,EAA4B8B,GAA5B,EAAiC;AAC/B,QAAIC,QAAQlF,YAAYmF,IAAZ,CAAiBhC,IAAjB,CAAZ;AACA,QAAI+B,SAASA,MAAM,CAAN,CAAb,EACE;AAAEf,UAAIiB,cAAJ,CAAmBtF,QAAnB,EAA6BoF,MAAM,CAAN,CAA7B,EAAuCD,GAAvC;AAA8C,KADlD,MAGE;AAAEd,UAAIkB,YAAJ,CAAiBlC,IAAjB,EAAuB8B,GAAvB;AAA8B;AACnC;;AAED;;;;;;AAMA,WAASK,UAAT,CAAoBC,IAApB,EAA0BC,IAA1B,EAAgCC,IAAhC,EAAsC;AACpCF,SAAKG,YAAL,CAAkBF,IAAlB,EAAwBC,KAAKE,UAAL,IAAmBF,IAA3C;AACD;;AAED;;;;;AAKA,WAASG,SAAT,CAAmBpC,IAAnB,EAAyBqC,EAAzB,EAA6B;AAC3B,QAAI,CAACrC,IAAL,EACE;AAAE;AAAQ;AACZ,QAAIsC,CAAJ;AACA,WAAOA,IAAItF,cAAc2E,IAAd,CAAmB3B,IAAnB,CAAX,EACE;AAAEqC,SAAGC,EAAE,CAAF,EAAKC,WAAL,EAAH,EAAuBD,EAAE,CAAF,KAAQA,EAAE,CAAF,CAAR,IAAgBA,EAAE,CAAF,CAAvC;AAA+C;AACpD;;AAED;;;;;;AAMA,WAASE,SAAT,CAAmB7B,GAAnB,EAAwB0B,EAAxB,EAA4BI,OAA5B,EAAqC;AACnC,QAAI9B,GAAJ,EAAS;AACP,UAAI+B,MAAML,GAAG1B,GAAH,EAAQ8B,OAAR,CAAV;AACA,UAAIR,IAAJ;AACA;AACA,UAAIS,QAAQ,KAAZ,EAAmB;AAAE;AAAQ;;AAE7B/B,YAAMA,IAAIgC,UAAV;;AAEA,aAAOhC,GAAP,EAAY;AACVsB,eAAOtB,IAAIiC,WAAX;AACAJ,kBAAU7B,GAAV,EAAe0B,EAAf,EAAmBK,GAAnB;AACA/B,cAAMsB,IAAN;AACD;AACF;AACF;;AAED,MAAItB,MAAMvC,OAAOK,MAAP,CAAc;AACvBC,QAAIA,EADmB;AAEvBO,OAAGA,CAFoB;AAGvBE,gBAAYA,UAHW;AAIvBE,0BAAsBA,oBAJC;AAKvBE,WAAOA,KALgB;AAMvBG,UAAMA,IANiB;AAOvBI,kBAAcA,YAPS;AAQvBY,sBAAkBA,gBARK;AASvBK,aAASA,OATc;AAUvBE,yBAAqBA,mBAVE;AAWvBK,aAASA,OAXc;AAYvBE,aAASA,OAZc;AAavBM,gBAAYA,UAbW;AAcvBM,eAAWA,SAdY;AAevBI,eAAWA;AAfY,GAAd,CAAV;;AAkBA,MAAIK,SAAJ;AACA,MAAIC,WAAJ;AACA,MAAIC,SAAS,EAAb;AACA,MAAIC,YAAY,EAAhB;AACA,MAAIC,cAAc,KAAlB;;AAEA;AACA,MAAIxG,GAAJ,EAAS;AACPoG,gBAAa,YAAY;AACvB;AACA,UAAIK,UAAUxD,KAAK,OAAL,CAAd;AACA8B,cAAQ0B,OAAR,EAAiB,MAAjB,EAAyB,UAAzB;;AAEA;AACA,UAAIC,WAAWlE,EAAE,kBAAF,CAAf;AACA;AACA,UAAIkE,QAAJ,EAAc;AACZ,YAAIA,SAASC,EAAb,EAAiB;AAAEF,kBAAQE,EAAR,GAAaD,SAASC,EAAtB;AAA2B;AAC9CD,iBAAShB,UAAT,CAAoBkB,YAApB,CAAiCH,OAAjC,EAA0CC,QAA1C;AACD,OAHD,MAIK;AAAE/F,iBAASkG,oBAAT,CAA8B,MAA9B,EAAsC,CAAtC,EAAyC7C,WAAzC,CAAqDyC,OAArD;AAAgE;;AAEvE,aAAOA,OAAP;AACD,KAfW,EAAZ;AAgBAJ,kBAAcD,UAAUU,UAAxB;AACD;;AAED;;;AAGA,MAAIC,eAAe;AACjBX,eAAWA,SADM;AAEjB;;;;;AAKAY,SAAK,SAASA,GAAT,CAAaC,GAAb,EAAkB/D,IAAlB,EAAwB;AAC3B,UAAIA,IAAJ,EAAU;AAAEoD,eAAOpD,IAAP,IAAe+D,GAAf;AAAqB,OAAjC,MACK;AAAEV,kBAAUW,IAAV,CAAeD,GAAf;AAAsB;AAC7BT,oBAAc,IAAd;AACD,KAXgB;AAYjB;;;;AAIAW,YAAQ,SAASA,MAAT,GAAkB;AACxB,UAAI,CAACnH,GAAD,IAAQ,CAACwG,WAAb,EAA0B;AAAE;AAAQ;AACpCA,oBAAc,KAAd;AACA,UAAIpC,QAAQzC,OAAO8C,IAAP,CAAY6B,MAAZ,EACTc,GADS,CACL,UAASC,CAAT,EAAY;AAAE,eAAOf,OAAOe,CAAP,CAAP;AAAkB,OAD3B,EAETC,MAFS,CAEFf,SAFE,EAESgB,IAFT,CAEc,IAFd,CAAZ;AAGA;AACA,UAAIlB,WAAJ,EAAiB;AAAEA,oBAAYmB,OAAZ,GAAsBpD,KAAtB;AAA8B,OAAjD,MACK;AAAEgC,kBAAU5C,SAAV,GAAsBY,KAAtB;AAA8B;AACtC;AAzBgB,GAAnB;;AA4BA;;;;;AAKA,MAAIqD,YAAa,YAAY;AAAE;;AAE7B,QAAIC,gBAAgB,mBAApB;;AAEA,QAAIC,gBAAgB,CAClB,MADkB,EAElB,SAFkB,EAGlB,IAHkB,EAIlB,MAJkB,EAKlB,IALkB,EAMlB,YANkB,EAOlB,QAPkB,EAQlB,QARkB,EASlB,QATkB,EAUlB,MAVkB,EAWlB,OAXkB,CAApB;;AAcA,QAAIC,gBAAgBD,cAAcjD,MAAd,CAAqB,UAAUmD,CAAV,EAAaC,CAAb,EAAgB;AACvD,aAAOD,IAAIC,EAAEzF,KAAF,CAAQ,CAAC,CAAT,CAAX;AACD,KAFmB,EAEjB,EAFiB,CAApB;;AAIA,QAAI0F,WAAW,4EAAf;AACA,QAAIC,aAAa,OAAjB;;AAEA,aAASC,IAAT,CAAeC,IAAf,EAAqBC,GAArB,EAA0B;AACxB,aAAO,EAAEA,GAAF,IAAS,CAAT,IAAc,KAAKpH,IAAL,CAAUmH,KAAKC,GAAL,CAAV,CAArB,EAA0C,CAAI;AAC9C,aAAOA,GAAP;AACD;;AAED,aAASC,UAAT,CAAqBF,IAArB,EAA2BG,KAA3B,EAAkC;;AAEhC,UAAIC,KAAK,KAAT;AACA,UAAIH,MAAMG,GAAGC,SAAH,GAAeF,OAAzB;AACA,UAAIG,QAAQF,GAAGpD,IAAH,CAAQgD,IAAR,EAAc,CAAd,EAAiBM,KAAjB,CAAuBT,QAAvB,CAAZ;;AAEA,UAAIS,KAAJ,EAAW;AACT,YAAIhD,OAAO2C,MAAMK,MAAM,CAAN,EAASC,MAA1B;;AAEAN,cAAMF,KAAKC,IAAL,EAAWC,GAAX,CAAN;AACA,YAAIO,IAAIR,KAAKC,GAAL,CAAR;;AAEA,YAAIA,MAAM,CAAN,IAAW,CAACT,cAAciB,OAAd,CAAsBD,CAAtB,CAAhB,EAA0C;AACxC,iBAAOlD,IAAP;AACD;;AAED,YAAIkD,MAAM,GAAV,EAAe;;AAEb,cAAIR,KAAKC,MAAM,CAAX,MAAkB,GAAtB,EAA2B;AACzBE,oBAAQ7C,IAAR;AACD;AAEF,SAND,MAMO,IAAIkD,MAAM,GAAN,IAAaA,MAAM,GAAvB,EAA4B;;AAEjC,cAAIR,KAAK,EAAEC,GAAP,MAAgBO,CAAhB,IACA,CAACP,MAAMF,KAAKC,IAAL,EAAWC,GAAX,CAAP,IAA0B,CAD1B,IAEA,CAACH,WAAWjH,IAAX,CAAgBmH,KAAKC,GAAL,CAAhB,CAFL,EAEiC;AAC/BE,oBAAQ7C,IAAR;AACD;AAEF,SARM,MAQA,IAAI,CAACoC,cAAce,OAAd,CAAsBD,CAAtB,CAAL,EAA+B;;AAEpC,cAAIE,MAAMT,MAAM,CAAhB;;AAEA,iBAAO,EAAEA,GAAF,IAAS,CAAT,IAAcH,WAAWjH,IAAX,CAAgBmH,KAAKC,GAAL,CAAhB,CAArB,EAAgD,CAAI;AACpD,cAAI,CAACR,cAAcgB,OAAd,CAAsBT,KAAK7F,KAAL,CAAW8F,MAAM,CAAjB,EAAoBS,GAApB,CAAtB,CAAL,EAAsD;AACpDP,oBAAQ7C,IAAR;AACD;AACF;AACF;;AAED,aAAO6C,KAAP;AACD;;AAED,WAAOD,UAAP;AAED,GA5Ee,EAAhB;;AA8EA;;;;;;;;;AASA;;AAEA;AACA,MAAIS,WAAY,UAAUC,KAAV,EAAiB;;AAE/B,QACEC,SAAS,GADX;AAAA,QAGEC,YAAY,oCAHd;AAAA,QAKEC,YAAY,4FALd;AAAA,QAOEC,YAAYD,UAAUE,MAAV,GAAmB,GAAnB,GACV,wDAAwDA,MAD9C,GACuD,GADvD,GAEV,kFAAkFA,MATtF;AAAA,QAWEC,cAAcC,OAAO,QAAQ,gCAAf,CAXhB;AAAA,QAaEC,cAAc,qBAbhB;AAAA,QAeEC,YAAYN,UAAUE,MAAV,GAAmB,GAAnB,GAAyB,gBAAgBA,MAfvD;AAAA,QAiBEK,aAAa;AACX,WAAKH,OAAO,YAAcE,SAArB,EAAgCR,MAAhC,CADM;AAEX,WAAKM,OAAO,cAAcE,SAArB,EAAgCR,MAAhC,CAFM;AAGX,WAAKM,OAAO,YAAcE,SAArB,EAAgCR,MAAhC;AAHM,KAjBf;AAAA,QAuBEU,UAAU,KAvBZ;;AAyBA,QAAIC,SAAS,CACX,GADW,EACN,GADM,EAEX,GAFW,EAEN,GAFM,EAGX,SAHW,EAIX,WAJW,EAKX,UALW,EAMXL,OAAO,yBAAyBE,SAAhC,EAA2CR,MAA3C,CANW,EAOXU,OAPW,EAQX,wDARW,EASX,sBATW,CAAb;;AAYA,QACEE,iBAAiBb,KADnB;AAAA,QAEEc,MAFF;AAAA,QAGEC,SAAS,EAHX;AAAA,QAIEC,SAJF;;AAMA,aAASC,SAAT,CAAoBzB,EAApB,EAAwB;AAAE,aAAOA,EAAP;AAAW;;AAErC,aAAS0B,QAAT,CAAmB1B,EAAnB,EAAuB2B,EAAvB,EAA2B;AACzB,UAAI,CAACA,EAAL,EAAS;AAAEA,aAAKJ,MAAL;AAAc;AACzB,aAAO,IAAIR,MAAJ,CACLf,GAAGa,MAAH,CAAUe,OAAV,CAAkB,IAAlB,EAAwBD,GAAG,CAAH,CAAxB,EAA+BC,OAA/B,CAAuC,IAAvC,EAA6CD,GAAG,CAAH,CAA7C,CADK,EACgD3B,GAAG9J,MAAH,GAAYuK,MAAZ,GAAqB,EADrE,CAAP;AAGD;;AAED,aAASoB,OAAT,CAAkBC,IAAlB,EAAwB;AACtB,UAAIA,SAASX,OAAb,EAAsB;AAAE,eAAOC,MAAP;AAAe;;AAEvC,UAAIW,MAAMD,KAAKE,KAAL,CAAW,GAAX,CAAV;;AAEA,UAAID,IAAI5B,MAAJ,KAAe,CAAf,IAAoBW,YAAYrI,IAAZ,CAAiBqJ,IAAjB,CAAxB,EAAgD;AAC9C,cAAM,IAAIG,KAAJ,CAAU,2BAA2BH,IAA3B,GAAkC,GAA5C,CAAN;AACD;AACDC,YAAMA,IAAI/C,MAAJ,CAAW8C,KAAKF,OAAL,CAAaZ,WAAb,EAA0B,IAA1B,EAAgCgB,KAAhC,CAAsC,GAAtC,CAAX,CAAN;;AAEAD,UAAI,CAAJ,IAASL,SAASK,IAAI,CAAJ,EAAO5B,MAAP,GAAgB,CAAhB,GAAoB,YAApB,GAAmCiB,OAAO,CAAP,CAA5C,EAAuDW,GAAvD,CAAT;AACAA,UAAI,CAAJ,IAASL,SAASI,KAAK3B,MAAL,GAAc,CAAd,GAAkB,UAAlB,GAA+BiB,OAAO,CAAP,CAAxC,EAAmDW,GAAnD,CAAT;AACAA,UAAI,CAAJ,IAASL,SAASN,OAAO,CAAP,CAAT,EAAoBW,GAApB,CAAT;AACAA,UAAI,CAAJ,IAAShB,OAAO,UAAUgB,IAAI,CAAJ,CAAV,GAAmB,aAAnB,GAAmCA,IAAI,CAAJ,CAAnC,GAA4C,IAA5C,GAAmDd,SAA1D,EAAqER,MAArE,CAAT;AACAsB,UAAI,CAAJ,IAASD,IAAT;AACA,aAAOC,GAAP;AACD;;AAED,aAASG,SAAT,CAAoBC,OAApB,EAA6B;AAC3B,aAAOA,mBAAmBpB,MAAnB,GAA4BO,OAAOa,OAAP,CAA5B,GAA8CZ,OAAOY,OAAP,CAArD;AACD;;AAEDD,cAAUF,KAAV,GAAkB,SAASA,KAAT,CAAgBI,GAAhB,EAAqBC,IAArB,EAA2BC,GAA3B,EAAgC;AAChD;AACA,UAAI,CAACA,GAAL,EAAU;AAAEA,cAAMf,MAAN;AAAe;;AAE3B,UACEgB,QAAQ,EADV;AAAA,UAEErC,KAFF;AAAA,UAGEsC,MAHF;AAAA,UAIEzC,KAJF;AAAA,UAKEF,GALF;AAAA,UAMEG,KAAKsC,IAAI,CAAJ,CANP;;AAQA,UAAIG,UAAU,EAAd;AACA,UAAIC,UAAU,EAAd;AACA,UAAIC,IAAJ,EAAU1C,SAAV;;AAEAuC,eAASzC,QAAQC,GAAGC,SAAH,GAAe,CAAhC;;AAEA,aAAQC,QAAQF,GAAGpD,IAAH,CAAQwF,GAAR,CAAhB,EAA+B;;AAE7BnC,oBAAYD,GAAGC,SAAf;AACAJ,cAAMK,MAAM0C,KAAZ;;AAEA,YAAIJ,MAAJ,EAAY;;AAEV,cAAItC,MAAM,CAAN,CAAJ,EAAc;;AAEZ,gBAAI2C,KAAK3C,MAAM,CAAN,CAAT;AACA,gBAAI4C,OAAO5B,WAAW2B,EAAX,CAAX;AACA,gBAAIE,KAAK,CAAT;;AAEAD,iBAAK7C,SAAL,GAAiBA,SAAjB;AACA,mBAAQC,QAAQ4C,KAAKlG,IAAL,CAAUwF,GAAV,CAAhB,EAAiC;AAC/B,kBAAIlC,MAAM,CAAN,CAAJ,EAAc;AACZ,oBAAIA,MAAM,CAAN,MAAa2C,EAAjB,EAAqB;AAAE,oBAAEE,EAAF;AAAO,iBAA9B,MACK,IAAI,CAAC,GAAEA,EAAP,EAAW;AAAE;AAAO;AAC1B,eAHD,MAGO;AACLD,qBAAK7C,SAAL,GAAiB+C,WAAW9C,MAAM0C,KAAjB,EAAwBE,KAAK7C,SAA7B,EAAwCC,MAAM,CAAN,CAAxC,CAAjB;AACD;AACF;AACDF,eAAGC,SAAH,GAAe8C,KAAKX,IAAIjC,MAAT,GAAkB2C,KAAK7C,SAAtC;AACA;AACD;;AAED,cAAI,CAACC,MAAM,CAAN,CAAL,EAAe;AACbF,eAAGC,SAAH,GAAe+C,WAAWnD,GAAX,EAAgBI,SAAhB,EAA2BC,MAAM,CAAN,CAA3B,CAAf;AACA;AACD;AACF;;AAED,YAAI,CAACA,MAAM,CAAN,CAAL,EAAe;AACb+C,sBAAYb,IAAIrI,KAAJ,CAAUgG,KAAV,EAAiBF,GAAjB,CAAZ;AACAE,kBAAQC,GAAGC,SAAX;AACAD,eAAKsC,IAAI,KAAKE,UAAU,CAAf,CAAJ,CAAL;AACAxC,aAAGC,SAAH,GAAeF,KAAf;AACD;AACF;;AAED,UAAIqC,OAAOrC,QAAQqC,IAAIjC,MAAvB,EAA+B;AAC7B8C,oBAAYb,IAAIrI,KAAJ,CAAUgG,KAAV,CAAZ;AACD;;AAEDwC,YAAME,OAAN,GAAgBA,OAAhB;;AAEA,aAAOF,KAAP;;AAEA,eAASU,WAAT,CAAsB1D,CAAtB,EAAyB;AACvB,YAAImD,OAAJ,EAAa;AACXnD,cAAImD,UAAUnD,CAAd;AACAmD,oBAAU,EAAV;AACD;AACD,YAAIL,QAAQG,MAAZ,EAAoB;AAClBD,gBAAM3D,IAAN,CAAWW,KAAKA,EAAEqC,OAAF,CAAUU,IAAI,CAAJ,CAAV,EAAkB,IAAlB,CAAhB;AACD,SAFD,MAEO;AACLC,gBAAM3D,IAAN,CAAWW,CAAX;AACD;AACF;;AAED,eAASyD,UAAT,CAAoBE,IAApB,EAA0BC,UAA1B,EAAsCC,KAAtC,EAA6C;AAAE;AAC7C,YAAIA,KAAJ,EAAW;AACTD,uBAAahE,UAAUiD,GAAV,EAAec,IAAf,CAAb;AACD;;AAED,YAAIb,QAAQc,aAAaD,OAAO,CAAhC,EAAmC;AACjCP,iBAAO,WAAWF,QAAQtC,MAAnB,GAA4B,GAAnC;AACAsC,kBAAQ7D,IAAR,CAAawD,IAAIrI,KAAJ,CAAUmJ,IAAV,EAAgBC,UAAhB,CAAb;AACAT,qBAAWN,IAAIrI,KAAJ,CAAUgG,KAAV,EAAiBmD,IAAjB,IAAyBP,IAApC;AACA5C,kBAAQoD,UAAR;AACD;AACD,eAAOA,UAAP;AACD;AACF,KA3FD;;AA6FAjB,cAAUmB,OAAV,GAAoB,SAASA,OAAT,CAAkBjB,GAAlB,EAAuB;AACzC,aAAOb,OAAO,CAAP,EAAU9I,IAAV,CAAe2J,GAAf,CAAP;AACD,KAFD;;AAIAF,cAAUoB,QAAV,GAAqB,SAASA,QAAT,CAAmBC,IAAnB,EAAyB;AAC5C,UAAIhG,IAAIgG,KAAKrD,KAAL,CAAWqB,OAAO,CAAP,CAAX,CAAR;;AAEA,aAAOhE,IACH,EAAEpE,KAAKoE,EAAE,CAAF,CAAP,EAAasC,KAAKtC,EAAE,CAAF,CAAlB,EAAwBb,KAAK6E,OAAO,CAAP,IAAYhE,EAAE,CAAF,EAAKiG,IAAL,EAAZ,GAA0BjC,OAAO,CAAP,CAAvD,EADG,GAEH,EAAE7E,KAAK6G,KAAKC,IAAL,EAAP,EAFJ;AAGD,KAND;;AAQAtB,cAAUuB,KAAV,GAAkB,SAASA,KAAT,CAAgB3B,IAAhB,EAAsB;AACtC,aAAOA,OAAOD,QAAQC,IAAR,CAAP,GAAuBP,MAA9B;AACD,KAFD;;AAIA,aAASmC,MAAT,CAAiB5B,IAAjB,EAAuB;AACrB,UAAI,CAACA,SAASA,OAAOX,OAAhB,CAAD,MAA+BI,OAAO,CAAP,CAAnC,EAA8C;AAC5CA,iBAASM,QAAQC,IAAR,CAAT;AACAR,iBAASQ,SAASX,OAAT,GAAmBM,SAAnB,GAA+BC,QAAxC;AACAH,eAAO,CAAP,IAAYD,OAAOF,OAAO,CAAP,CAAP,CAAZ;AACD;AACDC,uBAAiBS,IAAjB;AACD;;AAED,aAAS6B,YAAT,CAAuBC,CAAvB,EAA0B;AACxB,UAAIC,CAAJ;;AAEAD,UAAIA,KAAK,EAAT;AACAC,UAAID,EAAErD,QAAN;AACAlH,aAAOyK,cAAP,CAAsBF,CAAtB,EAAyB,UAAzB,EAAqC;AACnCG,aAAKL,MAD8B;AAEnCM,aAAK,eAAY;AAAE,iBAAO3C,cAAP;AAAuB,SAFP;AAGnC4C,oBAAY;AAHuB,OAArC;AAKAzC,kBAAYoC,CAAZ;AACAF,aAAOG,CAAP;AACD;;AAEDxK,WAAOyK,cAAP,CAAsB5B,SAAtB,EAAiC,UAAjC,EAA6C;AAC3C6B,WAAKJ,YADsC;AAE3CK,WAAK,eAAY;AAAE,eAAOxC,SAAP;AAAkB;AAFM,KAA7C;;AAKA;AACAU,cAAUgC,QAAV,GAAqB,OAAO5N,IAAP,KAAgB,WAAhB,IAA+BA,KAAK4N,QAApC,IAAgD,EAArE;AACAhC,cAAU6B,GAAV,GAAgBL,MAAhB;AACAxB,cAAU/C,SAAV,GAAsBA,SAAtB;;AAEA+C,cAAUvB,SAAV,GAAsBA,SAAtB;AACAuB,cAAUxB,SAAV,GAAsBA,SAAtB;AACAwB,cAAUtB,SAAV,GAAsBA,SAAtB;AACAsB,cAAUjB,SAAV,GAAsBA,SAAtB;;AAEA,WAAOiB,SAAP;AAED,GAjOc,EAAf;;AAmOA;;;;;;;;AAQA;AACA,MAAIG,OAAQ,YAAY;;AAEtB,QAAId,SAAS,EAAb;;AAEA,aAAS4C,KAAT,CAAgB/B,GAAhB,EAAqBgC,IAArB,EAA2B;AACzB,UAAI,CAAChC,GAAL,EAAU;AAAE,eAAOA,GAAP;AAAY;;AAExB,aAAO,CAACb,OAAOa,GAAP,MAAgBb,OAAOa,GAAP,IAAcP,QAAQO,GAAR,CAA9B,CAAD,EAA8CpI,IAA9C,CACLoK,IADK,EACCC,QAAQC,IAAR,CAAa;AACjBF,cAAMA,IADW;AAEjB/B,cAAMD;AAFW,OAAb,CADD,CAAP;AAMD;;AAED+B,UAAMd,OAAN,GAAgB9C,SAAS8C,OAAzB;;AAEAc,UAAMb,QAAN,GAAiB/C,SAAS+C,QAA1B;;AAEA;AACAa,UAAMI,UAAN,GAAmB,YAAY;AAAEhD,eAAS,EAAT;AAAc,KAA/C;;AAEA4C,UAAMK,YAAN,GAAqB,IAArB;;AAEA,aAASH,OAAT,CAAkBI,GAAlB,EAAuB5K,GAAvB,EAA4B;;AAE1B4K,UAAIC,QAAJ,GAAe;AACbC,iBAAS9K,OAAOA,IAAI+K,EAAX,IAAiB/K,IAAI+K,EAAJ,CAAOD,OADpB;AAEbE,kBAAUhL,OAAOA,IAAIgL,QAFR,CAEkB;AAFlB,OAAf;;AAKA,UAAIV,MAAMK,YAAV,EAAwB;AAAEL,cAAMK,YAAN,CAAmBC,GAAnB;AAA0B,OAApD,MACK,IACH,OAAOK,OAAP,KAAmB,WAAnB,IACA,OAAOA,QAAQC,KAAf,KAAyB,UAFtB,EAGH;AACAD,gBAAQC,KAAR,CAAcN,IAAIO,OAAlB;AACAF,gBAAQG,GAAR,CAAY,SAAZ,EAAuBR,IAAIC,QAAJ,CAAaC,OAAb,IAAwB,aAA/C,EAA8D,KAAKtC,IAAnE,EAFA,CAE0E;AAC1EyC,gBAAQG,GAAR,CAAY,KAAKb,IAAjB,EAHA,CAGwB;AACzB;AACF;;AAED,aAASvC,OAAT,CAAkBO,GAAlB,EAAuB;AACrB,UAAImB,OAAO2B,SAAS9C,GAAT,CAAX;;AAEA,UAAImB,KAAKxJ,KAAL,CAAW,CAAX,EAAc,EAAd,MAAsB,aAA1B,EAAyC;AAAEwJ,eAAO,YAAYA,IAAnB;AAA0B;;AAErE,aAAO,IAAI4B,QAAJ,CAAa,GAAb,EAAkB5B,OAAO,GAAzB,CAAP,CALqB,CAKmB;AACzC;;AAED,QAAI6B,YAAY,SAAhB;AACA,QAAIC,YAAY,eAAhB;;AAEA,aAASH,QAAT,CAAmB9C,GAAnB,EAAwB;AACtB,UAAIG,QAAQhC,SAASyB,KAAT,CAAeI,IAAIR,OAAJ,CAAYwD,SAAZ,EAAuB,GAAvB,CAAf,EAA4C,CAA5C,CAAZ;AACA,UAAIE,OAAO/C,MAAME,OAAjB;AACA,UAAIc,IAAJ;;AAEA,UAAIhB,MAAMpC,MAAN,GAAe,CAAf,IAAoBoC,MAAM,CAAN,CAAxB,EAAkC;AAChC,YAAIgD,CAAJ;AAAA,YAAOC,CAAP;AAAA,YAAUC,OAAO,EAAjB;;AAEA,aAAKF,IAAIC,IAAI,CAAb,EAAgBD,IAAIhD,MAAMpC,MAA1B,EAAkC,EAAEoF,CAApC,EAAuC;;AAErChC,iBAAOhB,MAAMgD,CAAN,CAAP;;AAEA,cAAIhC,SAASA,OAAOgC,IAAI,CAAJ,GAEdG,WAAWnC,IAAX,EAAiB,CAAjB,EAAoB+B,IAApB,CAFc,GAId,MAAM/B,KACH3B,OADG,CACK,KADL,EACY,MADZ,EAEHA,OAFG,CAEK,WAFL,EAEkB,KAFlB,EAGHA,OAHG,CAGK,IAHL,EAGW,KAHX,CAAN,GAIA,GARF,CAAJ,EAUK;AAAE6D,iBAAKD,GAAL,IAAYjC,IAAZ;AAAmB;AAE3B;;AAEDA,eAAOiC,IAAI,CAAJ,GAAQC,KAAK,CAAL,CAAR,GACA,MAAMA,KAAKxG,IAAL,CAAU,GAAV,CAAN,GAAuB,YAD9B;AAGD,OAxBD,MAwBO;;AAELsE,eAAOmC,WAAWnD,MAAM,CAAN,CAAX,EAAqB,CAArB,EAAwB+C,IAAxB,CAAP;AACD;;AAED,UAAIA,KAAKnF,MAAT,EAAiB;AACfoD,eAAOA,KAAK3B,OAAL,CAAayD,SAAb,EAAwB,UAAUM,CAAV,EAAa9F,GAAb,EAAkB;AAC/C,iBAAOyF,KAAKzF,GAAL,EACJ+B,OADI,CACI,KADJ,EACW,KADX,EAEJA,OAFI,CAEI,KAFJ,EAEW,KAFX,CAAP;AAGD,SAJM,CAAP;AAKD;AACD,aAAO2B,IAAP;AACD;;AAED,QAAIqC,YAAY,0DAAhB;AACA,QACEC,WAAW;AACT,WAAK,OADI;AAET,WAAK,QAFI;AAGT,WAAK;AAHI,KADb;;AAOA,aAASH,UAAT,CAAqBnC,IAArB,EAA2BuC,MAA3B,EAAmCR,IAAnC,EAAyC;;AAEvC/B,aAAOA,KACJ3B,OADI,CACI,MADJ,EACY,GADZ,EACiB4B,IADjB,GAEJ5B,OAFI,CAEI,uBAFJ,EAE6B,IAF7B,CAAP;;AAIA,UAAI2B,IAAJ,EAAU;AACR,YACEkC,OAAO,EADT;AAAA,YAEEM,MAAM,CAFR;AAAA,YAGE7F,KAHF;;AAKA,eAAOqD,SACArD,QAAQqD,KAAKrD,KAAL,CAAW0F,SAAX,CADR,KAED,CAAC1F,MAAM0C,KAFb,EAGI;AACF,cACEzJ,GADF;AAAA,cAEE6M,GAFF;AAAA,cAGEhG,KAAK,cAHP;;AAKAuD,iBAAOxC,OAAOkF,YAAd;AACA9M,gBAAO+G,MAAM,CAAN,IAAWoF,KAAKpF,MAAM,CAAN,CAAL,EAAenG,KAAf,CAAqB,CAArB,EAAwB,CAAC,CAAzB,EAA4ByJ,IAA5B,GAAmC5B,OAAnC,CAA2C,MAA3C,EAAmD,GAAnD,CAAX,GAAqE1B,MAAM,CAAN,CAA5E;;AAEA,iBAAO8F,MAAM,CAAC9F,QAAQF,GAAGpD,IAAH,CAAQ2G,IAAR,CAAT,EAAwB,CAAxB,CAAb,EAAyC;AAAE2C,uBAAWF,GAAX,EAAgBhG,EAAhB;AAAsB;;AAEjEgG,gBAAOzC,KAAKxJ,KAAL,CAAW,CAAX,EAAcmG,MAAM0C,KAApB,CAAP;AACAW,iBAAOxC,OAAOkF,YAAd;;AAEAR,eAAKM,KAAL,IAAcI,UAAUH,GAAV,EAAe,CAAf,EAAkB7M,GAAlB,CAAd;AACD;;AAEDoK,eAAO,CAACwC,GAAD,GAAOI,UAAU5C,IAAV,EAAgBuC,MAAhB,CAAP,GACAC,MAAM,CAAN,GAAU,MAAMN,KAAKxG,IAAL,CAAU,GAAV,CAAN,GAAuB,oBAAjC,GAAwDwG,KAAK,CAAL,CAD/D;AAED;AACD,aAAOlC,IAAP;;AAEA,eAAS2C,UAAT,CAAqBrD,EAArB,EAAyB7C,EAAzB,EAA6B;AAC3B,YACEoG,EADF;AAAA,YAEEC,KAAK,CAFP;AAAA,YAGEC,KAAKT,SAAShD,EAAT,CAHP;;AAKAyD,WAAGrG,SAAH,GAAeD,GAAGC,SAAlB;AACA,eAAOmG,KAAKE,GAAG1J,IAAH,CAAQ2G,IAAR,CAAZ,EAA2B;AACzB,cAAI6C,GAAG,CAAH,MAAUvD,EAAd,EAAkB;AAAE,cAAEwD,EAAF;AAAO,WAA3B,MACK,IAAI,CAAC,GAAEA,EAAP,EAAW;AAAE;AAAO;AAC1B;AACDrG,WAAGC,SAAH,GAAeoG,KAAK9C,KAAKpD,MAAV,GAAmBmG,GAAGrG,SAArC;AACD;AACF;;AAED;AACA,QAAI;AACFsG,iBAAa,oBAAoB,QAAO5O,MAAP,yCAAOA,MAAP,OAAkB,QAAlB,GAA6B,QAA7B,GAAwC,QAA5D,IAAwE,IADvF;AAAA,QAEE6O,aAAa,mKAFf;AAAA,QAGEC,aAAa,+BAHf;;AAKA,aAASN,SAAT,CAAoB5C,IAApB,EAA0BuC,MAA1B,EAAkC3M,GAAlC,EAAuC;AACrC,UAAIuN,EAAJ;;AAEAnD,aAAOA,KAAK3B,OAAL,CAAa4E,UAAb,EAAyB,UAAUtG,KAAV,EAAiByG,CAAjB,EAAoBC,IAApB,EAA0B/G,GAA1B,EAA+BN,CAA/B,EAAkC;AAChE,YAAIqH,IAAJ,EAAU;AACR/G,gBAAM6G,KAAK,CAAL,GAAS7G,MAAMK,MAAMC,MAA3B;;AAEA,cAAIyG,SAAS,MAAT,IAAmBA,SAAS,QAA5B,IAAwCA,SAAS,QAArD,EAA+D;AAC7D1G,oBAAQyG,IAAI,IAAJ,GAAWC,IAAX,GAAkBL,UAAlB,GAA+BK,IAAvC;AACA,gBAAI/G,GAAJ,EAAS;AAAE6G,mBAAK,CAACnH,IAAIA,EAAEM,GAAF,CAAL,MAAiB,GAAjB,IAAwBN,MAAM,GAA9B,IAAqCA,MAAM,GAAhD;AAAsD;AAClE,WAHD,MAGO,IAAIM,GAAJ,EAAS;AACd6G,iBAAK,CAACD,WAAWhO,IAAX,CAAgB8G,EAAExF,KAAF,CAAQ8F,GAAR,CAAhB,CAAN;AACD;AACF;AACD,eAAOK,KAAP;AACD,OAZM,CAAP;;AAcA,UAAIwG,EAAJ,EAAQ;AACNnD,eAAO,gBAAgBA,IAAhB,GAAuB,sBAA9B;AACD;;AAED,UAAIpK,GAAJ,EAAS;;AAEPoK,eAAO,CAACmD,KACF,gBAAgBnD,IAAhB,GAAuB,cADrB,GACsC,MAAMA,IAAN,GAAa,GADpD,IAED,IAFC,GAEMpK,GAFN,GAEY,MAFnB;AAID,OAND,MAMO,IAAI2M,MAAJ,EAAY;;AAEjBvC,eAAO,kBAAkBmD,KACnBnD,KAAK3B,OAAL,CAAa,SAAb,EAAwB,IAAxB,CADmB,GACa,QAAQ2B,IAAR,GAAe,GAD9C,IAED,mCAFN;AAGD;;AAED,aAAOA,IAAP;AACD;;AAEDY,UAAM0C,OAAN,GAAgBtG,SAASsG,OAAT,GAAmB,QAAnC;;AAEA,WAAO1C,KAAP;AAED,GA5MU,EAAX;;AA8MA;AACA,MAAI2C,eAAe,SAAfA,YAAe,CAASrM,EAAT,EAAa;;AAE9B;;;;;AAKAA,SAAKA,MAAM,EAAX;;AAEA;;;AAGA,QAAIsM,YAAY,EAAhB;AAAA,QACEhN,QAAQf,MAAMc,SAAN,CAAgBC,KAD1B;;AAGA;;;;AAIA;AACAV,WAAO2N,gBAAP,CAAwBvM,EAAxB,EAA4B;AAC1B;;;;;;;AAOAwM,UAAI;AACFzO,eAAO,eAAS0O,KAAT,EAAgB5J,EAAhB,EAAoB;AACzB,cAAI,OAAOA,EAAP,IAAa,UAAjB,EACE;AAAE,aAACyJ,UAAUG,KAAV,IAAmBH,UAAUG,KAAV,KAAoB,EAAxC,EAA4CtI,IAA5C,CAAiDtB,EAAjD;AAAuD;AAC3D,iBAAO7C,EAAP;AACD,SALC;AAMFwJ,oBAAY,KANV;AAOF1K,kBAAU,KAPR;AAQF4N,sBAAc;AARZ,OARsB;;AAmB1B;;;;;;AAMAC,WAAK;AACH5O,eAAO,eAAS0O,KAAT,EAAgB5J,EAAhB,EAAoB;AACzB,cAAI4J,SAAS,GAAT,IAAgB,CAAC5J,EAArB,EAAyB;AAAEyJ,wBAAY,EAAZ;AAAiB,WAA5C,MACK;AACH,gBAAIzJ,EAAJ,EAAQ;AACN,kBAAIyE,MAAMgF,UAAUG,KAAV,CAAV;AACA,mBAAK,IAAI3B,IAAI,CAAR,EAAW8B,EAAhB,EAAoBA,KAAKtF,OAAOA,IAAIwD,CAAJ,CAAhC,EAAwC,EAAEA,CAA1C,EAA6C;AAC3C,oBAAI8B,MAAM/J,EAAV,EAAc;AAAEyE,sBAAIuF,MAAJ,CAAW/B,GAAX,EAAgB,CAAhB;AAAqB;AACtC;AACF,aALD,MAKO;AAAE,qBAAOwB,UAAUG,KAAV,CAAP;AAA0B;AACpC;AACD,iBAAOzM,EAAP;AACD,SAZE;AAaHwJ,oBAAY,KAbT;AAcH1K,kBAAU,KAdP;AAeH4N,sBAAc;AAfX,OAzBqB;;AA2C1B;;;;;;;AAOAI,WAAK;AACH/O,eAAO,eAAS0O,KAAT,EAAgB5J,EAAhB,EAAoB;AACzB,mBAAS2J,EAAT,GAAc;AACZxM,eAAG2M,GAAH,CAAOF,KAAP,EAAcD,EAAd;AACA3J,eAAGkK,KAAH,CAAS/M,EAAT,EAAagN,SAAb;AACD;AACD,iBAAOhN,GAAGwM,EAAH,CAAMC,KAAN,EAAaD,EAAb,CAAP;AACD,SAPE;AAQHhD,oBAAY,KART;AASH1K,kBAAU,KATP;AAUH4N,sBAAc;AAVX,OAlDqB;;AA+D1B;;;;;;AAMAO,eAAS;AACPlP,eAAO,eAAS0O,KAAT,EAAgB;AACrB,cAAIS,cAAcF,SAAlB;;AAGA;AACA,cAAIG,SAASH,UAAUtH,MAAV,GAAmB,CAAhC;AAAA,cACE0H,OAAO,IAAI7O,KAAJ,CAAU4O,MAAV,CADT;AAAA,cAEEE,GAFF;AAAA,cAGExK,EAHF;AAAA,cAIEiI,CAJF;;AAMA,eAAKA,IAAI,CAAT,EAAYA,IAAIqC,MAAhB,EAAwBrC,GAAxB,EAA6B;AAC3BsC,iBAAKtC,CAAL,IAAUoC,YAAYpC,IAAI,CAAhB,CAAV,CAD2B,CACG;AAC/B;;AAEDuC,gBAAM/N,MAAMC,IAAN,CAAW+M,UAAUG,KAAV,KAAoB,EAA/B,EAAmC,CAAnC,CAAN;;AAEA,eAAK3B,IAAI,CAAT,EAAYjI,KAAKwK,IAAIvC,CAAJ,CAAjB,EAAyB,EAAEA,CAA3B,EAA8B;AAC5BjI,eAAGkK,KAAH,CAAS/M,EAAT,EAAaoN,IAAb;AACD;;AAED,cAAId,UAAU,GAAV,KAAkBG,SAAS,GAA/B,EACE;AAAEzM,eAAGiN,OAAH,CAAWF,KAAX,CAAiB/M,EAAjB,EAAqB,CAAC,GAAD,EAAMyM,KAAN,EAAalI,MAAb,CAAoB6I,IAApB,CAArB;AAAkD;;AAEtD,iBAAOpN,EAAP;AACD,SA1BM;AA2BPwJ,oBAAY,KA3BL;AA4BP1K,kBAAU,KA5BH;AA6BP4N,sBAAc;AA7BP;AArEiB,KAA5B;;AAsGA,WAAO1M,EAAP;AAED,GA5HD;;AA8HA;;;;;;AAMA,WAASsN,IAAT,CAActC,IAAd,EAAoBnI,EAApB,EAAwB;AACtB,QAAI0K,MAAMvC,OAAOA,KAAKtF,MAAZ,GAAqB,CAA/B;AACA,QAAIoF,IAAI,CAAR;AACA,WAAOA,IAAIyC,GAAX,EAAgB,EAAEzC,CAAlB,EAAqB;AACnBjI,SAAGmI,KAAKF,CAAL,CAAH,EAAYA,CAAZ;AACD;AACD,WAAOE,IAAP;AACD;;AAED;;;;;;AAMA,WAASwC,QAAT,CAAkBxE,KAAlB,EAAyByE,IAAzB,EAA+B;AAC7B,WAAOzE,MAAMpD,OAAN,CAAc6H,IAAd,MAAwB,CAAC,CAAhC;AACD;;AAED;;;;;AAKA,WAASC,OAAT,CAAiB/F,GAAjB,EAAsB;AACpB,WAAOA,IAAIR,OAAJ,CAAY,QAAZ,EAAsB,UAAU+D,CAAV,EAAavF,CAAb,EAAgB;AAAE,aAAOA,EAAEgI,WAAF,EAAP;AAAyB,KAAjE,CAAP;AACD;;AAED;;;;;;AAMA,WAASC,UAAT,CAAoBjG,GAApB,EAAyB5J,KAAzB,EAAgC;AAC9B,WAAO4J,IAAIrI,KAAJ,CAAU,CAAV,EAAavB,MAAM2H,MAAnB,MAA+B3H,KAAtC;AACD;;AAED;;;;;;;;AAQA,WAASsL,cAAT,CAAwBrJ,EAAxB,EAA4BtB,GAA5B,EAAiCX,KAAjC,EAAwC8P,OAAxC,EAAiD;AAC/CjP,WAAOyK,cAAP,CAAsBrJ,EAAtB,EAA0BtB,GAA1B,EAA+BoP,OAAO;AACpC/P,aAAOA,KAD6B;AAEpCyL,kBAAY,KAFwB;AAGpC1K,gBAAU,KAH0B;AAIpC4N,oBAAc;AAJsB,KAAP,EAK5BmB,OAL4B,CAA/B;AAMA,WAAO7N,EAAP;AACD;;AAED;;;;;;;;;;AAUA,WAAS8N,MAAT,CAAgBC,GAAhB,EAAqB;AACnB,QAAItP,GAAJ;AAAA,QAAS2O,OAAOJ,SAAhB;AACA,SAAK,IAAIlC,IAAI,CAAb,EAAgBA,IAAIsC,KAAK1H,MAAzB,EAAiC,EAAEoF,CAAnC,EAAsC;AACpC,UAAIrM,MAAM2O,KAAKtC,CAAL,CAAV,EAAmB;AACjB,aAAK,IAAIpM,GAAT,IAAgBD,GAAhB,EAAqB;AACnB;AACA,cAAID,WAAWuP,GAAX,EAAgBrP,GAAhB,CAAJ,EACE;AAAEqP,gBAAIrP,GAAJ,IAAWD,IAAIC,GAAJ,CAAX;AAAsB;AAC3B;AACF;AACF;AACD,WAAOqP,GAAP;AACD;;AAED,MAAIC,OAAOpP,OAAOK,MAAP,CAAc;AACxBqO,UAAMA,IADkB;AAExBE,cAAUA,QAFc;AAGxBE,aAASA,OAHe;AAIxBE,gBAAYA,UAJY;AAKxBvE,oBAAgBA,cALQ;AAMxByE,YAAQA;AANgB,GAAd,CAAX;;AASA,MAAIG,aAAaH,OAAOlP,OAAOsP,MAAP,CAAcpI,SAAS2D,QAAvB,CAAP,EAAyC;AACxD0E,uBAAmB,IADqC;AAExD;AACAC,gBAAY;AAH4C,GAAzC,CAAjB;;AAMA;;;;;;AAMA,WAASC,WAAT,CAAqBlN,GAArB,EAA0BmN,OAA1B,EAAmCC,CAAnC,EAAsC;AACpC,QAAIC,OAAO,KAAKrE,EAAL,CAAQsE,MAAnB;AAAA,QACEhB,OAAO,KAAKtD,EAAL,CAAQsD,IADjB;;AAGA,QAAI,CAACA,IAAL,EACE;AAAE,aAAOe,QAAQ,CAACf,IAAhB,EAAsB;AACtBA,eAAOe,KAAKrE,EAAL,CAAQsD,IAAf;AACAe,eAAOA,KAAKrE,EAAL,CAAQsE,MAAf;AACD;AAAE;;AAEL;AACA;AACA,QAAIjQ,WAAW+P,CAAX,EAAc,eAAd,CAAJ,EAAoC;AAAEA,QAAEG,aAAF,GAAkBvN,GAAlB;AAAwB;AAC9D;AACA,QAAI3C,WAAW+P,CAAX,EAAc,QAAd,CAAJ,EAA6B;AAAEA,QAAEI,MAAF,GAAWJ,EAAEK,UAAb;AAA0B;AACzD;AACA,QAAIpQ,WAAW+P,CAAX,EAAc,OAAd,CAAJ,EAA4B;AAAEA,QAAEM,KAAF,GAAUN,EAAEO,QAAF,IAAcP,EAAEQ,OAA1B;AAAoC;;AAElER,MAAEd,IAAF,GAASA,IAAT;;AAEAa,YAAQ/O,IAAR,CAAa,IAAb,EAAmBgP,CAAnB;;AAEA;AACA,QAAI,CAACN,WAAWG,UAAhB,EAA4B;AAAE;AAAQ;;AAEtC,QAAI,CAACG,EAAES,aAAP,EAAsB;AACpB,UAAI9C,IAAI+C,4BAA4B,IAA5B,CAAR;AACA;AACA,UAAI/C,EAAEgD,SAAN,EAAiB;AAAEhD,UAAEiD,MAAF;AAAa;AACjC;AACF;;AAED;;;;;;;AAOA,WAASC,eAAT,CAAyBjP,IAAzB,EAA+BmO,OAA/B,EAAwCnN,GAAxC,EAA6CkO,GAA7C,EAAkD;AAChD,QAAIC,SAAJ;AAAA,QACE1C,KAAKyB,YAAYxE,IAAZ,CAAiBwF,GAAjB,EAAsBlO,GAAtB,EAA2BmN,OAA3B,CADP;;AAGA;AACA;AACAnN,QAAIhB,IAAJ,IAAY,IAAZ;;AAEA;AACAmP,gBAAYnP,KAAKgH,OAAL,CAAa7J,gBAAb,EAA+B,EAA/B,CAAZ;;AAEA;AACA,QAAI,CAACkQ,SAAS6B,IAAIlF,EAAJ,CAAOoF,SAAhB,EAA2BpO,GAA3B,CAAL,EAAsC;AAAEkO,UAAIlF,EAAJ,CAAOoF,SAAP,CAAiBpL,IAAjB,CAAsBhD,GAAtB;AAA6B;AACrE,QAAI,CAACA,IAAI1E,eAAJ,CAAL,EAA2B;AAAE0E,UAAI1E,eAAJ,IAAuB,EAAvB;AAA4B;AACzD,QAAI0E,IAAI1E,eAAJ,EAAqB0D,IAArB,CAAJ,EAAgC;AAAEgB,UAAIqO,mBAAJ,CAAwBF,SAAxB,EAAmCnO,IAAI1E,eAAJ,EAAqB0D,IAArB,CAAnC;AAAiE;;AAEnGgB,QAAI1E,eAAJ,EAAqB0D,IAArB,IAA6ByM,EAA7B;AACAzL,QAAIsO,gBAAJ,CAAqBH,SAArB,EAAgC1C,EAAhC,EAAoC,KAApC;AACD;;AAED;;;;;;AAMA,WAAS8C,YAAT,CAAsB5G,IAAtB,EAA4B2F,MAA5B,EAAoCvE,OAApC,EAA6C;AAC3C,QAAIyF,IAAJ,EAAUC,SAAV,EAAqBC,IAArB,EAA2BC,GAA3B;;AAEA,QAAIhH,KAAKuG,GAAL,IAAYvG,KAAKoB,OAAL,KAAiBA,OAAjC,EAA0C;AACxCpB,WAAKuG,GAAL,CAASF,MAAT;AACA;AACD;;AAEDS,gBAAY9G,KAAK3H,GAAL,CAAS+I,OAAT,KAAqB,SAAjC;AACA;AACA,QAAIpB,KAAKuG,GAAT,EAAc;AACZ;AACA,UAAGO,SAAH,EAAc;AACZC,eAAO/G,KAAKuG,GAAL,CAASlF,EAAT,CAAY0F,IAAnB;AACAC,cAAMjQ,sBAAN;AACAgQ,aAAKlN,UAAL,CAAgBD,YAAhB,CAA6BoN,GAA7B,EAAkCD,IAAlC;AACD;;AAED/G,WAAKuG,GAAL,CAASU,OAAT,CAAiB,IAAjB;AACD;;AAED,QAAI,CAAC3R,SAAS8L,OAAT,CAAL,EAAwB;AAAE;AAAQ;;AAElCpB,SAAKkH,IAAL,GAAYjU,WAAWmO,OAAX,CAAZ;AACAyF,WAAO,EAACpN,MAAMuG,KAAK3H,GAAZ,EAAiBsN,QAAQA,MAAzB,EAAiCwB,SAAS,IAA1C,EAAgD/F,SAASA,OAAzD,EAAP;AACApB,SAAKuG,GAAL,GAAWa,aAAapH,KAAKkH,IAAlB,EAAwBL,IAAxB,EAA8B7G,KAAK3H,GAAL,CAASV,SAAvC,EAAkDgO,MAAlD,CAAX;AACAnB,SAAKxE,KAAKqH,KAAV,EAAiB,UAAUC,CAAV,EAAa;AAAE,aAAOpO,QAAQ8G,KAAKuG,GAAL,CAAS9M,IAAjB,EAAuB6N,EAAEjQ,IAAzB,EAA+BiQ,EAAErS,KAAjC,CAAP;AAAiD,KAAjF;AACA+K,SAAKoB,OAAL,GAAeA,OAAf;AACApB,SAAKuG,GAAL,CAASgB,KAAT;AACA,QAAIT,SAAJ,EACE;AAAEU,yBAAmBxH,KAAKuG,GAAxB,EAA6BS,OAAOhH,KAAKuG,GAAL,CAAS9M,IAA7C;AAAqD,KA9Bd,CA8Be;;AAE1D;AACAkM,WAAOtE,EAAP,CAAUoG,SAAV,GAAsB,YAAW;AAC/B,UAAIC,UAAU1H,KAAKuG,GAAL,CAASoB,IAAT,CAAcC,MAA5B;AAAA,UACEC,OAAO7H,KAAKuG,GAAL,CAASZ,MAAT,CAAgBkC,IADzB;AAAA,UAEEC,QAAQ9H,KAAKuG,GAAL,CAASlF,EAAT,CAAYsE,MAAZ,CAAmBkC,IAF7B;AAGAE,qBAAeF,IAAf,EAAqBH,OAArB,EAA8B1H,KAAKuG,GAAnC;AACAwB,qBAAeD,KAAf,EAAsBJ,OAAtB,EAA+B1H,KAAKuG,GAApC;AACAvG,WAAKuG,GAAL,CAASU,OAAT;AACD,KAPD;AAQD;;AAED;;;;;AAKA,WAASe,iBAAT,CAA2BC,QAA3B,EAAqC;AACnC,QAAI,CAACA,QAAL,EAAe;AAAE,aAAO,IAAP;AAAa;AAC9BA,eAAWA,SAAS5J,OAAT,CAAiBlL,YAAjB,EAA+B,EAA/B,CAAX;AACA,QAAIwB,0BAA0BsT,QAA1B,CAAJ,EAAyC;AAAEA,iBAAWtT,0BAA0BsT,QAA1B,CAAX;AAAiD;AAC5F,WAAOA,QAAP;AACD;;AAED;;;;;;AAMA,WAASC,gBAAT,CAA0BlI,IAA1B,EAAgC;AAC9B,QAAI,KAAKvG,IAAL,IAAaT,QAAQ,KAAKS,IAAb,EAAkB,aAAlB,CAAjB,EAAmD;AAAE;AAAQ;;AAE7D,QAAIpB,MAAM2H,KAAK3H,GAAf;;AACE;AACA4P,eAAWD,kBAAkBhI,KAAKmI,IAAvB,CAFb;AAAA,QAGEC,WAAW1D,SAAS,CAACjR,cAAD,EAAiBC,cAAjB,CAAT,EAA2CuU,QAA3C,CAHb;AAAA,QAIEnB,YAAY9G,KAAKvG,IAAL,IAAauG,KAAKvG,IAAL,CAAU2H,OAAV,KAAsB,SAJjD;AAAA,QAKEuE,SAAStN,QAAQ2H,KAAK2F,MAAL,IAAetN,IAAIwB,UAA3B,CALX;;AAME;AACAwO,kBAAcJ,aAAa,OAP7B;AAAA,QAQEK,cAAcL,aAAa,OAR7B;AAAA,QASEM,QATF;AAAA,QAUEC,KAVF;AAAA,QAWEvT,KAXF;;AAaA;AACA,QAAI+K,KAAKsB,QAAT,EAAmB;AACjB,UAAItB,KAAKoG,SAAT,EAAoB;AAClBpG,aAAKqG,MAAL;AACF;AACC,OAHD,MAGO;AACLrG,aAAKuH,KAAL;AACA,YAAIT,SAAJ,EAAe;AACbU,6BAAmBxH,IAAnB,EAAyBA,KAAKvG,IAA9B;AACD;AACF;AACD;AACD;AACD;AACA,QAAIuG,KAAKqG,MAAT,EAAiB;AAAE,aAAOrG,KAAKqG,MAAL,EAAP;AAAsB;;AAEzC;AACApR,YAAQ6J,KAAKkB,KAAKA,IAAV,EAAgBoI,WAAWpD,OAAO,EAAP,EAAWlP,OAAOsP,MAAP,CAAc,KAAKO,MAAnB,CAAX,EAAuC,IAAvC,CAAX,GAA0D,IAA1E,CAAR;AACA4C,eAAW,CAAChT,QAAQN,KAAR,CAAZ;AACAuT,YAAQpT,SAASH,KAAT,CAAR;;AAEA;AACA,QAAIuT,KAAJ,EAAW;AACTA,cAAQ,CAACF,WAAD,IAAgB,CAACD,WAAzB;AACA,UAAIC,WAAJ,EAAiB;AACfrT,gBAAQ6J,KAAK2J,KAAKC,SAAL,CAAezT,KAAf,CAAL,EAA4B,IAA5B,CAAR;AACD,OAFD,MAEO,IAAIoT,WAAJ,EAAiB;AACtBpT,gBAAQ0D,oBAAoB1D,KAApB,CAAR;AACD;AACF;;AAED;AACA,QAAI+K,KAAKmI,IAAL,KAAc,CAACnI,KAAK2I,aAAN,IAAuB,CAACJ,QAAxB,IAAoCtT,UAAU,KAA5D,CAAJ,EAAwE;AACtEwD,cAAQJ,GAAR,EAAa2H,KAAKmI,IAAlB;AACAnI,WAAK2I,aAAL,GAAqB,IAArB;AACD;;AAED;AACA;AACA,QAAI3I,KAAK4I,IAAT,EAAe;AAAE3T,cAAQA,QAAQgT,QAAR,GAAmB,KAA3B;AAAmC;AACpD,QAAIjI,KAAK6I,MAAT,EAAiB;AAAE,aAAOjC,aAAa5G,IAAb,EAAmB,IAAnB,EAAyB/K,KAAzB,CAAP;AAAwC;AAC3D,QAAI+K,KAAK8I,aAAL,IAAsB9I,KAAK/K,KAAL,KAAeA,KAAzC,EAAgD;AAAE;AAAQ;;AAE1D;AACA+K,SAAK/K,KAAL,GAAaA,KAAb;AACA+K,SAAK8I,aAAL,GAAqB,IAArB;;AAEA;AACA,QAAIN,SAAS,CAACJ,QAAd,EAAwB;AAAE;AAAQ;AAClC;AACA,QAAI7S,QAAQN,KAAR,CAAJ,EAAoB;AAAEA,cAAQ,EAAR;AAAa;;AAEnC;AACA,QAAI,CAACgT,QAAL,EAAe;AACb;AACA;AACAhT,eAAS,EAAT;AACA;AACA,UAAI0Q,MAAJ,EAAY;AACV;AACA;AACA3F,aAAK2F,MAAL,GAAcA,MAAd;AACA,YAAIA,OAAOvE,OAAP,KAAmB,UAAvB,EAAmC;AACjCuE,iBAAO1Q,KAAP,GAAeA,KAAf,CADiC,CACQ;AACzC,cAAI,CAACJ,UAAL,EAAiB;AAAEwD,gBAAI0Q,SAAJ,GAAgB9T,KAAhB;AAAwB,WAFV,CAEY;AAC9C,SAHD,CAG0C;AAH1C,aAIK;AAAEoD,gBAAI0Q,SAAJ,GAAgB9T,KAAhB;AAAwB;AAChC;AACD;AACD;;AAGD;AACA,QAAIE,WAAWF,KAAX,CAAJ,EAAuB;AACrBqR,sBAAgB2B,QAAhB,EAA0BhT,KAA1B,EAAiCoD,GAAjC,EAAsC,IAAtC;AACF;AACC,KAHD,MAGO,IAAI+P,QAAJ,EAAc;AACnBhQ,uBAAiBC,GAAjB,EAAsB4P,aAAavU,cAAb,GAA8B,CAACuB,KAA/B,GAAuCA,KAA7D;AACF;AACC,KAHM,MAGA;AACL,UAAI+K,KAAK4I,IAAT,EAAe;AACbvQ,YAAI4P,QAAJ,IAAgBhT,KAAhB;AACD;;AAED,UAAIgT,aAAa,OAAb,IAAwB5P,IAAIpD,KAAJ,KAAcA,KAA1C,EAAiD;AAC/CoD,YAAIpD,KAAJ,GAAYA,KAAZ;AACD;;AAED,UAAIsT,YAAYtT,UAAU,KAA1B,EAAiC;AAC/BiE,gBAAQb,GAAR,EAAa4P,QAAb,EAAuBhT,KAAvB;AACD;;AAED;AACA;AACA,UAAIoT,eAAehQ,IAAI2Q,MAAvB,EAA+B;AAAE5Q,yBAAiBC,GAAjB,EAAsB,KAAtB;AAA+B;AACjE;AACF;;AAED;;;;;AAKA,WAAS4Q,oBAAT,CAA8BC,WAA9B,EAA2C;AACzC1E,SAAK0E,WAAL,EAAkBhB,iBAAiBnH,IAAjB,CAAsB,IAAtB,CAAlB;AACD;;AAED,MAAIoI,SAAS;AACXC,UAAM,SAASA,IAAT,CAAc/Q,GAAd,EAAmBkO,GAAnB,EAAwBvG,IAAxB,EAA8B;AAClCvH,cAAQJ,GAAR,EAAa/E,qBAAb;AACA,WAAKiT,GAAL,GAAWA,GAAX;AACA,WAAKvG,IAAL,GAAYA,IAAZ;AACA,WAAKqJ,IAAL,GAAYtS,sBAAZ;AACA,WAAKuS,QAAL,GAAgBjR,GAAhB;;AAEA,UAAI+K,IAAI/K,IAAIwB,UAAZ;AACAuJ,QAAExJ,YAAF,CAAe,KAAKyP,IAApB,EAA0BhR,GAA1B;AACA+K,QAAEmG,WAAF,CAAclR,GAAd;;AAEA,aAAO,IAAP;AACD,KAbU;AAcXgO,YAAQ,SAASA,MAAT,GAAkB;AACxB,WAAKpR,KAAL,GAAa6J,KAAK,KAAKkB,IAAV,EAAgB,KAAKuG,GAArB,CAAb;;AAEA,UAAI,KAAKtR,KAAL,IAAc,CAAC,KAAKuU,OAAxB,EAAiC;AAAE;AACjC,aAAKA,OAAL,GAAe,KAAKF,QAAL,CAAcG,SAAd,CAAwB,IAAxB,CAAf;AACA,aAAKJ,IAAL,CAAUxP,UAAV,CAAqBD,YAArB,CAAkC,KAAK4P,OAAvC,EAAgD,KAAKH,IAArD;AACA,aAAKH,WAAL,GAAmB,EAAnB;AACAQ,yBAAiBzF,KAAjB,CAAuB,KAAKsC,GAA5B,EAAiC,CAAC,KAAKiD,OAAN,EAAe,KAAKN,WAApB,EAAiC,IAAjC,CAAjC;AACD,OALD,MAKO,IAAI,CAAC,KAAKjU,KAAN,IAAe,KAAKuU,OAAxB,EAAiC;AAAE;AACxCG,mBAAW,KAAKT,WAAhB;AACA,YAAI,KAAKM,OAAL,CAAaI,IAAjB,EAAuB;AACrB,eAAKJ,OAAL,CAAaI,IAAb,CAAkB3C,OAAlB;AACD,SAFD,MAEO,IAAI,KAAKuC,OAAL,CAAa3P,UAAjB,EAA6B;AAClC,eAAK2P,OAAL,CAAa3P,UAAb,CAAwB0P,WAAxB,CAAoC,KAAKC,OAAzC;AACD;AACD,aAAKA,OAAL,GAAe,IAAf;AACA,aAAKN,WAAL,GAAmB,EAAnB;AACD;;AAED,UAAI,KAAKjU,KAAT,EAAgB;AAAEgU,6BAAqBxS,IAArB,CAA0B,KAAK8P,GAA/B,EAAoC,KAAK2C,WAAzC;AAAwD;AAC3E,KAlCU;AAmCXjC,aAAS,SAASA,OAAT,GAAmB;AAC1B0C,iBAAW,KAAKT,WAAL,IAAoB,EAA/B;AACD;AArCU,GAAb;;AAwCA,MAAIW,UAAU;AACZT,UAAM,SAASA,IAAT,CAAc/Q,GAAd,EAAmBsN,MAAnB,EAA2BsC,QAA3B,EAAqC6B,SAArC,EAAgD;AACpD,WAAKzR,GAAL,GAAWA,GAAX;AACA,WAAK8P,IAAL,GAAYF,QAAZ;AACA,WAAK8B,QAAL,GAAgBD,SAAhB;AACA,WAAKnE,MAAL,GAAcA,MAAd;AACA,WAAKqE,MAAL,GAAclL,KAAKgB,OAAL,CAAagK,SAAb,CAAd;AACA,aAAO,IAAP;AACD,KARW;AASZzD,YAAQ,SAASA,MAAT,GAAkB;AACxB,UAAI4D,MAAM,KAAKhV,KAAf;AACA,UAAIiV,eAAe,KAAKvE,MAAL,IAAeQ,4BAA4B,KAAKR,MAAjC,CAAlC;AACA;AACA,UAAIwE,WAAW,KAAK9R,GAAL,CAAS+R,KAAT,IAAkB,KAAK7D,GAAvB,IAA8B,KAAKlO,GAAlD;;AAEA,WAAKpD,KAAL,GAAa,KAAK+U,MAAL,GAAclL,KAAK,KAAKiL,QAAV,EAAoB,KAAKpE,MAAzB,CAAd,GAAiD,KAAKoE,QAAnE;;AAEA;AACA,UAAI,CAACxU,QAAQ0U,GAAR,CAAD,IAAiBC,YAArB,EAAmC;AAAEnC,uBAAemC,aAAaG,IAA5B,EAAkCJ,GAAlC,EAAuCE,QAAvC;AAAmD;AACxF,UAAI,CAAC5U,QAAQ,KAAKN,KAAb,CAAD,IAAwBK,SAAS,KAAKL,KAAd,CAA5B,EAAkD;AAChD;AACA,YAAIiV,YAAJ,EAAkB;AAAEI,sBAClBJ,aAAaG,IADK,EAElB,KAAKpV,KAFa,EAGlBkV,QAHkB;AAIlB;AACA,cALkB,EAMlB,KAAKxE,MAAL,CAAYtE,EAAZ,CAAehC,KANG;AAOhB;;AAEJ,YAAI,KAAKpK,KAAL,KAAegV,GAAnB,EAAwB;AACtB/Q,kBAAQ,KAAKb,GAAb,EAAkB,KAAK8P,IAAvB,EAA6B,KAAKlT,KAAlC;AACD;AACF,OAdD,MAcO;AACLwD,gBAAQ,KAAKJ,GAAb,EAAkB,KAAK8P,IAAvB;AACD;;AAED;AACA;AACA,UAAI,CAAC,KAAK9P,GAAL,CAAS+R,KAAd,EAAqB;AAAE,aAAK/R,GAAL,CAAS+R,KAAT,GAAiBD,QAAjB;AAA4B;AACpD,KAxCW;AAyCZlD,aAAS,SAASA,OAAT,GAAmB;AAC1B,UAAIkD,WAAW,KAAK5D,GAAL,IAAY,KAAKlO,GAAhC;AACA,UAAI6R,eAAe,KAAKvE,MAAL,IAAeQ,4BAA4B,KAAKR,MAAjC,CAAlC;AACA,UAAI,CAACpQ,QAAQ,KAAKN,KAAb,CAAD,IAAwBiV,YAA5B,EACE;AAAEnC,uBAAemC,aAAaG,IAA5B,EAAkC,KAAKpV,KAAvC,EAA8CkV,QAA9C;AAA0D;AAC/D;AA9CW,GAAd;;AAiDA;;;;;;;;;;;;;AAaA,WAASI,MAAT,CAAgBvK,IAAhB,EAAsBpK,GAAtB,EAA2BuD,GAA3B,EAAgCqR,IAAhC,EAAsC;AACpC,QAAI7F,OAAO6F,OAAO1U,OAAOsP,MAAP,CAAcoF,IAAd,CAAP,GAA6B,EAAxC;AACA7F,SAAK3E,KAAKpK,GAAV,IAAiBA,GAAjB;AACA,QAAIoK,KAAK1D,GAAT,EAAc;AAAEqI,WAAK3E,KAAK1D,GAAV,IAAiBnD,GAAjB;AAAuB;AACvC,WAAOwL,IAAP;AACD;;AAED;;;;;AAKA,WAAS8F,gBAAT,CAA0BC,KAA1B,EAAiC7C,IAAjC,EAAuC;AACrC,QAAI7F,IAAI6F,KAAKjL,MAAb;AAAA,QACEqF,IAAIyI,MAAM9N,MADZ;;AAGA,WAAOoF,IAAIC,CAAX,EAAc;AACZD;AACA2I,aAAO1G,KAAP,CAAa4D,KAAK7F,CAAL,CAAb,EAAsB,CAAC6F,IAAD,EAAO7F,CAAP,CAAtB;AACD;AACF;;AAGD;;;;;;AAMA,WAAS2I,MAAT,CAAgB9C,IAAhB,EAAsB7F,CAAtB,EAAyB;AACvB6F,SAAK9D,MAAL,CAAY/B,CAAZ,EAAe,CAAf;AACA,SAAKiF,OAAL;AACAc,mBAAe,KAAKpC,MAApB,EAA4B,IAA5B,EAAkC,KAAKtE,EAAL,CAAQD,OAA1C,EAAmD,IAAnD;AACD;;AAED;;;;;AAKA,WAASwJ,cAAT,CAAwB5I,CAAxB,EAA2B;AACzB,QAAI6I,SAAS,IAAb;;AAEArG,SAAK1O,OAAO8C,IAAP,CAAY,KAAKiP,IAAjB,CAAL,EAA6B,UAAUzG,OAAV,EAAmB;AAC9C0J,mBAAa7G,KAAb,CAAmB4G,OAAOhD,IAAP,CAAYzG,OAAZ,CAAnB,EAAyC,CAACA,OAAD,EAAUY,CAAV,CAAzC;AACD,KAFD;AAGD;;AAED;;;;;;;AAOA,WAAS+I,IAAT,CAActR,IAAd,EAAoBuR,OAApB,EAA6BlE,SAA7B,EAAwC;AACtC,QAAIA,SAAJ,EACE;AAAEmE,kBAAYhH,KAAZ,CAAkB,IAAlB,EAAwB,CAACxK,IAAD,EAAOuR,OAAP,CAAxB;AAA2C,KAD/C,MAGE;AAAExR,iBAAWC,IAAX,EAAiB,KAAKA,IAAtB,EAA4BuR,QAAQvR,IAApC;AAA4C;AACjD;;AAED;;;;;;;AAOA,WAASyR,MAAT,CAAgBzR,IAAhB,EAAsBuR,OAAtB,EAA+BlE,SAA/B,EAA0C;AACxC,QAAIA,SAAJ,EACE;AAAEqE,kBAAYlH,KAAZ,CAAkB,IAAlB,EAAwB,CAACxK,IAAD,EAAOuR,OAAP,CAAxB;AAA2C,KAD/C,MAGE;AAAExR,iBAAWC,IAAX,EAAiB,KAAKA,IAAtB,EAA4BuR,QAAQvR,IAApC;AAA4C;AACjD;;AAED;;;;;;AAMA,WAAS2R,MAAT,CAAgB3R,IAAhB,EAAsBqN,SAAtB,EAAiC;AAC/B,QAAIA,SAAJ,EACE;AAAEqE,kBAAY1U,IAAZ,CAAiB,IAAjB,EAAuBgD,IAAvB;AAA+B,KADnC,MAGE;AAAEA,WAAKtB,WAAL,CAAiB,KAAKsB,IAAtB;AAA8B;AACnC;;AAED;;;;;;;AAOA,WAAS4R,KAAT,CAAehT,GAAf,EAAoBsN,MAApB,EAA4B3F,IAA5B,EAAkC;;AAEhC;AACAvH,YAAQJ,GAAR,EAAa9E,cAAb;;AAEA,QAAI+X,cAAc,QAAOtS,QAAQX,GAAR,EAAa7E,yBAAb,CAAP,MAAmDI,QAAnD,IAA+D6E,QAAQJ,GAAR,EAAa7E,yBAAb,CAAjF;AAAA,QACE4N,UAAUmK,WAAWlT,GAAX,CADZ;AAAA,QAEE6O,OAAOjU,WAAWmO,OAAX,CAFT;AAAA,QAGEvH,aAAaxB,IAAIwB,UAHnB;AAAA,QAIE2R,cAAczU,sBAJhB;AAAA,QAKE0U,QAAQC,OAAOrT,GAAP,CALV;AAAA,QAMEsT,SAAS3S,QAAQX,GAAR,EAAa/E,qBAAb,CANX;AAAA,QAOEuU,OAAO,EAPT;AAAA,QAQE+D,WAAW,EARb;AAAA,QASEC,OATF;AAAA,QAUEC,SAAS,IAVX;AAAA,QAWEC,cAAc,CAAC9Y,WAAWmO,OAAX,CAXjB;AAAA,QAYE0F,YAAYzO,IAAI+I,OAAJ,KAAgB,SAZ9B;;AAcA;AACApB,WAAOlB,KAAKiB,QAAL,CAAcC,IAAd,CAAP;AACAA,SAAK8L,MAAL,GAAc,IAAd;;AAEA,QAAIH,MAAJ,EAAY;AAAElT,cAAQJ,GAAR,EAAa/E,qBAAb;AAAsC;;AAEpD;AACAuG,eAAWD,YAAX,CAAwB4R,WAAxB,EAAqCnT,GAArC;AACAwB,eAAW0P,WAAX,CAAuBlR,GAAvB;;AAEA2H,SAAKqG,MAAL,GAAc,SAAS2F,UAAT,GAAsB;AAClC;AACAhM,WAAK/K,KAAL,GAAa6J,KAAKkB,KAAK7G,GAAV,EAAewM,MAAf,CAAb;;AAEA,UAAIsG,OAAOpV,YAAX;AAAA,UACE6T,QAAQ1K,KAAK/K,KADf;AAAA,UAEEiX,cAAc,CAAC1W,QAAQkV,KAAR,CAAD,IAAmB,CAACpV,SAASoV,KAAT,CAFpC;AAAA,UAGEjR,OAAO+R,YAAY3R,UAHrB;;AAKA;AACA;AACA,UAAI,CAACJ,IAAL,EAAW;AAAE;AAAQ;;AAErB;AACA,UAAIyS,WAAJ,EAAiB;AACfL,kBAAUnB,SAAS,KAAnB;AACAA,gBAAQmB,UACN/V,OAAO8C,IAAP,CAAY8R,KAAZ,EAAmBnP,GAAnB,CAAuB,UAAU3F,GAAV,EAAe;AACpC,iBAAO2U,OAAOvK,IAAP,EAAa0K,MAAM9U,GAAN,CAAb,EAAyBA,GAAzB,CAAP;AACD,SAFD,CADM,GAGD,EAHP;AAID,OAND,MAMO;AACLiW,kBAAU,KAAV;AACD;;AAED,UAAIF,MAAJ,EAAY;AACVjB,gBAAQA,MAAMyB,MAAN,CAAa,UAASxH,IAAT,EAAe3C,CAAf,EAAkB;AACrC,cAAIhC,KAAKpK,GAAL,IAAY,CAACsW,WAAjB,EACE;AAAE,mBAAO,CAAC,CAACpN,KAAK6M,MAAL,EAAapB,OAAOvK,IAAP,EAAa2E,IAAb,EAAmB3C,CAAnB,EAAsB2D,MAAtB,CAAb,CAAT;AAAsD;;AAE1D,iBAAO,CAAC,CAAC7G,KAAK6M,MAAL,EAAa3G,OAAOlP,OAAOsP,MAAP,CAAcO,MAAd,CAAP,EAA8BhB,IAA9B,CAAb,CAAT;AACD,SALO,CAAR;AAMD;;AAED;AACAH,WAAKkG,KAAL,EAAY,UAAS/F,IAAT,EAAe3C,CAAf,EAAkB;AAC5B;AACA,YACEoK,YAAYd,eAAe,QAAO3G,IAAP,yCAAOA,IAAP,OAAgB9Q,QAA/B,IAA2C,CAACgY,OAD1D;AAAA,YAEEQ,SAAST,SAAS9O,OAAT,CAAiB6H,IAAjB,CAFX;AAAA,YAGE2H,QAAQD,WAAW,CAAC,CAHtB;AAAA,YAIE/P,MAAM,CAACgQ,KAAD,IAAUF,SAAV,GAAsBC,MAAtB,GAA+BrK,CAJvC;;AAKE;AACAuE,cAAMsB,KAAKvL,GAAL,CANR;AAAA,YAOEiQ,aAAavK,KAAK4J,SAAShP,MAP7B;AAAA,YAQE4P,aAAcJ,aAAaE,KAAb,IAAsB,CAACF,SAAD,IAAc,CAAC7F,GARrD;;AAUA5B,eAAO,CAACkH,OAAD,IAAY7L,KAAKpK,GAAjB,GAAuB2U,OAAOvK,IAAP,EAAa2E,IAAb,EAAmB3C,CAAnB,CAAvB,GAA+C2C,IAAtD;;AAEA;AACA,YAAI6H,UAAJ,EAAgB;AACdjG,gBAAM,IAAIkG,KAAJ,CAAUvF,IAAV,EAAgB;AACpBvB,oBAAQA,MADY;AAEpBmG,oBAAQA,MAFY;AAGpBC,yBAAaA,WAHO;AAIpB3K,qBAASA,OAJW;AAKpB3H,kBAAMpB,IAAIoR,SAAJ,CAAcsC,WAAd,CALc;AAMpBpH,kBAAMA,IANc;AAOpBtF,mBAAO2C;AAPa,WAAhB,EAQH3J,IAAIV,SARD,CAAN;;AAUA;AACA4O,cAAIgB,KAAJ;;AAEA,cAAIgF,UAAJ,EACE;AAAEnB,mBAAOnH,KAAP,CAAasC,GAAb,EAAkB,CAAC0F,QAAQxS,IAAT,EAAeqN,SAAf,CAAlB;AAA+C,WADnD,MAGE;AAAEoE,mBAAOjH,KAAP,CAAasC,GAAb,EAAkB,CAAC9M,IAAD,EAAOoO,KAAK7F,CAAL,CAAP,EAAgB8E,SAAhB,CAAlB;AAAgD;;AAEpD,cAAI,CAACyF,UAAL,EAAiB;AAAEX,qBAAS7H,MAAT,CAAgB/B,CAAhB,EAAmB,CAAnB,EAAsB2C,IAAtB;AAA8B;AACjDkD,eAAK9D,MAAL,CAAY/B,CAAZ,EAAe,CAAf,EAAkBuE,GAAlB;AACA,cAAIkF,KAAJ,EAAW;AAAEnB,wBAAY3E,OAAOkC,IAAnB,EAAyBzG,OAAzB,EAAkCmF,GAAlC,EAAuC,IAAvC;AAA+C;AAC7D,SAtBD,MAsBO,IAAIjK,QAAQ0F,CAAR,IAAaoK,SAAjB,EAA4B;AACjC;AACA,cAAI1H,SAASgG,KAAT,EAAgBkB,SAAStP,GAAT,CAAhB,CAAJ,EAAoC;AAClCyO,iBAAK9G,KAAL,CAAWsC,GAAX,EAAgB,CAAC9M,IAAD,EAAOoO,KAAK7F,CAAL,CAAP,EAAgB8E,SAAhB,CAAhB;AACA;AACAe,iBAAK9D,MAAL,CAAY/B,CAAZ,EAAe,CAAf,EAAkB6F,KAAK9D,MAAL,CAAYzH,GAAZ,EAAiB,CAAjB,EAAoB,CAApB,CAAlB;AACA;AACAsP,qBAAS7H,MAAT,CAAgB/B,CAAhB,EAAmB,CAAnB,EAAsB4J,SAAS7H,MAAT,CAAgBzH,GAAhB,EAAqB,CAArB,EAAwB,CAAxB,CAAtB;AACD;;AAED;AACA,cAAI0D,KAAK1D,GAAT,EAAc;AAAEiK,gBAAIvG,KAAK1D,GAAT,IAAgB0F,CAAhB;AAAoB;;AAEpC;AACA;AACA,cAAI,CAACyJ,KAAD,IAAUlF,IAAIsB,IAAlB,EAAwB;AAAE+C,2BAAenU,IAAf,CAAoB8P,GAApB,EAAyBvE,CAAzB;AAA8B;AACzD;;AAED;AACA;AACAuE,YAAIlF,EAAJ,CAAOsD,IAAP,GAAcA,IAAd;AACA4B,YAAIlF,EAAJ,CAAOhC,KAAP,GAAe2C,CAAf;AACAuE,YAAIlF,EAAJ,CAAOsE,MAAP,GAAgBA,MAAhB;;AAEA,YAAI,CAAC6G,UAAL,EAAiB;AAAEjG,cAAIF,MAAJ,CAAW1B,IAAX;AAAmB;AACvC,OA9DD;;AAgEA;AACA8F,uBAAiBC,KAAjB,EAAwB7C,IAAxB;;AAEA;AACA+D,iBAAWlB,MAAMlU,KAAN,EAAX;;AAEA;AACAiD,WAAKG,YAAL,CAAkBqS,IAAlB,EAAwBT,WAAxB;AACD,KA1GD;;AA4GAxL,SAAKiH,OAAL,GAAe,YAAW;AACxBzC,WAAKqD,IAAL,EAAW,UAAS6E,CAAT,EAAY;AAAEA,UAAEzF,OAAF;AAAc,OAAvC;AACD,KAFD;;AAIA,WAAOjH,IAAP;AACD;;AAED;;;;;;;;AAQA,WAAS0J,gBAAT,CAA0BjQ,IAA1B,EAAgCyP,WAAhC,EAA6CyD,eAA7C,EAA8D;AAC5D,QAAI9B,SAAS,IAAb;;AAEA,QAAI+B,OAAO,EAACjH,QAAQ,EAACkH,UAAU3D,WAAX,EAAT,EAAX;;AAEAhP,cAAUT,IAAV,EAAgB,UAAUpB,GAAV,EAAe/B,GAAf,EAAoB;AAClC,UAAIwW,OAAOzU,IAAI0U,QAAf;AAAA,UAAyBpH,SAASrP,IAAIqP,MAAtC;AAAA,UAA8CwC,IAA9C;AAAA,UAAoDnI,IAApD;AAAA,UAA0DgN,OAA1D;AACA,UAAI,CAACL,eAAD,IAAoBtU,QAAQoB,IAAhC,EAAsC;AAAE,eAAO,EAACkM,QAAQA,MAAT,EAAP;AAAyB;;AAEjE;AACA,UAAImH,SAAS,CAAT,IAAczU,IAAIwB,UAAJ,CAAeuH,OAAf,KAA2B,OAAzC,IAAoDtC,KAAKgB,OAAL,CAAazH,IAAI0Q,SAAjB,CAAxD,EACE;AAAEpD,eAAOkH,QAAP,CAAgBxR,IAAhB,CAAqB,EAAChD,KAAKA,GAAN,EAAW2H,MAAM3H,IAAI0Q,SAArB,EAArB;AAAwD;;AAE5D,UAAI+D,SAAS,CAAb,EAAgB;AAAE,eAAOxW,GAAP;AAAY,OARI,CAQH;;AAE/B,UAAIwQ,YAAYzO,IAAI+I,OAAJ,KAAgB,SAAhC;;AAEA;AACA,UAAI+G,OAAOnP,QAAQX,GAAR,EAAa9E,cAAb,CAAX,EAAyC;AACvC,YAAGuT,SAAH,EAAc;AAAE5N,kBAAQb,GAAR,EAAa,aAAb,EAA4B,IAA5B;AAAoC,SADb,CACc;AACrDsN,eAAOkH,QAAP,CAAgBxR,IAAhB,CAAqBgQ,MAAMhT,GAAN,EAAWwS,MAAX,EAAmB1C,IAAnB,CAArB;AACA,eAAO,KAAP;AACD;;AAED;AACA;AACA,UAAIA,OAAOnP,QAAQX,GAAR,EAAa/E,qBAAb,CAAX,EAAgD;AAC9CqS,eAAOkH,QAAP,CAAgBxR,IAAhB,CAAqBvF,OAAOsP,MAAP,CAAc+D,MAAd,EAAsBC,IAAtB,CAA2B/Q,GAA3B,EAAgCwS,MAAhC,EAAwC1C,IAAxC,CAArB;AACA,eAAO,KAAP;AACD;;AAED,UAAInI,OAAOhH,QAAQX,GAAR,EAAahF,YAAb,CAAX,EAAuC;AACrC,YAAIyL,KAAKgB,OAAL,CAAaE,IAAb,CAAJ,EAAwB;AACtB2F,iBAAOkH,QAAP,CAAgBxR,IAAhB,CAAqB,EAACwN,QAAQ,IAAT,EAAe7I,MAAMA,IAArB,EAA2B3H,KAAKA,GAAhC,EAAqCgP,OAAO,GAAG7Q,KAAH,CAASC,IAAT,CAAc4B,IAAI4U,UAAlB,CAA5C,EAArB;AACA,iBAAO,KAAP;AACD;AACF;;AAED;AACA;AACAD,gBAAUtB,OAAOrT,GAAP,CAAV;AACA,UAAGyO,SAAH,EAAc;AACZ,YAAG9N,QAAQX,GAAR,EAAa,aAAb,CAAH,EAAgC;AAACA,cAAI6U,aAAJ,CAAkB3D,WAAlB,CAA8BlR,GAA9B;AAAqC,SAD1D,CAC2D;AACvE,YAAG,CAAC2U,OAAD,IAAY,CAAChU,QAAQX,GAAR,EAAa,aAAb,CAAb,IAA4C,CAACW,QAAQX,GAAR,EAAa,aAAb,CAAhD,EAA8E;AAC5E;AAAE2U,sBAAU,EAAElO,MAAMzG,IAAI8U,SAAZ,EAAV;AAAoC;AACzC;;AAED,UAAIH,YAAY3U,QAAQoB,IAAR,IAAgBkT,eAA5B,CAAJ,EAAkD;AAChD,YAAG7F,aAAa,CAAC9N,QAAQX,GAAR,EAAahF,YAAb,CAAjB,EAA6C;AAAE;AAC7C;AACA;AACA6F,kBAAQb,GAAR,EAAa,aAAb,EAA4B,IAA5B;;AAEA,cAAIkO,MAAM,IAAIkG,KAAJ,CAAU,EAAE3N,MAAMzG,IAAI8U,SAAZ,EAAV,EACR,EAAC1T,MAAMpB,GAAP,EAAYsN,QAAQkF,MAApB,EADQ,EAERxS,IAAIV,SAFI,CAAV;AAGAgO,iBAAOkH,QAAP,CAAgBxR,IAAhB,CAAqBkL,GAArB,EAR2C,CAQhB;AAC5B,SATD,MASO;AACL,cAAIM,OAAO,EAACpN,MAAMpB,GAAP,EAAYsN,QAAQkF,MAApB,EAA4B1D,SAAS,IAArC,EAAX;AACAxB,iBAAOkH,QAAP,CAAgBxR,IAAhB,CAAqB+L,aAAa4F,OAAb,EAAsBnG,IAAtB,EAA4BxO,IAAIV,SAAhC,EAA2CkT,MAA3C,CAArB;AACA,iBAAO,KAAP;AACD;AACF;;AAED;AACAuC,sBAAgBnJ,KAAhB,CAAsB4G,MAAtB,EAA8B,CAACxS,GAAD,EAAMA,IAAI4U,UAAV,EAAsB,UAAS9E,IAAT,EAAenI,IAAf,EAAqB;AACvE,YAAI,CAACA,IAAL,EAAW;AAAE;AAAQ;AACrB2F,eAAOkH,QAAP,CAAgBxR,IAAhB,CAAqB2E,IAArB;AACD,OAH6B,CAA9B;;AAKA;AACA;AACA,aAAO,EAAC2F,QAAQA,MAAT,EAAP;AACD,KApED,EAoEGiH,IApEH;AAqED;;AAED;;;;;;;;AAQA,WAASQ,eAAT,CAAyB/U,GAAzB,EAA8BgP,KAA9B,EAAqCtN,EAArC,EAAyC;AACvC,QAAI8Q,SAAS,IAAb;;AAEArG,SAAK6C,KAAL,EAAY,UAAUc,IAAV,EAAgB;AAC1B,UAAI,CAACA,IAAL,EAAW;AAAE,eAAO,KAAP;AAAc;;AAE3B,UAAI9Q,OAAO8Q,KAAK9Q,IAAhB;AAAA,UAAsBuR,OAAO5T,WAAWqC,IAAX,CAA7B;AAAA,UAA+C2I,IAA/C;;AAEA,UAAI0E,SAAStR,cAAT,EAAyBiE,IAAzB,CAAJ,EAAoC;AAClC2I,eAAQlK,OAAOsP,MAAP,CAAcyE,OAAd,EAAuBT,IAAvB,CAA4B/Q,GAA5B,EAAiCwS,MAAjC,EAAyCxT,IAAzC,EAA+C8Q,KAAKlT,KAApD,CAAR;AACD,OAFD,MAEO,IAAI6J,KAAKgB,OAAL,CAAaqI,KAAKlT,KAAlB,CAAJ,EAA8B;AACnC+K,eAAO,EAAC3H,KAAKA,GAAN,EAAW2H,MAAMmI,KAAKlT,KAAtB,EAA6BkT,MAAM9Q,IAAnC,EAAyCuR,MAAMA,IAA/C,EAAP;AACD;;AAED7O,SAAGoO,IAAH,EAASnI,IAAT;AACD,KAZD;AAaD;;AAED;;;;;;AAMA,MAAIqN,aAAc,WAAlB;AACA,MAAIC,aAAc,8CAAlB;AACA,MAAIC,aAAc,2DAAlB;AACA,MAAIC,cAAc,sEAAlB;AACA,MAAIC,UAAU,EAAEC,IAAI,OAAN,EAAeC,IAAI,IAAnB,EAAyBC,IAAI,IAA7B,EAAmCC,KAAK,UAAxC,EAAd;AACA,MAAIC,UAAUjZ,cAAcA,aAAa,EAA3B,GAAgCP,eAAhC,GAAkDC,yBAAhE;AACA,MAAIwZ,UAAU,KAAd;AACA,MAAIC,MAAM,KAAV;;AAGA;;;;AAIA,WAASC,WAAT,CAAqB/W,EAArB,EAAyB4H,IAAzB,EAA+BsC,OAA/B,EAAwC;;AAEtC,QACE8M,SAAS9M,QAAQ,CAAR,MAAe,GAD1B;AAAA,QAEEuE,SAASuI,SAAS,SAAT,GAAqB,QAFhC;;AAIA;AACA;AACAhX,OAAGS,SAAH,GAAe,MAAMgO,MAAN,GAAe7G,KAAKmB,IAAL,EAAf,GAA6B,IAA7B,GAAoC0F,MAAnD;AACAA,aAASzO,GAAGmD,UAAZ;;AAEA;AACA;AACA;AACA,QAAI6T,MAAJ,EAAY;AACVvI,aAAOwI,aAAP,GAAuB,CAAC,CAAxB,CADU,CACkB;AAC7B,KAFD,MAEO;AACL;AACA,UAAIC,QAAQX,QAAQrM,OAAR,CAAZ;AACA,UAAIgN,SAASzI,OAAO0I,iBAAP,KAA6B,CAA1C,EAA6C;AAAE1I,iBAAShP,EAAEyX,KAAF,EAASzI,MAAT,CAAT;AAA4B;AAC5E;AACD,WAAOA,MAAP;AACD;;AAED;;;;AAIA,WAAS2I,YAAT,CAAsBxP,IAAtB,EAA4BpH,IAA5B,EAAkC;AAChC;AACA,QAAI,CAAC2V,WAAWnY,IAAX,CAAgB4J,IAAhB,CAAL,EAA4B;AAAE,aAAOA,IAAP;AAAa;;AAE3C;AACA,QAAImG,MAAM,EAAV;;AAEAvN,WAAOA,QAAQA,KAAK2G,OAAL,CAAakP,UAAb,EAAyB,UAAUnL,CAAV,EAAa4E,GAAb,EAAkBuH,IAAlB,EAAwB;AAC9DtJ,UAAI+B,GAAJ,IAAW/B,IAAI+B,GAAJ,KAAYuH,IAAvB,CAD8D,CAC/B;AAC/B,aAAO,EAAP;AACD,KAHc,EAGZtO,IAHY,EAAf;;AAKA,WAAOnB,KACJT,OADI,CACImP,WADJ,EACiB,UAAUpL,CAAV,EAAa4E,GAAb,EAAkBwH,GAAlB,EAAuB;AAAG;AAC9C,aAAOvJ,IAAI+B,GAAJ,KAAYwH,GAAZ,IAAmB,EAA1B;AACD,KAHI,EAIJnQ,OAJI,CAIIiP,UAJJ,EAIgB,UAAUlL,CAAV,EAAaoM,GAAb,EAAkB;AAAS;AAC9C,aAAO9W,QAAQ8W,GAAR,IAAe,EAAtB;AACD,KANI,CAAP;AAOD;;AAED;;;;;;;;;;AAUA,WAASC,KAAT,CAAe3P,IAAf,EAAqBpH,IAArB,EAA2BgX,QAA3B,EAAqC;AACnC,QAAI/R,QAAUmC,QAAQA,KAAKnC,KAAL,CAAW,eAAX,CAAtB;AAAA,QACEyE,UAAUzE,SAASA,MAAM,CAAN,EAAS1C,WAAT,EADrB;AAAA,QAEE/C,KAAKE,KAAKsX,WAAWV,GAAX,GAAiBD,OAAtB,CAFP;;AAIA;AACAjP,WAAOwP,aAAaxP,IAAb,EAAmBpH,IAAnB,CAAP;;AAEA;AACA,QAAIoW,QAAQ5Y,IAAR,CAAakM,OAAb,CAAJ,EACE;AAAElK,WAAK+W,YAAY/W,EAAZ,EAAgB4H,IAAhB,EAAsBsC,OAAtB,CAAL;AAAsC,KAD1C,MAGE;AAAE5J,mBAAaN,EAAb,EAAiB4H,IAAjB;AAAyB;;AAE7B,WAAO5H,EAAP;AACD;;AAED;;;;;;AAMA,WAASyX,KAAT,CAAezX,EAAf,EAAmByQ,IAAnB,EAAyB;AACvB;AACA,QAAIX,MAAM,IAAV;AACA,QAAI3P,OAAO2P,IAAI3P,IAAf;AACA,QAAIyH,OAAOkI,IAAIlI,IAAf;AACA,QAAI1D,MAAM4L,IAAI5L,GAAd;AACA,QAAIiM,QAAQL,IAAIK,KAAhB;AACA,QAAIuH,WAAW5H,IAAI4H,QAAnB;AACA;AACA,QAAI,CAAC3b,WAAWoE,IAAX,CAAL,EAAuB;AACrBwX,YAAMxX,IAAN,EAAYyH,IAAZ,EAAkB1D,GAAlB,EAAuBiM,KAAvB,EAA8BuH,QAA9B;AACA;AACA3b,iBAAWoE,IAAX,EAAiByX,KAAjB,GAAyB,KAAKC,WAA9B;AACD;;AAED;AACAC,YAAQ9X,EAAR,EAAYG,IAAZ,EAAkBsQ,IAAlB,EAAwB,IAAxB;AACA;AACA,QAAIvM,GAAJ,EAAS;AAAEF,mBAAaI,MAAb;AAAwB;;AAEnC,WAAO,IAAP;AACD;;AAED;;;;;;;;;AASA,WAASuT,KAAT,CAAexX,IAAf,EAAqByH,IAArB,EAA2B1D,GAA3B,EAAgCiM,KAAhC,EAAuCtN,EAAvC,EAA2C;AACzC,QAAI5E,WAAWkS,KAAX,CAAJ,EAAuB;AACrBtN,WAAKsN,KAAL;;AAEA,UAAI,eAAenS,IAAf,CAAoBkG,GAApB,CAAJ,EAA8B;AAC5BiM,gBAAQjM,GAAR;AACAA,cAAM,EAAN;AACD,OAHD,MAIE;AAAEiM,gBAAQ,EAAR;AAAa;AAClB;;AAED,QAAIjM,GAAJ,EAAS;AACP,UAAIjG,WAAWiG,GAAX,CAAJ,EACE;AAAErB,aAAKqB,GAAL;AAAW,OADf,MAGE;AAAEF,qBAAaC,GAAb,CAAiBC,GAAjB;AAAwB;AAC7B;;AAED/D,WAAOA,KAAK4C,WAAL,EAAP;AACAhH,eAAWoE,IAAX,IAAmB,EAAEA,MAAMA,IAAR,EAAcyH,MAAMA,IAApB,EAA0BuI,OAAOA,KAAjC,EAAwCtN,IAAIA,EAA5C,EAAnB;;AAEA,WAAO1C,IAAP;AACD;;AAED;;;;;;;;;AASA,WAAS4X,MAAT,CAAgB5X,IAAhB,EAAsByH,IAAtB,EAA4B1D,GAA5B,EAAiCiM,KAAjC,EAAwCtN,EAAxC,EAA4C;AAC1C,QAAIqB,GAAJ,EAAS;AAAEF,mBAAaC,GAAb,CAAiBC,GAAjB,EAAsB/D,IAAtB;AAA8B;;AAEzCpE,eAAWoE,IAAX,IAAmB,EAAEA,MAAMA,IAAR,EAAcyH,MAAMA,IAApB,EAA0BuI,OAAOA,KAAjC,EAAwCtN,IAAIA,EAA5C,EAAnB;;AAEA,WAAO1C,IAAP;AACD;;AAED;;;;;;;AAOA,WAAS6X,OAAT,CAAiB7Y,QAAjB,EAA2B+K,OAA3B,EAAoCuG,IAApC,EAA0C;AACxC,QAAIE,OAAO,EAAX;AACA,QAAIsH,IAAJ,EAAUC,OAAV;;AAEA,aAASC,UAAT,CAAoB5V,IAApB,EAA0B;AACxB,UAAIA,KAAK2H,OAAT,EAAkB;AAChB,YAAIkO,UAAUtW,QAAQS,IAAR,EAAcpG,YAAd,CAAd;AAAA,YAA2CkT,GAA3C;;AAEA;AACA,YAAInF,WAAWkO,YAAYlO,OAA3B,EAAoC;AAClCkO,oBAAUlO,OAAV;AACAlI,kBAAQO,IAAR,EAAcpG,YAAd,EAA4B+N,OAA5B;AACD;;AAEDmF,cAAMyI,QAAQvV,IAAR,EAAc6V,WAAW7V,KAAK2H,OAAL,CAAanH,WAAb,EAAzB,EAAqD0N,IAArD,CAAN;;AAEA,YAAIpB,GAAJ,EACE;AAAEsB,eAAKxM,IAAL,CAAUkL,GAAV;AAAiB;AACtB,OAbD,MAaO,IAAI9M,KAAKmD,MAAT,EACL;AAAE4H,aAAK/K,IAAL,EAAW4V,UAAX;AAAyB,OAfL,CAeM;AAC/B;;AAED;AACAnU,iBAAaI,MAAb;;AAEA,QAAIlG,SAASgM,OAAT,CAAJ,EAAuB;AACrBuG,aAAOvG,OAAP;AACAA,gBAAU,CAAV;AACD;;AAED;AACA,QAAI9L,SAASe,QAAT,CAAJ,EAAwB;AACtBA,iBAAWA,aAAa,GAAb;AACT;AACA;AACA+Y,gBAAUG,YAHD;AAIT;AACAlZ,iBAAWkZ,WAAWlZ,SAASoI,KAAT,CAAe,KAAf,CAAX,CALb;;AAOA;AACA;AACA0Q,aAAO9Y,WAAWD,GAAGC,QAAH,CAAX,GAA0B,EAAjC;AACD,KAXD;AAaE;AACA;AAAE8Y,eAAO9Y,QAAP;AAAkB;;AAEtB;AACA,QAAI+K,YAAY,GAAhB,EAAqB;AACnB;AACAA,gBAAUgO,WAAWG,YAArB;AACA;AACA,UAAIJ,KAAK/N,OAAT,EACE;AAAE+N,eAAO/Y,GAAGgL,OAAH,EAAY+N,IAAZ,CAAP;AAA2B,OAD/B,MAEK;AACH;AACA,YAAIK,WAAW,EAAf;;AAEAhL,aAAK2K,IAAL,EAAW,UAAUM,GAAV,EAAe;AAAE,iBAAOD,SAASnU,IAAT,CAAcjF,GAAGgL,OAAH,EAAYqO,GAAZ,CAAd,CAAP;AAAyC,SAArE;;AAEAN,eAAOK,QAAP;AACD;AACD;AACApO,gBAAU,CAAV;AACD;;AAEDiO,eAAWF,IAAX;;AAEA,WAAOtH,IAAP;AACD;;AAED;AACA,MAAI6H,SAAS,EAAb;AACA,MAAIC,UAAUD,OAAOxc,YAAP,IAAuB,EAArC;AACA,MAAI0c,YAAY,CAAhB;;AAEA;;;;;;;AAOA,WAASC,OAAT,CAAiBxY,IAAjB,EAAuByY,GAAvB,EAA4BC,CAA5B,EAA+B;AAC7B;AACA,QAAI3a,SAASiC,IAAT,CAAJ,EAAoB;AAClBwY,cAAS,OAAQD,WAAR,GAAuB,IAAhC,EAAuCvY,IAAvC,EAA6C,IAA7C;AACA;AACD;;AAED,QAAI2Y,QAAQD,IAAIJ,OAAJ,GAAcD,MAA1B;;AAEA;AACA,QAAI,CAACI,GAAL,EAAU;AACR,UAAIza,YAAY2a,MAAM3Y,IAAN,CAAZ,CAAJ,EACE;AAAE,cAAM,IAAIqH,KAAJ,CAAW,yBAAyBrH,IAApC,CAAN;AAAkD;;AAEtD,aAAO2Y,MAAM3Y,IAAN,CAAP;AACD;;AAED;AACA2Y,UAAM3Y,IAAN,IAAclC,WAAW2a,GAAX,IACZ9K,OAAO8K,IAAIvZ,SAAX,EAAsByZ,MAAM3Y,IAAN,KAAe,EAArC,KAA4CyY,GADhC,GAEZ9K,OAAOgL,MAAM3Y,IAAN,KAAe,EAAtB,EAA0ByY,GAA1B,CAFF;AAGD;;AAED;;;;AAIA,WAASG,QAAT,GAAoB;AAClB,WAAOzL,KAAKxR,YAAL,EAAmB,UAAUuT,GAAV,EAAe;AAAE,aAAOA,IAAIF,MAAJ,EAAP;AAAsB,KAA1D,CAAP;AACD;;AAED,WAAS6J,YAAT,CAAsB7Y,IAAtB,EAA4B;AAC1BpE,eAAWoE,IAAX,IAAmB,IAAnB;AACD;;AAED,MAAI8Y,YAAY,QAAhB;;AAGA,MAAIC,OAAOta,OAAOK,MAAP,CAAc;AACxBka,SAAK1B,KADmB;AAExBpI,SAAKsI,KAFmB;AAGxByB,UAAMrB,MAHkB;AAIxB1H,WAAO2H,OAJiB;AAKxBqB,WAAOV,OALiB;AAMxBxJ,YAAQ4J,QANgB;AAOxBO,gBAAYN,YAPY;AAQxB5M,aAAS6M;AARe,GAAd,CAAX;;AAWA;AACA,MAAIM,QAAQ,CAAZ;;AAEA;;;;;;;;;;AAUA,WAASC,UAAT,CAAoB5E,MAApB,EAA4BnG,MAA5B,EAAoCoG,WAApC,EAAiDpE,IAAjD,EAAuDgJ,SAAvD,EAAkE;AAChE;AACA;AACA;AACA,QAAI7E,UAAUC,WAAd,EAA2B;AAAE;AAAQ;;AAErC,QAAIzV,MAAM,CAACyV,WAAD,IAAgBD,MAAhB,GAAyB,IAAzB,GAAgCnG,UAAU,IAApD;AACAnB,SAAKmM,SAAL,EAAgB,UAAUxI,IAAV,EAAgB;AAC9B,UAAIA,KAAKnI,IAAT,EAAe;AAAEiJ,6BAAqBxS,IAArB,CAA0BH,GAA1B,EAA+B,CAAC6R,KAAKnI,IAAN,CAA/B;AAA8C;AAC/D;AACA2H,WAAK/C,QAAQuD,KAAK9Q,IAAb,EAAmBgH,OAAnB,CAA2BlL,YAA3B,EAAyC,EAAzC,CAAL,IAAqDgV,KAAKnI,IAAL,GAAYmI,KAAKnI,IAAL,CAAU/K,KAAtB,GAA8BkT,KAAKlT,KAAxF;AACD,KAJD;AAKD;;AAGD;;;;;;;AAOA,WAASwX,KAAT,CAAevF,IAAf,EAAqBL,IAArB,EAA2BlP,SAA3B,EAAsC;AACpC,QAAKuP,SAAS,KAAK,CAAnB,EAAuBA,OAAO,EAAP;AACvB,QAAKL,SAAS,KAAK,CAAnB,EAAuBA,OAAO,EAAP;;AAEvB,QAAIc,OAAO3C,OAAO,EAAP,EAAW6B,KAAKc,IAAhB,CAAX;AAAA,QACEhC,SAASkB,KAAKlB,MADhB;AAAA,QAEEmG,SAASjF,KAAKiF,MAFhB;AAAA,QAGEC,cAAc,CAAC,CAAClF,KAAKkF,WAHvB;AAAA,QAIE6E,gBAAgBzL,WAAWE,iBAAX,IAAgC0G,WAJlD;AAAA,QAKEpH,OAAOkM,YAAYhK,KAAKlC,IAAjB,CALT;AAAA,QAMEtF,QAAQwH,KAAKxH,KANf;AAAA,QAMsB;AACpBsR,gBAAY,EAPd;AAAA,QAOkB;AAChBG,gBAAY,EARd;AAAA,QAQkB;AAChB5H,kBAAc,EAThB;AAAA,QAUEzP,OAAOoN,KAAKpN,IAVd;AAAA,QAWE2H,UAAUyF,KAAKzF,OAAL,IAAgBmK,WAAW9R,IAAX,CAX5B;AAAA,QAYEqN,YAAY1F,YAAY,SAZ1B;AAAA,QAaE2P,WAAW,CAACjK,SAAD,IAAc,CAACI,KAAKpI,IAbjC;AAAA,QAcEkS,wBAAwB,EAd1B;AAAA,QAeE3Y,GAfF;;AAiBA;AACA,QAAI,CAACuY,aAAL,EAAoB;AAAErN,mBAAa,IAAb;AAAqB;AAC3C;AACA,QAAI2D,KAAK7P,IAAL,IAAaoC,KAAKmQ,IAAtB,EAA4B;AAAEnQ,WAAKmQ,IAAL,CAAU3C,OAAV,CAAkB,IAAlB;AAA0B;;AAExD;AACA,SAAKb,SAAL,GAAiB,KAAjB;;AAEA7F,mBAAe,IAAf,EAAqB,IAArB,EAA2B;AACzBwL,mBAAaA,WADY;AAEzB4E,iBAAWA,SAFc;AAGzBhZ,iBAAWA,SAHc;AAIzByJ,eAASA,OAJgB;AAKzB/B,aAAOA,KALkB;AAMzByM,cAAQA,MANiB;AAOzBiF,gBAAUA,QAPe;AAQzB;AACA;AACAtK,iBAAW,EAVc;AAWzB;AACAwK,aAAO,EAZkB;AAazBC,YAAM,IAbmB;AAczBnK,YAAM,IAdmB;AAezBpB,cAAQ,IAfiB;AAgBzBhB,YAAM;AAhBmB,KAA3B;;AAmBA;AACA;AACApE,mBAAe,IAAf,EAAqB,UAArB,EAAiC,EAAEkQ,KAAnC,EAlDoC,CAkDO;AAC3ClQ,mBAAe,IAAf,EAAqB,MAArB,EAA6B9G,IAA7B;AACAuL,WAAO,IAAP,EAAa,EAAE2C,MAAMA,IAAR,EAAb,EAA6BhD,IAA7B;AACA;AACApE,mBAAe,IAAf,EAAqB,QAArB,EAA+BoF,UAAU,IAAzC;AACApF,mBAAe,IAAf,EAAqB,MAArB,EAA6B,EAA7B;AACAA,mBAAe,IAAf,EAAqB,MAArB,EAA6B,EAA7B;;AAEA,QAAIwQ,YAAYjF,UAAUC,WAA1B,EAAuC;AACrC1T,YAAMoB,IAAN;AACD,KAFD,MAEO;AACL,UAAI,CAACqN,SAAL,EAAgB;AAAErN,aAAK9B,SAAL,GAAiB,EAAjB;AAAsB;AACxCU,YAAMoW,MAAMvH,KAAKpI,IAAX,EAAiBnH,SAAjB,EAA4BV,MAAMwC,IAAN,CAA5B,CAAN;AACD;;AAED;;;;;AAKA8G,mBAAe,IAAf,EAAqB,QAArB,EAA+B,SAAS4Q,SAAT,CAAmBtQ,IAAnB,EAAyB;AACtD,UAAIuQ,WAAW,EAAf;AAAA,UACEC,aAAa,KAAKjL,SAAL,IAAkB,CAACwK,aADlC;;AAGA;AACA;AACA/P,aAAOgQ,YAAYhQ,IAAZ,CAAP;AACAmE,aAAO,IAAP,EAAanE,IAAb;AACA6P,iBAAWzM,KAAX,CAAiB,IAAjB,EAAuB,CAAC6H,MAAD,EAASnG,MAAT,EAAiBoG,WAAjB,EAA8BqF,QAA9B,EAAwCT,SAAxC,CAAvB;;AAEA,UAAIU,cAAc,KAAKjL,SAAnB,IAAgCjR,WAAW,KAAKmc,YAAhB,CAAhC,IAAiE,CAAC,KAAKA,YAAL,CAAkBzQ,IAAlB,EAAwBuQ,QAAxB,CAAtE,EAAyG;AACvG,eAAO,IAAP;AACD;;AAED;AACA,UAAItF,UAAUC,WAAd,EAA2B;AAAEwF,oBAAYtN,KAAZ,CAAkB,IAAlB,EAAwB,CAAC,KAAK0B,MAAN,EAAcqL,qBAAd,CAAxB;AAAgE;AAC7FhM,aAAO2C,IAAP,EAAayJ,QAAb;AACA,UAAIC,UAAJ,EAAgB;AAAE,aAAKlN,OAAL,CAAa,QAAb,EAAuBtD,IAAvB;AAA+B;AACjDoI,2BAAqBxS,IAArB,CAA0B,IAA1B,EAAgCyS,WAAhC;AACA,UAAImI,UAAJ,EAAgB;AAAE,aAAKlN,OAAL,CAAa,SAAb;AAA0B;;AAE5C,aAAO,IAAP;AAED,KAvB8B,CAuB7BpD,IAvB6B,CAuBxB,IAvBwB,CAA/B;;AAyBA;;;;AAIAR,mBAAe,IAAf,EAAqB,OAArB,EAA8B,SAASiR,QAAT,GAAoB;AAChD,UAAI3G,SAAS,IAAb;;AAEArG,WAAKN,SAAL,EAAgB,UAAU4L,GAAV,EAAe;AAC7B,YAAI2B,QAAJ,EAAc9b,GAAd;AACA,YAAI+b,QAAQ,EAAZ;;AAEA;AACA,YAAIC,iBAAiB,CAAC,MAAD,EAAS,WAAT,CAArB;;AAEA7B,cAAMxa,SAASwa,GAAT,IAAgBD,QAAQC,GAAR,CAAhB,GAA+BA,GAArC;;AAEA;AACA,YAAI3a,WAAW2a,GAAX,CAAJ,EAAqB;AACnB;AACA2B,qBAAW,IAAI3B,GAAJ,EAAX;AACD,SAHD,MAGO;AAAE2B,qBAAW3B,GAAX;AAAiB;;AAE1B,YAAI8B,QAAQ9b,OAAO+b,cAAP,CAAsBJ,QAAtB,CAAZ;;AAEA;AACA,WAAG;AAAEC,kBAAQA,MAAMjW,MAAN,CAAa3F,OAAOgc,mBAAP,CAA2Bnc,OAAO8b,QAAlC,CAAb,CAAR;AAAoE,SAAzE,QACO9b,MAAMG,OAAO+b,cAAP,CAAsBlc,OAAO8b,QAA7B,CADb;;AAGA;AACAjN,aAAKkN,KAAL,EAAY,UAAU9b,GAAV,EAAe;AACzB;AACA;AACA,cAAI,CAAC8O,SAASiN,cAAT,EAAyB/b,GAAzB,CAAL,EAAoC;AAClC;AACA,gBAAIC,aAAaC,OAAOC,wBAAP,CAAgC0b,QAAhC,EAA0C7b,GAA1C,KAAkDE,OAAOC,wBAAP,CAAgC6b,KAAhC,EAAuChc,GAAvC,CAAnE;AACA,gBAAImc,kBAAkBlc,eAAeA,WAAW4K,GAAX,IAAkB5K,WAAW2K,GAA5C,CAAtB;;AAEA;AACA,gBAAI,CAACqK,OAAOmH,cAAP,CAAsBpc,GAAtB,CAAD,IAA+Bmc,eAAnC,EAAoD;AAClDjc,qBAAOyK,cAAP,CAAsBsK,MAAtB,EAA8BjV,GAA9B,EAAmCC,UAAnC;AACD,aAFD,MAEO;AACLgV,qBAAOjV,GAAP,IAAcT,WAAWsc,SAAS7b,GAAT,CAAX,IACZ6b,SAAS7b,GAAT,EAAcmL,IAAd,CAAmB8J,MAAnB,CADY,GAEZ4G,SAAS7b,GAAT,CAFF;AAGD;AACF;AACF,SAjBD;;AAmBA;AACA,YAAI6b,SAASrI,IAAb,EACE;AAAEqI,mBAASrI,IAAT,CAAcrI,IAAd,CAAmB8J,MAAnB;AAA+B;AACpC,OA5CD;AA6CA,aAAO,IAAP;AACD,KAjD6B,CAiD5B9J,IAjD4B,CAiDvB,IAjDuB,CAA9B;;AAmDA;;;;AAIAR,mBAAe,IAAf,EAAqB,OAArB,EAA8B,SAAS0R,QAAT,GAAoB;AAChD,UAAIpH,SAAS,IAAb;;AAEApR,WAAKmQ,IAAL,GAAY,IAAZ,CAHgD,CAG9B;;AAElB;AACAwD,sBAAgBnJ,KAAhB,CAAsB0B,MAAtB,EAA8B,CAAClM,IAAD,EAAOA,KAAKwT,UAAZ,EAAwB,UAAU9E,IAAV,EAAgBnI,IAAhB,EAAsB;AAC1E,YAAI,CAAC+L,WAAD,IAAgBlC,QAAQqI,aAAR,CAAsBlS,IAAtB,CAApB,EAAiD;AAAEA,eAAKuG,GAAL,GAAWsE,MAAX;AAAoB;AACvE1C,aAAKnI,IAAL,GAAYA,IAAZ;AACA2Q,kBAAUtV,IAAV,CAAe8M,IAAf;AACD,OAJ6B,CAA9B;;AAMA;AACA2I,kBAAY,EAAZ;AACAhX,gBAAUoN,KAAKG,KAAf,EAAsB,UAAU7L,CAAV,EAAa2W,CAAb,EAAgB;AAAErB,kBAAUzV,IAAV,CAAe,EAAChE,MAAMmE,CAAP,EAAUvG,OAAOkd,CAAjB,EAAf;AAAsC,OAA9E;AACA/E,sBAAgBnJ,KAAhB,CAAsB,IAAtB,EAA4B,CAACxK,IAAD,EAAOqX,SAAP,EAAkB,UAAU3I,IAAV,EAAgBnI,IAAhB,EAAsB;AAClE,YAAIA,IAAJ,EAAU;AAAEkJ,sBAAY7N,IAAZ,CAAiB2E,IAAjB;AAAyB,SAArC,MACK;AAAE9G,kBAAQO,IAAR,EAAc0O,KAAK9Q,IAAnB,EAAyB8Q,KAAKlT,KAA9B;AAAuC;AAC/C,OAH2B,CAA5B;;AAKA;AACAyb,iBAAWzM,KAAX,CAAiB,IAAjB,EAAuB,CAAC6H,MAAD,EAASnG,MAAT,EAAiBoG,WAAjB,EAA8BpE,IAA9B,EAAoCgJ,SAApC,CAAvB;;AAEA;AACA,UAAIyB,cAAcvC,QAAQ3c,YAAR,CAAlB;;AAEA,UAAIkf,eAAe,CAACxB,aAApB,EAAmC;AACjC,aAAK,IAAI5O,CAAT,IAAcoQ,WAAd,EAA2B;AACzB,cAAIA,YAAYJ,cAAZ,CAA2BhQ,CAA3B,CAAJ,EAAmC;AACjC6I,mBAAO0F,KAAP,CAAa6B,YAAYpQ,CAAZ,CAAb;AACD;AACF;AACF;;AAED,UAAIkF,KAAKnN,EAAT,EAAa;AAAEmN,aAAKnN,EAAL,CAAQtD,IAAR,CAAa,IAAb,EAAmBkR,IAAnB;AAA2B;;AAE1C,UAAI,CAACiJ,aAAL,EAAoB;AAAE,aAAKzM,OAAL,CAAa,cAAb;AAA+B;;AAErD;AACAuF,uBAAiBzF,KAAjB,CAAuB,IAAvB,EAA6B,CAAC5L,GAAD,EAAM6Q,WAAN,EAAmB6C,WAAnB,CAA7B;;AAEA,WAAK1F,MAAL,CAAY1B,IAAZ;;AAEA,UAAI,CAACoH,WAAD,IAAgB,CAACgF,QAArB,EAA+B;AAC7B,eAAO1Y,IAAIgC,UAAX,EAAuB;AAAEZ,eAAKtB,WAAL,CAAiBE,IAAIgC,UAArB;AAAmC;AAC7D;;AAEDkG,qBAAe,IAAf,EAAqB,MAArB,EAA6B9G,IAA7B;AACA8G,qBAAe,IAAf,EAAqB,WAArB,EAAkC,IAAlC;;AAEA,UAAIqQ,aAAJ,EAAmB;AAAE;AAAQ;;AAE7B;AACA,UAAI,CAAC,KAAKjL,MAAV,EAAkB;AAChB,aAAKxB,OAAL,CAAa,OAAb;AACD;AACD;AAHA,WAIK;AACH,cAAIf,IAAI+C,4BAA4B,KAAKR,MAAjC,CAAR;AACAvC,YAAEY,GAAF,CAAM,CAACZ,EAAEgD,SAAH,GAAe,OAAf,GAAyB,SAA/B,EAA0C,YAAY;AACpDyE,mBAAO1G,OAAP,CAAe,OAAf;AACD,WAFD;AAGD;;AAED,aAAO,IAAP;AAED,KAlE6B,CAkE5BpD,IAlE4B,CAkEvB,IAlEuB,CAA9B;;AAoEA;;;;;AAKAR,mBAAe,IAAf,EAAqB,SAArB,EAAgC,SAAS8R,UAAT,CAAoBC,YAApB,EAAkC;AAChE,UAAIzH,SAAS,IAAb;;AAEA,UAAI3T,KAAK,KAAKuC,IAAd;AAAA,UACE2J,IAAIlM,GAAG2C,UADT;AAAA,UAEE6L,IAFF;AAAA,UAGE6M,WAAWvf,aAAa8J,OAAb,CAAqB,IAArB,CAHb;;AAKA,UAAI,CAAC8T,aAAL,EAAoB;AAAE,aAAKzM,OAAL,CAAa,gBAAb;AAAiC;;AAEvD;AACArK,gBAAUoN,KAAKG,KAAf,EAAsB,UAAUhQ,IAAV,EAAgB;AACpC,YAAIyN,WAAWzN,IAAX,EAAiBlE,YAAjB,CAAJ,EACE;AAAEkE,iBAAOA,KAAKb,KAAL,CAAWrD,aAAayJ,MAAxB,CAAP;AAAyC;;AAE7CnE,gBAAQgB,IAAR,EAAcpC,IAAd;AACD,OALD;;AAOA;AACA,WAAKgK,EAAL,CAAQoF,SAAR,CAAkB+L,OAAlB,CAA0B,UAAUna,GAAV,EAAe;AACvCvC,eAAO8C,IAAP,CAAYP,IAAI1E,eAAJ,CAAZ,EAAkC6e,OAAlC,CAA0C,UAAUhM,SAAV,EAAqB;AAC7DnO,cAAIqO,mBAAJ,CAAwBF,SAAxB,EAAmCnO,IAAI1E,eAAJ,EAAqB6S,SAArB,CAAnC;AACD,SAFD;AAGD,OAJD;;AAMA;AACA,UAAI+L,aAAa,CAAC,CAAlB,EACE;AAAEvf,qBAAa+Q,MAAb,CAAoBwO,QAApB,EAA8B,CAA9B;AAAmC;;AAEvC,UAAInP,KAAK0D,SAAT,EAAoB;AAClB,YAAInB,MAAJ,EAAY;AACVD,iBAAOS,4BAA4BR,MAA5B,CAAP;;AAEA,cAAImB,SAAJ,EAAe;AACbhR,mBAAO8C,IAAP,CAAY,KAAKiP,IAAjB,EAAuB2K,OAAvB,CAA+B,UAAUpR,OAAV,EAAmB;AAChD2G,6BAAerC,KAAKmC,IAApB,EAA0BzG,OAA1B,EAAmCyJ,OAAOhD,IAAP,CAAYzG,OAAZ,CAAnC;AACD,aAFD;AAGD,WAJD,MAIO;AACL2G,2BAAerC,KAAKmC,IAApB,EAA0BzG,OAA1B,EAAmC,IAAnC;AACA;AACA,gBAAGuE,WAAWD,IAAd,EAAoB;AAClBqC,6BAAepC,OAAOkC,IAAtB,EAA4BzG,OAA5B,EAAqC,IAArC;AACD;AACF;AACF,SAdD,MAcO;AACL;AACA5J,uBAAaN,EAAb,EAAiB,EAAjB;AACD;;AAED,YAAIkM,KAAK,CAACkP,YAAV,EAAwB;AAAElP,YAAEmG,WAAF,CAAcrS,EAAd;AAAoB;AAC/C;;AAED,UAAI,KAAKmK,EAAL,CAAQ4P,KAAZ,EAAmB;AACjBzM,aAAK,KAAKnD,EAAL,CAAQ4P,KAAb,EAAoB,UAAUkB,CAAV,EAAa;AAC/B,cAAIA,EAAEtY,UAAN,EAAkB;AAAEsY,cAAEtY,UAAF,CAAa0P,WAAb,CAAyB4I,CAAzB;AAA8B;AACnD,SAFD;AAGD;;AAED;AACAxI,iBAAWT,WAAX;AACA1E,WAAKmM,SAAL,EAAgB,UAAUrJ,CAAV,EAAa;AAAE,eAAOA,EAAEtH,IAAF,IAAUsH,EAAEtH,IAAF,CAAOiH,OAAjB,IAA4BK,EAAEtH,IAAF,CAAOiH,OAAP,EAAnC;AAAsD,OAArF;;AAEA;AACA,UAAI,KAAK5F,EAAL,CAAQoG,SAAZ,EAAuB;AAAE,aAAKpG,EAAL,CAAQoG,SAAR;AAAsB;;AAE/C,UAAI,CAACmJ,aAAL,EAAoB;AAClB,aAAKzM,OAAL,CAAa,SAAb;AACA,aAAKN,GAAL,CAAS,GAAT;AACD;;AAEDtD,qBAAe,IAAf,EAAqB,WAArB,EAAkC,KAAlC;;AAEA,aAAO,KAAK9G,IAAL,CAAUmQ,IAAjB;;AAEA,aAAO,IAAP;AAED,KA5E+B,CA4E9B7I,IA5E8B,CA4EzB,IA5EyB,CAAhC;AA6ED;;AAED;;;;;AAKA,WAAS2K,MAAT,CAAgBrT,GAAhB,EAAqB;AACnB,WAAOA,IAAI+I,OAAJ,IAAenO,WAAW+F,QAAQX,GAAR,EAAahF,YAAb,KAC/B2F,QAAQX,GAAR,EAAahF,YAAb,CAD+B,IACDgF,IAAI+I,OAAJ,CAAYnH,WAAZ,EADV,CAAtB;AAED;;AAED;;;;;;AAMA,WAASsX,WAAT,CAAqB1L,MAArB,EAA6BmL,qBAA7B,EAAoD;AAClD,QAAInG,SAAS,IAAb;;AAEArG,SAAK1O,OAAO8C,IAAP,CAAYiN,MAAZ,CAAL,EAA0B,UAAUrK,CAAV,EAAa;AACrC;AACA,UAAIiX,WAAW,CAACxc,eAAeuF,CAAf,CAAD,IAAsBkJ,SAASsM,qBAAT,EAAgCxV,CAAhC,CAArC;;AAEA,UAAInG,YAAYwV,OAAOrP,CAAP,CAAZ,KAA0BiX,QAA9B,EAAwC;AACtC;AACA;AACA,YAAI,CAACA,QAAL,EAAe;AAAEzB,gCAAsB3V,IAAtB,CAA2BG,CAA3B;AAAgC;AACjDqP,eAAOrP,CAAP,IAAYqK,OAAOrK,CAAP,CAAZ;AACD;AACF,KAVD;AAWD;;AAED;;;;;;AAMA,WAASsP,YAAT,CAAsB1J,OAAtB,EAA+BsR,MAA/B,EAAuC;AACrC,QAAI/M,SAAS,KAAKA,MAAlB;AAAA,QACEkC,IADF;AAEA;AACA,QAAI,CAAClC,MAAL,EAAa;AAAE;AAAQ;;AAEvBkC,WAAOlC,OAAOkC,IAAP,CAAYzG,OAAZ,CAAP;;AAEA,QAAI5L,QAAQqS,IAAR,CAAJ,EACE;AAAEA,WAAK9D,MAAL,CAAY2O,MAAZ,EAAoB,CAApB,EAAuB7K,KAAK9D,MAAL,CAAY8D,KAAK/K,OAAL,CAAa,IAAb,CAAZ,EAAgC,CAAhC,EAAmC,CAAnC,CAAvB;AAAgE,KADpE,MAEK;AAAEwN,kBAAY3E,OAAOkC,IAAnB,EAAyBzG,OAAzB,EAAkC,IAAlC;AAA0C;AAClD;;AAED;;;;;;;;AAQA,WAASgG,YAAT,CAAsBqE,KAAtB,EAA6B9D,IAA7B,EAAmChQ,SAAnC,EAA8CgO,MAA9C,EAAsD;AACpD,QAAIY,MAAM,IAAIkG,KAAJ,CAAUhB,KAAV,EAAiB9D,IAAjB,EAAuBhQ,SAAvB,CAAV;AAAA,QACEyJ,UAAUuG,KAAKvG,OAAL,IAAgBmK,WAAW5D,KAAKlO,IAAhB,EAAsB,IAAtB,CAD5B;AAAA,QAEEiM,OAAOS,4BAA4BR,MAA5B,CAFT;AAGA;AACApF,mBAAegG,GAAf,EAAoB,QAApB,EAA8Bb,IAA9B;AACA;AACA;AACA;AACAa,QAAIlF,EAAJ,CAAOsE,MAAP,GAAgBA,MAAhB;;AAEA;AACA2E,gBAAY5E,KAAKmC,IAAjB,EAAuBzG,OAAvB,EAAgCmF,GAAhC;;AAEA;AACA,QAAIb,SAASC,MAAb,EACE;AAAE2E,kBAAY3E,OAAOkC,IAAnB,EAAyBzG,OAAzB,EAAkCmF,GAAlC;AAAyC;;AAE7C,WAAOA,GAAP;AACD;;AAED;;;;;AAKA,WAASJ,2BAAT,CAAqCI,GAArC,EAA0C;AACxC,QAAIb,OAAOa,GAAX;AACA,WAAOb,KAAKrE,EAAL,CAAQ0K,WAAf,EAA4B;AAC1B,UAAI,CAACrG,KAAKC,MAAV,EAAkB;AAAE;AAAO;AAC3BD,aAAOA,KAAKC,MAAZ;AACD;AACD,WAAOD,IAAP;AACD;;AAED;;;;AAIA,WAASiE,UAAT,CAAoBT,WAApB,EAAiC;AAC/B1E,SAAK0E,WAAL,EAAkB,UAASlJ,IAAT,EAAe;AAC/B,UAAIA,gBAAgByM,KAApB,EAA2B;AAAEzM,aAAKiH,OAAL,CAAa,IAAb;AAAqB,OAAlD,MACK,IAAIjH,KAAKoB,OAAT,EAAkB;AAAEpB,aAAKuG,GAAL,CAASU,OAAT,CAAiB,IAAjB;AAAyB,OAA7C,MACA,IAAIjH,KAAKiH,OAAT,EAAkB;AAAEjH,aAAKiH,OAAL;AAAiB;AAC3C,KAJD;AAKD;;AAED;;;;;;AAMA,WAASsE,UAAT,CAAoBlT,GAApB,EAAyBsa,UAAzB,EAAqC;AACnC,QAAIlH,QAAQC,OAAOrT,GAAP,CAAZ;AAAA,QACEua,WAAW,CAACD,UAAD,IAAe3Z,QAAQX,GAAR,EAAahF,YAAb,CAD5B;AAEA,WAAOuf,YAAY,CAAC9T,KAAKgB,OAAL,CAAa8S,QAAb,CAAb,GACOA,QADP,GAEKnH,QAAQA,MAAMpU,IAAd,GAAqBgB,IAAI+I,OAAJ,CAAYnH,WAAZ,EAFjC;AAGD;;AAED;;;;;AAKA,WAAS4W,WAAT,CAAqBhQ,IAArB,EAA2B;AACzB,QAAI,EAAEA,gBAAgB4L,KAAlB,KAA4B,EAAE5L,QAAQ1L,WAAW0L,KAAKsD,OAAhB,CAAV,CAAhC,EACE;AAAE,aAAOtD,IAAP;AAAa;;AAEjB,QAAIR,IAAI,EAAR;AACA,SAAK,IAAIzK,GAAT,IAAgBiL,IAAhB,EAAsB;AACpB,UAAI,CAACpM,kBAAkBS,IAAlB,CAAuBU,GAAvB,CAAL,EAAkC;AAAEyK,UAAEzK,GAAF,IAASiL,KAAKjL,GAAL,CAAT;AAAqB;AAC1D;AACD,WAAOyK,CAAP;AACD;;AAED;;;;;;;;;AASA,WAASiK,WAAT,CAAqB3U,GAArB,EAA0BC,GAA1B,EAA+BX,KAA/B,EAAsC4d,WAAtC,EAAmDxT,KAAnD,EAA0D;AACxD,QAAIyT,OAAOnd,IAAIC,GAAJ,CAAX;AACA,QAAImd,QAAQvd,QAAQsd,IAAR,CAAZ;AACA,QAAIE,WAAW,CAAC3d,YAAYgK,KAAZ,CAAhB;;AAEA,QAAIyT,QAAQA,SAAS7d,KAArB,EAA4B;AAAE;AAAQ;;AAEtC;AACA,QAAI,CAAC6d,IAAD,IAASD,WAAb,EAA0B;AAAEld,UAAIC,GAAJ,IAAW,CAACX,KAAD,CAAX;AAAqB,KAAjD,MACK,IAAI,CAAC6d,IAAL,EAAW;AAAEnd,UAAIC,GAAJ,IAAWX,KAAX;AAAmB;AACrC;AADK,SAEA;AACH,YAAI8d,KAAJ,EAAW;AACT,cAAIE,WAAWH,KAAKhW,OAAL,CAAa7H,KAAb,CAAf;AACA;AACA,cAAIge,aAAa5T,KAAjB,EAAwB;AAAE;AAAQ;AAClC;AACA,cAAI4T,aAAa,CAAC,CAAlB,EAAqB;AAAEH,iBAAK/O,MAAL,CAAYkP,QAAZ,EAAsB,CAAtB;AAA2B;AAClD;AACA,cAAID,QAAJ,EAAc;AACZF,iBAAK/O,MAAL,CAAY1E,KAAZ,EAAmB,CAAnB,EAAsBpK,KAAtB;AACD,WAFD,MAEO;AACL6d,iBAAKzX,IAAL,CAAUpG,KAAV;AACD;AACF,SAZD,MAYO;AAAEU,cAAIC,GAAJ,IAAW,CAACkd,IAAD,EAAO7d,KAAP,CAAX;AAA2B;AACrC;AACF;;AAED;;;;;;;;AAQA,WAAS8S,cAAT,CAAwBpS,GAAxB,EAA6BC,GAA7B,EAAkCX,KAAlC,EAAyC4d,WAAzC,EAAsD;AACpD,QAAIrd,QAAQG,IAAIC,GAAJ,CAAR,CAAJ,EAAuB;AACrB,UAAIyJ,QAAQ1J,IAAIC,GAAJ,EAASkH,OAAT,CAAiB7H,KAAjB,CAAZ;AACA,UAAIoK,UAAU,CAAC,CAAf,EAAkB;AAAE1J,YAAIC,GAAJ,EAASmO,MAAT,CAAgB1E,KAAhB,EAAuB,CAAvB;AAA4B;AAChD,UAAI,CAAC1J,IAAIC,GAAJ,EAASgH,MAAd,EAAsB;AAAE,eAAOjH,IAAIC,GAAJ,CAAP;AAAkB,OAA1C,MACK,IAAID,IAAIC,GAAJ,EAASgH,MAAT,KAAoB,CAApB,IAAyB,CAACiW,WAA9B,EAA2C;AAAEld,YAAIC,GAAJ,IAAWD,IAAIC,GAAJ,EAAS,CAAT,CAAX;AAAyB;AAC5E,KALD,MAME;AAAE,aAAOD,IAAIC,GAAJ,CAAP;AAAkB,KAP8B,CAO7B;AACxB;;AAED;;;;;;;;AAQA,WAASoZ,OAAT,CAAiBvV,IAAjB,EAAuB2H,OAAvB,EAAgCuG,IAAhC,EAAsCrR,GAAtC,EAA2C;AACzC,QAAI4Q,OAAOjU,WAAWmO,OAAX,CAAX;AAAA,QACE8R,YAAYjgB,WAAWmO,OAAX,EAAoB0N,KADlC;AAAA,QAEEvI,MAAMjQ,QAAQ4c,YAAYpd,OAAOsP,MAAP,CAAc8N,UAAU3c,SAAxB,CAAZ,GAAiD,EAAzD,CAFR;;AAGE;AACAoB,gBAAY8B,KAAK0Z,UAAL,GAAkB1Z,KAAK0Z,UAAL,IAAmB1Z,KAAK9B,SAJxD;;AAMA,QAAIkP,OAAO7B,OAAO,EAAEvL,MAAMA,IAAR,EAAckO,MAAMA,IAApB,EAAP,EAAmC,EAAEhC,QAAQgC,OAAOA,KAAKhC,MAAZ,GAAqB,IAA/B,EAAnC,CAAX;;AAEA,QAAIuB,QAAQzN,IAAZ,EAAkB;AAAEgT,YAAMxI,KAAN,CAAYsC,GAAZ,EAAiB,CAACW,IAAD,EAAOL,IAAP,EAAalP,SAAb,CAAjB;AAA4C;;AAEhE,QAAI4O,OAAOA,IAAIgB,KAAf,EAAsB;AACpBhB,UAAIgB,KAAJ,CAAU,IAAV;AACA;AACA,UAAI,CAAC7C,SAAS1R,YAAT,EAAuBuT,GAAvB,CAAL,EAAkC;AAAEvT,qBAAaqI,IAAb,CAAkBkL,GAAlB;AAAyB;AAC9D;;AAED,WAAOA,GAAP;AACD;;AAED;;;;;;AAMA,WAASiB,kBAAT,CAA4BjB,GAA5B,EAAiCS,GAAjC,EAAsC;AACpC,QAAIiF,OAAOpV,YAAX;AACAsU,gBAAY1U,IAAZ,CAAiB8P,GAAjB,EAAsB0F,IAAtB;AACAjF,QAAInN,UAAJ,CAAekB,YAAf,CAA4BkR,IAA5B,EAAkCjF,GAAlC;AACD;;AAED;;;;;;AAMA,WAASmE,WAAT,CAAqBlG,GAArB,EAA0BY,MAA1B,EAAkC;AAChC,QAAIgF,SAAS,IAAb;;AAEA,QAAI9D,OAAOhQ,sBAAX;AAAA,QACEma,OAAOna,sBADT;AAAA,QAEEkV,OAAOpV,YAFT;AAAA,QAGEuc,GAHF;AAAA,QAGOlc,EAHP;;AAKA,SAAKuC,IAAL,CAAUG,YAAV,CAAuBmN,IAAvB,EAA6B,KAAKtN,IAAL,CAAUY,UAAvC;AACA,SAAKZ,IAAL,CAAUtB,WAAV,CAAsB+Y,IAAtB;;AAEA,SAAK7P,EAAL,CAAQ0F,IAAR,GAAe7P,KAAK6P,IAApB;AACA,SAAK1F,EAAL,CAAQ6P,IAAR,GAAeA,IAAf;;AAEA,WAAOha,EAAP,EAAW;AACTkc,YAAMlc,GAAGoD,WAAT;AACA2R,WAAK9T,WAAL,CAAiBjB,EAAjB;AACA2T,aAAOxJ,EAAP,CAAU4P,KAAV,CAAgB5V,IAAhB,CAAqBnE,EAArB,EAHS,CAGiB;AAC1BA,WAAKkc,GAAL;AACD;;AAED,QAAIvN,MAAJ,EACE;AAAEZ,UAAIrL,YAAJ,CAAiBqS,IAAjB,EAAuBpG,OAAOxE,EAAP,CAAU0F,IAAjC;AAAyC,KAD7C,MAGE;AAAE9B,UAAI9M,WAAJ,CAAgB8T,IAAhB;AAAwB;AAC7B;;AAED;;;;;;AAMA,WAAShB,WAAT,CAAqBhG,GAArB,EAA0BY,MAA1B,EAAkC;AAChC,QAAIgF,SAAS,IAAb;;AAEA,QAAI3T,KAAK,KAAKmK,EAAL,CAAQ0F,IAAjB;AAAA,QACEkF,OAAOpV,YADT;AAAA,QAEEuc,GAFF;;AAIA,WAAOlc,EAAP,EAAW;AACTkc,YAAMlc,GAAGoD,WAAT;AACA2R,WAAK9T,WAAL,CAAiBjB,EAAjB;AACAA,WAAKkc,GAAL;AACA,UAAIlc,OAAO2T,OAAOxJ,EAAP,CAAU6P,IAArB,EAA2B;AACzBjF,aAAK9T,WAAL,CAAiBjB,EAAjB;AACA+N,YAAIrL,YAAJ,CAAiBqS,IAAjB,EAAuBpG,OAAOxE,EAAP,CAAU0F,IAAjC;AACA;AACD;AACF;AACF;;AAED;;;;;AAKA,WAASwI,UAAT,CAAoB1H,IAApB,EAA0B;AACxB;AACA,QAAI,CAACA,IAAL,EAAW;AACT,UAAIjP,OAAO9C,OAAO8C,IAAP,CAAY3F,UAAZ,CAAX;AACA,aAAO2F,OAAO2W,WAAW3W,IAAX,CAAd;AACD;;AAED,WAAOiP,KACJsE,MADI,CACG,UAAUO,CAAV,EAAa;AAAE,aAAO,CAAC,SAASxX,IAAT,CAAcwX,CAAd,CAAR;AAA2B,KAD7C,EAEJ7T,MAFI,CAEG,UAAUqJ,IAAV,EAAgBwK,CAAhB,EAAmB;AACzB,UAAIrV,OAAOqV,EAAEzM,IAAF,GAAShG,WAAT,EAAX;AACA,aAAOiI,OAAO,IAAP,GAAc7O,YAAd,GAA6B,KAA7B,GAAqCgE,IAArC,GAA4C,KAAnD;AACD,KALI,EAKF,EALE,CAAP;AAMD;;AAGD,MAAIwQ,OAAO/R,OAAOK,MAAP,CAAc;AACxBuV,YAAQA,MADgB;AAExB6F,iBAAaA,WAFW;AAGxBzG,kBAAcA,YAHU;AAIxB1D,kBAAcA,YAJU;AAKxBjB,iCAA6BA,2BALL;AAMxBwD,gBAAYA,UANY;AAOxB4B,gBAAYA,UAPY;AAQxBsF,iBAAaA,WARW;AASxBvG,iBAAaA,WATW;AAUxBvC,oBAAgBA,cAVQ;AAWxBiH,aAASA,OAXe;AAYxBxH,wBAAoBA,kBAZI;AAaxB2D,iBAAaA,WAbW;AAcxBF,iBAAaA,WAdW;AAexBsE,gBAAYA;AAfY,GAAd,CAAX;;AAkBA;;;AAGA,MAAI5O,WAAWwE,UAAf;AACA,MAAIkO,OAAO;AACTvU,UAAMA,IADG;AAET9B,cAAUA,QAFD;AAGT9B,kBAAcA,YAHL;AAIToY,UAAMtgB,YAJG;AAKTuH,eAAWW,aAAaX,SALf;AAMT;AACAlC,SAAKA,GAPI;AAQTnC,WAAOA,KARE;AASTgP,UAAMA,IATG;AAUT2C,UAAMA;AAVG,GAAX;;AAaA;AACA,MAAI0L,SAAS5E,KAAb;AACA,MAAI6E,SAAS3E,KAAb;AACA,MAAI4E,UAAUxE,MAAd;AACA,MAAIyE,WAAWxE,OAAf;AACA,MAAIyE,WAAW9D,OAAf;AACA,MAAI+D,YAAY3D,QAAhB;AACA,MAAI4D,gBAAgB3D,YAApB;AACA,MAAI4D,aAAa3D,SAAjB;AACA,MAAI4D,aAAaxQ,YAAjB;;AAEA,MAAIyQ,SAAShP,OAAO,EAAP,EAAWoL,IAAX,EAAiB;AAC5B2D,gBAAYxQ,YADgB;AAE5B5C,cAAUA,QAFkB;AAG5B0S,UAAMA;AAHsB,GAAjB,CAAb;;AAMAxgB,UAAQ8N,QAAR,GAAmBA,QAAnB;AACA9N,UAAQwgB,IAAR,GAAeA,IAAf;AACAxgB,UAAQwd,GAAR,GAAckD,MAAd;AACA1gB,UAAQ0T,GAAR,GAAciN,MAAd;AACA3gB,UAAQyd,IAAR,GAAemD,OAAf;AACA5gB,UAAQ0U,KAAR,GAAgBmM,QAAhB;AACA7gB,UAAQ0d,KAAR,GAAgBoD,QAAhB;AACA9gB,UAAQwT,MAAR,GAAiBuN,SAAjB;AACA/gB,UAAQ2d,UAAR,GAAqBqD,aAArB;AACAhhB,UAAQyQ,OAAR,GAAkBwQ,UAAlB;AACAjhB,UAAQkhB,UAAR,GAAqBA,UAArB;AACAlhB,UAAQ,SAAR,IAAqBmhB,MAArB;;AAEAle,SAAOyK,cAAP,CAAsB1N,OAAtB,EAA+B,YAA/B,EAA6C,EAAEoC,OAAO,IAAT,EAA7C;AAEC,CAt0FA,CAAD,C;;;;;;;;ACDA;;;;AAEA,IAAIgf,SAASne,OAAOS,SAAP,CAAiByb,cAA9B;AACA,IAAIkC,QAAQpe,OAAOS,SAAP,CAAiB4d,QAA7B;;AAEA,IAAI3e,UAAU,SAASA,OAAT,CAAiBgJ,GAAjB,EAAsB;AACnC,KAAI,OAAO/I,MAAMD,OAAb,KAAyB,UAA7B,EAAyC;AACxC,SAAOC,MAAMD,OAAN,CAAcgJ,GAAd,CAAP;AACA;;AAED,QAAO0V,MAAMzd,IAAN,CAAW+H,GAAX,MAAoB,gBAA3B;AACA,CAND;;AAQA,IAAI4V,gBAAgB,SAASA,aAAT,CAAuBze,GAAvB,EAA4B;AAC/C,KAAI,CAACA,GAAD,IAAQue,MAAMzd,IAAN,CAAWd,GAAX,MAAoB,iBAAhC,EAAmD;AAClD,SAAO,KAAP;AACA;;AAED,KAAI0e,oBAAoBJ,OAAOxd,IAAP,CAAYd,GAAZ,EAAiB,aAAjB,CAAxB;AACA,KAAI2e,mBAAmB3e,IAAIoZ,WAAJ,IAAmBpZ,IAAIoZ,WAAJ,CAAgBxY,SAAnC,IAAgD0d,OAAOxd,IAAP,CAAYd,IAAIoZ,WAAJ,CAAgBxY,SAA5B,EAAuC,eAAvC,CAAvE;AACA;AACA,KAAIZ,IAAIoZ,WAAJ,IAAmB,CAACsF,iBAApB,IAAyC,CAACC,gBAA9C,EAAgE;AAC/D,SAAO,KAAP;AACA;;AAED;AACA;AACA,KAAI1e,GAAJ;AACA,MAAKA,GAAL,IAAYD,GAAZ,EAAiB,CAAE,IAAM;;AAEzB,QAAO,OAAOC,GAAP,KAAe,WAAf,IAA8Bqe,OAAOxd,IAAP,CAAYd,GAAZ,EAAiBC,GAAjB,CAArC;AACA,CAlBD;;AAoBA9C,OAAOD,OAAP,GAAiB,SAASmS,MAAT,GAAkB;AAClC,KAAID,OAAJ,EAAa1N,IAAb,EAAmB4N,GAAnB,EAAwBsP,IAAxB,EAA8BC,WAA9B,EAA2CC,KAA3C;AACA,KAAI5O,SAAS3B,UAAU,CAAV,CAAb;AACA,KAAIlC,IAAI,CAAR;AACA,KAAIpF,SAASsH,UAAUtH,MAAvB;AACA,KAAI8X,OAAO,KAAX;;AAEA;AACA,KAAI,OAAO7O,MAAP,KAAkB,SAAtB,EAAiC;AAChC6O,SAAO7O,MAAP;AACAA,WAAS3B,UAAU,CAAV,KAAgB,EAAzB;AACA;AACAlC,MAAI,CAAJ;AACA;AACD,KAAI6D,UAAU,IAAV,IAAmB,QAAOA,MAAP,yCAAOA,MAAP,OAAkB,QAAlB,IAA8B,OAAOA,MAAP,KAAkB,UAAvE,EAAoF;AACnFA,WAAS,EAAT;AACA;;AAED,QAAO7D,IAAIpF,MAAX,EAAmB,EAAEoF,CAArB,EAAwB;AACvB+C,YAAUb,UAAUlC,CAAV,CAAV;AACA;AACA,MAAI+C,WAAW,IAAf,EAAqB;AACpB;AACA,QAAK1N,IAAL,IAAa0N,OAAb,EAAsB;AACrBE,UAAMY,OAAOxO,IAAP,CAAN;AACAkd,WAAOxP,QAAQ1N,IAAR,CAAP;;AAEA;AACA,QAAIwO,WAAW0O,IAAf,EAAqB;AACpB;AACA,SAAIG,QAAQH,IAAR,KAAiBH,cAAcG,IAAd,MAAwBC,cAAchf,QAAQ+e,IAAR,CAAtC,CAAjB,CAAJ,EAA4E;AAC3E,UAAIC,WAAJ,EAAiB;AAChBA,qBAAc,KAAd;AACAC,eAAQxP,OAAOzP,QAAQyP,GAAR,CAAP,GAAsBA,GAAtB,GAA4B,EAApC;AACA,OAHD,MAGO;AACNwP,eAAQxP,OAAOmP,cAAcnP,GAAd,CAAP,GAA4BA,GAA5B,GAAkC,EAA1C;AACA;;AAED;AACAY,aAAOxO,IAAP,IAAe2N,OAAO0P,IAAP,EAAaD,KAAb,EAAoBF,IAApB,CAAf;;AAED;AACC,MAZD,MAYO,IAAI,OAAOA,IAAP,KAAgB,WAApB,EAAiC;AACvC1O,aAAOxO,IAAP,IAAekd,IAAf;AACA;AACD;AACD;AACD;AACD;;AAED;AACA,QAAO1O,MAAP;AACA,CApDD,C;;;;;;;;;ACjCA;;;;AACA;;;;AACA/Q,SAAS6f,IAAT,CAAchd,SAAd;AACA,eAAK4P,KAAL,CAAW,GAAX;AACA,0B;;;;;;;;;ACJA;;AACA;;AACAxU,KAAKud,IAAL,CAAU,KAAV,EAAiB,uCAAjB,EAA0D,EAA1D,EAA8D,EAA9D,EAAkE,UAAS3I,IAAT,EAAe,CAChF,CADD,E;;;;;;;;;;ACFA;;;;AACA;;;;;;AACA5U,KAAKud,IAAL,CAAU,mBAAV,EAA+B,0BAA/B,EAA2D,EAA3D,EAA+D,EAA/D,EAAmE,UAAS3I,IAAT,EAAe;AAAA;;AAC1E,SAAK1S,KAAL,GAAa2f,WAAW,KAAKjN,IAAL,CAAUkN,YAArB,KAAsC,CAAnD;AACA,SAAKnR,EAAL,CAAQ,OAAR,EAAiB,YAAI;AACjB,cAAKqB,OAAL,GAAe;AACXvI,mBAAO,MAAKvH,KADD;AAEX6f,qBAAS,CAAC,IAAD,EAAO,KAAP,CAFE;AAGXC,mBAAO;AACHC,qBAAK,CADF;AAEHC,qBAAK;AAFF,aAHI;AAOXC,kBAAM;AACFC,sBAAM,OADJ;AAEFC,yBAAS,CAFP;AAGFC,wBAAQ;AAHN;AAPK,SAAf;AAaA,8BAAO,IAAP,EAAa,MAAKtQ,OAAlB,EAA2B,MAAK4C,IAAL,CAAU5C,OAArC;AACA,6BAAWK,MAAX,CAAkB,MAAKiF,IAAL,CAAUiL,MAA5B,EAAmC,MAAKvQ,OAAxC;AACA,cAAKsF,IAAL,CAAUiL,MAAV,CAAiBC,UAAjB,CAA4B7R,EAA5B,CAA+B,QAA/B,EAAyC,iBAAO;AAC5C,kBAAKzO,KAAL,GAAa2f,WAAW3f,KAAX,CAAb;AACA,kBAAKkP,OAAL,CAAa,QAAb,EAAuBlP,KAAvB;AACH,SAHD;AAIH,KApBD;AAqBP,CAvBD,E;;;;;;;;;;;;ACFA;;AAEC,WAAUrC,OAAV,EAAmB;;AAEhB,KAAK,IAAL,EAAkD;;AAE9C;AACA4iB,EAAA,iCAAO,EAAP,oCAAW5iB,OAAX;AAAA;AAAA;AAAA;AAEH,EALD,MAKO,IAAK,QAAOC,OAAP,yCAAOA,OAAP,OAAmB,QAAxB,EAAmC;;AAEtC;AACAC,SAAOD,OAAP,GAAiBD,SAAjB;AAEH,EALM,MAKA;;AAEH;AACAwB,SAAOmhB,UAAP,GAAoB3iB,SAApB;AACH;AAEJ,CAlBA,EAkBC,YAAW;;AAEZ;;AAEA,KAAI6iB,UAAU,QAAd;;AAGA,UAASC,gBAAT,CAA4BC,KAA5B,EAAoC;AACnC,SAAO,QAAOA,KAAP,yCAAOA,KAAP,OAAiB,QAAjB,IAA6B,OAAOA,MAAMC,EAAb,KAAoB,UAAjD,IAA+D,OAAOD,MAAME,IAAb,KAAsB,UAA5F;AACA;;AAED,UAASC,aAAT,CAAyB5e,EAAzB,EAA8B;AAC7BA,KAAGgW,aAAH,CAAiB3D,WAAjB,CAA6BrS,EAA7B;AACA;;AAED;AACA,UAAS6e,cAAT,CAA0BtQ,CAA1B,EAA8B;AAC7BA,IAAEsQ,cAAF;AACA;;AAED;AACA,UAASC,MAAT,CAAkB9V,KAAlB,EAA0B;AACzB,SAAOA,MAAMiM,MAAN,CAAa,UAAS7E,CAAT,EAAW;AAC9B,UAAO,CAAC,KAAKA,CAAL,CAAD,GAAW,KAAKA,CAAL,IAAU,IAArB,GAA4B,KAAnC;AACA,GAFM,EAEJ,EAFI,CAAP;AAGA;;AAED;AACA,UAAS2O,OAAT,CAAmBhhB,KAAnB,EAA0B2gB,EAA1B,EAA+B;AAC9B,SAAOM,KAAKC,KAAL,CAAWlhB,QAAQ2gB,EAAnB,IAAyBA,EAAhC;AACA;;AAED;AACA,UAASQ,MAAT,CAAkBjH,IAAlB,EAAwBkH,WAAxB,EAAsC;;AAErC,MAAIC,OAAOnH,KAAKoH,qBAAL,EAAX;AACA,MAAI3e,MAAMuX,KAAKnX,aAAf;AACA,MAAIwe,UAAU5e,IAAIM,eAAlB;AACA,MAAIue,aAAaC,cAAc9e,GAAd,CAAjB;;AAEA;AACA;AACA;AACA,MAAK,0BAA0B1C,IAA1B,CAA+ByhB,UAAUC,SAAzC,CAAL,EAA2D;AAC1DH,cAAWI,CAAX,GAAe,CAAf;AACA;;AAED,SAAOR,cAAeC,KAAKQ,GAAL,GAAWL,WAAWM,CAAtB,GAA0BP,QAAQQ,SAAjD,GAA+DV,KAAKW,IAAL,GAAYR,WAAWI,CAAvB,GAA2BL,QAAQU,UAAzG;AACA;;AAED;AACA,UAASC,SAAT,CAAqB7P,CAArB,EAAyB;AACxB,SAAO,OAAOA,CAAP,KAAa,QAAb,IAAyB,CAAC8P,MAAO9P,CAAP,CAA1B,IAAwC+P,SAAU/P,CAAV,CAA/C;AACA;;AAED;AACA,UAASgQ,WAAT,CAAuBC,OAAvB,EAAgCC,SAAhC,EAA2CC,QAA3C,EAAsD;AACrD,MAAIA,WAAW,CAAf,EAAkB;AAClBC,YAASH,OAAT,EAAkBC,SAAlB;AACCG,cAAW,YAAU;AACpBC,gBAAYL,OAAZ,EAAqBC,SAArB;AACA,IAFD,EAEGC,QAFH;AAGA;AACD;;AAED;AACA,UAASI,KAAT,CAAiBvQ,CAAjB,EAAqB;AACpB,SAAO4O,KAAKjB,GAAL,CAASiB,KAAKlB,GAAL,CAAS1N,CAAT,EAAY,GAAZ,CAAT,EAA2B,CAA3B,CAAP;AACA;;AAED;AACA;AACA,UAASwQ,OAAT,CAAmBxQ,CAAnB,EAAuB;AACtB,SAAO7R,MAAMD,OAAN,CAAc8R,CAAd,IAAmBA,CAAnB,GAAuB,CAACA,CAAD,CAA9B;AACA;;AAED;AACA,UAASyQ,aAAT,CAAyBC,MAAzB,EAAkC;AACjCA,WAASC,OAAOD,MAAP,CAAT;AACA,MAAIE,SAASF,OAAOvZ,KAAP,CAAa,GAAb,CAAb;AACA,SAAOyZ,OAAOtb,MAAP,GAAgB,CAAhB,GAAoBsb,OAAO,CAAP,EAAUtb,MAA9B,GAAuC,CAA9C;AACA;;AAED;AACA,UAAS8a,QAAT,CAAoBxgB,EAApB,EAAwBsgB,SAAxB,EAAoC;AACnC,MAAKtgB,GAAGihB,SAAR,EAAoB;AACnBjhB,MAAGihB,SAAH,CAAahd,GAAb,CAAiBqc,SAAjB;AACA,GAFD,MAEO;AACNtgB,MAAGsgB,SAAH,IAAgB,MAAMA,SAAtB;AACA;AACD;;AAED;AACA,UAASI,WAAT,CAAuB1gB,EAAvB,EAA2BsgB,SAA3B,EAAuC;AACtC,MAAKtgB,GAAGihB,SAAR,EAAoB;AACnBjhB,MAAGihB,SAAH,CAAaxN,MAAb,CAAoB6M,SAApB;AACA,GAFD,MAEO;AACNtgB,MAAGsgB,SAAH,GAAetgB,GAAGsgB,SAAH,CAAanZ,OAAb,CAAqB,IAAIb,MAAJ,CAAW,YAAYga,UAAU/Y,KAAV,CAAgB,GAAhB,EAAqB/C,IAArB,CAA0B,GAA1B,CAAZ,GAA6C,SAAxD,EAAmE,IAAnE,CAArB,EAA+F,GAA/F,CAAf;AACA;AACD;;AAED;AACA,UAAS0c,QAAT,CAAoBlhB,EAApB,EAAwBsgB,SAAxB,EAAoC;AACnC,SAAOtgB,GAAGihB,SAAH,GAAejhB,GAAGihB,SAAH,CAAazT,QAAb,CAAsB8S,SAAtB,CAAf,GAAkD,IAAIha,MAAJ,CAAW,QAAQga,SAAR,GAAoB,KAA/B,EAAsCtiB,IAAtC,CAA2CgC,GAAGsgB,SAA9C,CAAzD;AACA;;AAED;AACA,UAASd,aAAT,CAAyB9e,GAAzB,EAA+B;;AAE9B,MAAIygB,oBAAoBjkB,OAAOkkB,WAAP,KAAuBjkB,SAA/C;AACA,MAAIkkB,eAAgB,CAAC3gB,IAAI4gB,UAAJ,IAAkB,EAAnB,MAA2B,YAA/C;AACA,MAAI3B,IAAIwB,oBAAoBjkB,OAAOkkB,WAA3B,GAAyCC,eAAe3gB,IAAIM,eAAJ,CAAoBugB,UAAnC,GAAgD7gB,IAAI+c,IAAJ,CAAS8D,UAA1G;AACA,MAAI1B,IAAIsB,oBAAoBjkB,OAAOskB,WAA3B,GAAyCH,eAAe3gB,IAAIM,eAAJ,CAAoBygB,SAAnC,GAA+C/gB,IAAI+c,IAAJ,CAASgE,SAAzG;;AAEA,SAAO;AACN9B,MAAGA,CADG;AAENE,MAAGA;AAFG,GAAP;AAIA;;AAED;AACA;AACA;AACA,UAAS6B,UAAT,GAAwB;;AAEvB;AACA;AACA,SAAOxkB,OAAOuiB,SAAP,CAAiBkC,cAAjB,GAAkC;AACxCrc,UAAO,aADiC;AAExCuO,SAAM,aAFkC;AAGxChO,QAAK;AAHmC,GAAlC,GAIH3I,OAAOuiB,SAAP,CAAiBmC,gBAAjB,GAAoC;AACvCtc,UAAO,eADgC;AAEvCuO,SAAM,eAFiC;AAGvChO,QAAK;AAHkC,GAApC,GAIA;AACHP,UAAO,sBADJ;AAEHuO,SAAM,qBAFH;AAGHhO,QAAK;AAHF,GARJ;AAaA;;AAED;AACA;AACA,UAASgc,kBAAT,GAAgC;;AAE/B,MAAIC,kBAAkB,KAAtB;;AAEA,MAAI;;AAEH,OAAIrR,OAAO7R,OAAOyK,cAAP,CAAsB,EAAtB,EAA0B,SAA1B,EAAqC;AAC/CE,SAAK,eAAW;AACfuY,uBAAkB,IAAlB;AACA;AAH8C,IAArC,CAAX;;AAMA5kB,UAAOuS,gBAAP,CAAwB,MAAxB,EAAgC,IAAhC,EAAsCgB,IAAtC;AAEA,GAVD,CAUE,OAAOlC,CAAP,EAAU,CAAE;;AAEd,SAAOuT,eAAP;AACA;;AAED,UAASC,0BAAT,GAAwC;AACvC,SAAO7kB,OAAO8kB,GAAP,IAAcA,IAAIC,QAAlB,IAA8BD,IAAIC,QAAJ,CAAa,cAAb,EAA6B,MAA7B,CAArC;AACA;;AAGF;;AAEC;AACA,UAASC,aAAT,CAAyBC,EAAzB,EAA6BC,EAA7B,EAAkC;AACjC,SAAQ,OAAOA,KAAKD,EAAZ,CAAR;AACA;;AAED;AACA,UAASE,cAAT,CAA0BxE,KAA1B,EAAiC9f,KAAjC,EAAyC;AACxC,SAAQA,QAAQ,GAAT,IAAkB8f,MAAM,CAAN,IAAWA,MAAM,CAAN,CAA7B,CAAP;AACA;;AAED;AACA,UAASyE,YAAT,CAAwBzE,KAAxB,EAA+B9f,KAA/B,EAAuC;AACtC,SAAOskB,eAAgBxE,KAAhB,EAAuBA,MAAM,CAAN,IAAW,CAAX,GAC7B9f,QAAQihB,KAAKuD,GAAL,CAAS1E,MAAM,CAAN,CAAT,CADqB,GAE5B9f,QAAQ8f,MAAM,CAAN,CAFH,CAAP;AAGA;;AAED;AACA,UAAS2E,YAAT,CAAwB3E,KAAxB,EAA+B9f,KAA/B,EAAuC;AACtC,SAASA,SAAU8f,MAAM,CAAN,IAAWA,MAAM,CAAN,CAArB,CAAD,GAAoC,GAArC,GAA4CA,MAAM,CAAN,CAAnD;AACA;;AAGF;;AAEC,UAAS4E,IAAT,CAAgB1kB,KAAhB,EAAuBuJ,GAAvB,EAA6B;;AAE5B,MAAIyD,IAAI,CAAR;;AAEA,SAAQhN,SAASuJ,IAAIyD,CAAJ,CAAjB,EAAyB;AACxBA,QAAK,CAAL;AACA;;AAED,SAAOA,CAAP;AACA;;AAED;AACA,UAAS2X,UAAT,CAAsBC,IAAtB,EAA4BC,IAA5B,EAAkC7kB,KAAlC,EAA0C;;AAEzC,MAAKA,SAAS4kB,KAAKrjB,KAAL,CAAW,CAAC,CAAZ,EAAe,CAAf,CAAd,EAAiC;AAChC,UAAO,GAAP;AACA;;AAED,MAAIyL,IAAI0X,KAAM1kB,KAAN,EAAa4kB,IAAb,CAAR;AAAA,MAA6BE,EAA7B;AAAA,MAAiCC,EAAjC;AAAA,MAAqCX,EAArC;AAAA,MAAyCC,EAAzC;;AAEAS,OAAKF,KAAK5X,IAAE,CAAP,CAAL;AACA+X,OAAKH,KAAK5X,CAAL,CAAL;AACAoX,OAAKS,KAAK7X,IAAE,CAAP,CAAL;AACAqX,OAAKQ,KAAK7X,CAAL,CAAL;;AAEA,SAAOoX,KAAMG,aAAa,CAACO,EAAD,EAAKC,EAAL,CAAb,EAAuB/kB,KAAvB,IAAgCmkB,cAAeC,EAAf,EAAmBC,EAAnB,CAA7C;AACA;;AAED;AACA,UAASW,YAAT,CAAwBJ,IAAxB,EAA8BC,IAA9B,EAAoC7kB,KAApC,EAA4C;;AAE3C;AACA,MAAKA,SAAS,GAAd,EAAmB;AAClB,UAAO4kB,KAAKrjB,KAAL,CAAW,CAAC,CAAZ,EAAe,CAAf,CAAP;AACA;;AAED,MAAIyL,IAAI0X,KAAM1kB,KAAN,EAAa6kB,IAAb,CAAR;AAAA,MAA6BC,EAA7B;AAAA,MAAiCC,EAAjC;AAAA,MAAqCX,EAArC;AAAA,MAAyCC,EAAzC;;AAEAS,OAAKF,KAAK5X,IAAE,CAAP,CAAL;AACA+X,OAAKH,KAAK5X,CAAL,CAAL;AACAoX,OAAKS,KAAK7X,IAAE,CAAP,CAAL;AACAqX,OAAKQ,KAAK7X,CAAL,CAAL;;AAEA,SAAOyX,aAAa,CAACK,EAAD,EAAKC,EAAL,CAAb,EAAuB,CAAC/kB,QAAQokB,EAAT,IAAeD,cAAeC,EAAf,EAAmBC,EAAnB,CAAtC,CAAP;AACA;;AAED;AACA,UAASY,OAAT,CAAmBJ,IAAnB,EAAyBK,MAAzB,EAAiCC,IAAjC,EAAuCnlB,KAAvC,EAA+C;;AAE9C,MAAKA,UAAU,GAAf,EAAqB;AACpB,UAAOA,KAAP;AACA;;AAED,MAAIgN,IAAI0X,KAAM1kB,KAAN,EAAa6kB,IAAb,CAAR;AAAA,MAA6BxS,CAA7B;AAAA,MAAgChH,CAAhC;;AAEA;AACA,MAAK8Z,IAAL,EAAY;;AAEX9S,OAAIwS,KAAK7X,IAAE,CAAP,CAAJ;AACA3B,OAAIwZ,KAAK7X,CAAL,CAAJ;;AAEA;AACA,OAAKhN,QAAQqS,CAAT,GAAe,CAAChH,IAAEgH,CAAH,IAAM,CAAzB,EAA4B;AAC3B,WAAOhH,CAAP;AACA;;AAED,UAAOgH,CAAP;AACA;;AAED,MAAK,CAAC6S,OAAOlY,IAAE,CAAT,CAAN,EAAmB;AAClB,UAAOhN,KAAP;AACA;;AAED,SAAO6kB,KAAK7X,IAAE,CAAP,IAAYgU,QAClBhhB,QAAQ6kB,KAAK7X,IAAE,CAAP,CADU,EAElBkY,OAAOlY,IAAE,CAAT,CAFkB,CAAnB;AAIA;;AAGF;;AAEC,UAASoY,gBAAT,CAA4Bhb,KAA5B,EAAmCpK,KAAnC,EAA0CqlB,IAA1C,EAAiD;;AAEhD,MAAIC,UAAJ;;AAEA;AACA,MAAK,OAAOtlB,KAAP,KAAiB,QAAtB,EAAiC;AAChCA,WAAQ,CAACA,KAAD,CAAR;AACA;;AAED;AACA,MAAKa,OAAOS,SAAP,CAAiB4d,QAAjB,CAA0B1d,IAA1B,CAAgCxB,KAAhC,MAA4C,gBAAjD,EAAmE;AAClE,SAAM,IAAIyJ,KAAJ,CAAU,iBAAiB+W,OAAjB,GAA2B,oCAArC,CAAN;AACA;;AAED;AACA,MAAKpW,UAAU,KAAf,EAAuB;AACtBkb,gBAAa,CAAb;AACA,GAFD,MAEO,IAAKlb,UAAU,KAAf,EAAuB;AAC7Bkb,gBAAa,GAAb;AACA,GAFM,MAEA;AACNA,gBAAa3F,WAAYvV,KAAZ,CAAb;AACA;;AAED;AACA,MAAK,CAAC8X,UAAWoD,UAAX,CAAD,IAA4B,CAACpD,UAAWliB,MAAM,CAAN,CAAX,CAAlC,EAA0D;AACzD,SAAM,IAAIyJ,KAAJ,CAAU,iBAAiB+W,OAAjB,GAA2B,iCAArC,CAAN;AACA;;AAED;AACA6E,OAAKR,IAAL,CAAUze,IAAV,CAAgBkf,UAAhB;AACAD,OAAKT,IAAL,CAAUxe,IAAV,CAAgBpG,MAAM,CAAN,CAAhB;;AAEA;AACA;AACA;AACA,MAAK,CAACslB,UAAN,EAAmB;AAClB,OAAK,CAACnD,MAAOniB,MAAM,CAAN,CAAP,CAAN,EAA0B;AACzBqlB,SAAKH,MAAL,CAAY,CAAZ,IAAiBllB,MAAM,CAAN,CAAjB;AACA;AACD,GAJD,MAIO;AACNqlB,QAAKH,MAAL,CAAY9e,IAAZ,CAAkB+b,MAAMniB,MAAM,CAAN,CAAN,IAAkB,KAAlB,GAA0BA,MAAM,CAAN,CAA5C;AACA;;AAEDqlB,OAAKE,oBAAL,CAA0Bnf,IAA1B,CAA+B,CAA/B;AACA;;AAED,UAASof,eAAT,CAA2BzY,CAA3B,EAA8B0Y,CAA9B,EAAiCJ,IAAjC,EAAwC;;AAEvC;AACA,MAAK,CAACI,CAAN,EAAU;AACT,UAAO,IAAP;AACA;;AAED;AACAJ,OAAKH,MAAL,CAAYnY,CAAZ,IAAiBuX,eAAe,CAC9Be,KAAKT,IAAL,CAAU7X,CAAV,CAD8B,EAE9BsY,KAAKT,IAAL,CAAU7X,IAAE,CAAZ,CAF8B,CAAf,EAGd0Y,CAHc,IAGTtB,cACPkB,KAAKR,IAAL,CAAU9X,CAAV,CADO,EAEPsY,KAAKR,IAAL,CAAU9X,IAAE,CAAZ,CAFO,CAHR;;AAOA,MAAI2Y,aAAa,CAACL,KAAKT,IAAL,CAAU7X,IAAE,CAAZ,IAAiBsY,KAAKT,IAAL,CAAU7X,CAAV,CAAlB,IAAkCsY,KAAKM,SAAL,CAAe5Y,CAAf,CAAnD;AACA,MAAI6Y,cAAc3E,KAAK4E,IAAL,CAAUC,OAAOJ,WAAWK,OAAX,CAAmB,CAAnB,CAAP,IAAgC,CAA1C,CAAlB;AACA,MAAIC,OAAOX,KAAKT,IAAL,CAAU7X,CAAV,IAAgBsY,KAAKM,SAAL,CAAe5Y,CAAf,IAAoB6Y,WAA/C;;AAEAP,OAAKE,oBAAL,CAA0BxY,CAA1B,IAA+BiZ,IAA/B;AACA;;AAGF;;AAEC,UAASC,QAAT,CAAoBvF,KAApB,EAA2ByE,IAA3B,EAAiCe,UAAjC,EAA8C;;AAE7C,OAAKrB,IAAL,GAAY,EAAZ;AACA,OAAKD,IAAL,GAAY,EAAZ;AACA,OAAKM,MAAL,GAAc,CAAEgB,cAAc,KAAhB,CAAd;AACA,OAAKP,SAAL,GAAiB,CAAE,KAAF,CAAjB;AACA,OAAKJ,oBAAL,GAA4B,EAA5B;;AAEA,OAAKJ,IAAL,GAAYA,IAAZ;;AAEA,MAAI/a,KAAJ;AAAA,MAAW+b,UAAU,CAAE,wCAAF,CAArB;;AAEA;AACA,OAAM/b,KAAN,IAAesW,KAAf,EAAuB;AACtB,OAAKA,MAAM3D,cAAN,CAAqB3S,KAArB,CAAL,EAAmC;AAClC+b,YAAQ/f,IAAR,CAAa,CAACsa,MAAMtW,KAAN,CAAD,EAAeA,KAAf,CAAb;AACA;AACD;;AAED;AACA,MAAK+b,QAAQxe,MAAR,IAAkB,QAAOwe,QAAQ,CAAR,EAAW,CAAX,CAAP,MAAyB,QAAhD,EAA2D;AAC1DA,WAAQC,IAAR,CAAa,UAAS/T,CAAT,EAAYhH,CAAZ,EAAe;AAAE,WAAOgH,EAAE,CAAF,EAAK,CAAL,IAAUhH,EAAE,CAAF,EAAK,CAAL,CAAjB;AAA2B,IAAzD;AACA,GAFD,MAEO;AACN8a,WAAQC,IAAR,CAAa,UAAS/T,CAAT,EAAYhH,CAAZ,EAAe;AAAE,WAAOgH,EAAE,CAAF,IAAOhH,EAAE,CAAF,CAAd;AAAqB,IAAnD;AACA;;AAGD;AACA,OAAMjB,QAAQ,CAAd,EAAiBA,QAAQ+b,QAAQxe,MAAjC,EAAyCyC,OAAzC,EAAmD;AAClDgb,oBAAiBe,QAAQ/b,KAAR,EAAe,CAAf,CAAjB,EAAoC+b,QAAQ/b,KAAR,EAAe,CAAf,CAApC,EAAuD,IAAvD;AACA;;AAED;AACA;AACA,OAAKub,SAAL,GAAiB,KAAKT,MAAL,CAAY3jB,KAAZ,CAAkB,CAAlB,CAAjB;;AAEA;AACA,OAAM6I,QAAQ,CAAd,EAAiBA,QAAQ,KAAKub,SAAL,CAAehe,MAAxC,EAAgDyC,OAAhD,EAA0D;AACzDob,mBAAgBpb,KAAhB,EAAuB,KAAKub,SAAL,CAAevb,KAAf,CAAvB,EAA8C,IAA9C;AACA;AACD;;AAED6b,UAAS3kB,SAAT,CAAmB+kB,SAAnB,GAA+B,UAAWrmB,KAAX,EAAmB;;AAEjD,MAAIgmB,OAAO,KAAKL,SAAL,CAAe,CAAf,CAAX;;AAEA,MAAKK,QAAUhmB,QAAQgmB,IAAT,GAAiB,CAAlB,KAAyB,CAAtC,EAA0C;AACzC,SAAM,IAAIvc,KAAJ,CAAU,iBAAiB+W,OAAjB,GAA2B,+DAArC,CAAN;AACA;;AAED,SAAO,KAAKqE,IAAL,CAAUld,MAAV,KAAqB,CAArB,GAAyB2c,eAAe,KAAKM,IAApB,EAA0B5kB,KAA1B,CAAzB,GAA4D,KAAnE;AACA,EATD;;AAWAimB,UAAS3kB,SAAT,CAAmBqjB,UAAnB,GAAgC,UAAW3kB,KAAX,EAAmB;;AAElDA,UAAQ2kB,WAAY,KAAKC,IAAjB,EAAuB,KAAKC,IAA5B,EAAkC7kB,KAAlC,CAAR;;AAEA,SAAOA,KAAP;AACA,EALD;;AAOAimB,UAAS3kB,SAAT,CAAmB0jB,YAAnB,GAAkC,UAAWhlB,KAAX,EAAmB;;AAEpD,SAAOglB,aAAc,KAAKJ,IAAnB,EAAyB,KAAKC,IAA9B,EAAoC7kB,KAApC,CAAP;AACA,EAHD;;AAKAimB,UAAS3kB,SAAT,CAAmB2jB,OAAnB,GAA6B,UAAWjlB,KAAX,EAAmB;;AAE/CA,UAAQilB,QAAQ,KAAKJ,IAAb,EAAmB,KAAKK,MAAxB,EAAgC,KAAKC,IAArC,EAA2CnlB,KAA3C,CAAR;;AAEA,SAAOA,KAAP;AACA,EALD;;AAOAimB,UAAS3kB,SAAT,CAAmBglB,cAAnB,GAAoC,UAAWtmB,KAAX,EAAmB;;AAEtD,MAAIgN,IAAI0X,KAAK1kB,KAAL,EAAY,KAAK6kB,IAAjB,CAAR;;AAEA,SAAO;AACN0B,eAAY,EAAEC,YAAY,KAAK5B,IAAL,CAAU5X,IAAE,CAAZ,CAAd,EAA8BgZ,MAAM,KAAKL,SAAL,CAAe3Y,IAAE,CAAjB,CAApC,EAAyD4Y,aAAa,KAAKL,oBAAL,CAA0BvY,IAAE,CAA5B,CAAtE,EADN;AAENyZ,aAAU,EAAED,YAAY,KAAK5B,IAAL,CAAU5X,IAAE,CAAZ,CAAd,EAA8BgZ,MAAM,KAAKL,SAAL,CAAe3Y,IAAE,CAAjB,CAApC,EAAyD4Y,aAAa,KAAKL,oBAAL,CAA0BvY,IAAE,CAA5B,CAAtE,EAFJ;AAGN0Z,cAAW,EAAEF,YAAY,KAAK5B,IAAL,CAAU5X,IAAE,CAAZ,CAAd,EAA8BgZ,MAAM,KAAKL,SAAL,CAAe3Y,IAAE,CAAjB,CAApC,EAAyD4Y,aAAa,KAAKL,oBAAL,CAA0BvY,IAAE,CAA5B,CAAtE;AAHL,GAAP;AAKA,EATD;;AAWAiZ,UAAS3kB,SAAT,CAAmBqlB,iBAAnB,GAAuC,YAAY;AAClD,MAAIC,eAAe,KAAKjB,SAAL,CAAerf,GAAf,CAAmBwc,aAAnB,CAAnB;AACA,SAAO7B,KAAKjB,GAAL,CAAShR,KAAT,CAAe,IAAf,EAAqB4X,YAArB,CAAP;AACC,EAHF;;AAKA;AACAX,UAAS3kB,SAAT,CAAmBulB,OAAnB,GAA6B,UAAW7mB,KAAX,EAAmB;AAC/C,SAAO,KAAKilB,OAAL,CAAa,KAAKN,UAAL,CAAgB3kB,KAAhB,CAAb,CAAP;AACA,EAFD;;AAID;;;;;;;;;;;;;AAaC,KAAI8mB,mBAAmB,EAAE,MAAM,YAAU9mB,KAAV,EAAiB;AAC/C,UAAOA,UAAUZ,SAAV,IAAuBY,MAAM+lB,OAAN,CAAc,CAAd,CAA9B;AACA,GAFsB,EAEpB,QAAQD,MAFY,EAAvB;;AAIA,UAASiB,cAAT,CAA0BrG,KAA1B,EAAkC;;AAEjC;AACA,MAAKD,iBAAiBC,KAAjB,CAAL,EAA+B;AAC9B,UAAO,IAAP;AACA;;AAED,QAAM,IAAIjX,KAAJ,CAAU,iBAAiB+W,OAAjB,GAA2B,+CAArC,CAAN;AACA;;AAED,UAASwG,QAAT,CAAoBC,MAApB,EAA4BvG,KAA5B,EAAoC;;AAEnC,MAAK,CAACwB,UAAWxB,KAAX,CAAN,EAA2B;AAC1B,SAAM,IAAIjX,KAAJ,CAAU,iBAAiB+W,OAAjB,GAA2B,2BAArC,CAAN;AACA;;AAED;AACA;AACAyG,SAAOf,UAAP,GAAoBxF,KAApB;AACA;;AAED,UAASwG,SAAT,CAAqBD,MAArB,EAA6BvG,KAA7B,EAAqC;;AAEpC;AACA,MAAK,QAAOA,KAAP,yCAAOA,KAAP,OAAiB,QAAjB,IAA6BlgB,MAAMD,OAAN,CAAcmgB,KAAd,CAAlC,EAAyD;AACxD,SAAM,IAAIjX,KAAJ,CAAU,iBAAiB+W,OAAjB,GAA2B,8BAArC,CAAN;AACA;;AAED;AACA,MAAKE,MAAMX,GAAN,KAAc3gB,SAAd,IAA2BshB,MAAMV,GAAN,KAAc5gB,SAA9C,EAA0D;AACzD,SAAM,IAAIqK,KAAJ,CAAU,iBAAiB+W,OAAjB,GAA2B,uCAArC,CAAN;AACA;;AAED;AACA,MAAKE,MAAMX,GAAN,KAAcW,MAAMV,GAAzB,EAA+B;AAC9B,SAAM,IAAIvW,KAAJ,CAAU,iBAAiB+W,OAAjB,GAA2B,6CAArC,CAAN;AACA;;AAEDyG,SAAOE,QAAP,GAAkB,IAAIlB,QAAJ,CAAavF,KAAb,EAAoBuG,OAAO9B,IAA3B,EAAiC8B,OAAOf,UAAxC,CAAlB;AACA;;AAED,UAASkB,SAAT,CAAqBH,MAArB,EAA6BvG,KAA7B,EAAqC;;AAEpCA,UAAQmC,QAAQnC,KAAR,CAAR;;AAEA;AACA;AACA,MAAK,CAAClgB,MAAMD,OAAN,CAAemgB,KAAf,CAAD,IAA2B,CAACA,MAAM/Y,MAAvC,EAAgD;AAC/C,SAAM,IAAI8B,KAAJ,CAAU,iBAAiB+W,OAAjB,GAA2B,iCAArC,CAAN;AACA;;AAED;AACAyG,SAAOI,OAAP,GAAiB3G,MAAM/Y,MAAvB;;AAEA;AACA;AACAsf,SAAO1f,KAAP,GAAemZ,KAAf;AACA;;AAED,UAAS4G,QAAT,CAAoBL,MAApB,EAA4BvG,KAA5B,EAAoC;;AAEnC;AACAuG,SAAO9B,IAAP,GAAczE,KAAd;;AAEA,MAAK,OAAOA,KAAP,KAAiB,SAAtB,EAAiC;AAChC,SAAM,IAAIjX,KAAJ,CAAU,iBAAiB+W,OAAjB,GAA2B,qCAArC,CAAN;AACA;AACD;;AAED,UAAS+G,WAAT,CAAuBN,MAAvB,EAA+BvG,KAA/B,EAAuC;;AAEtC;AACAuG,SAAOO,OAAP,GAAiB9G,KAAjB;;AAEA,MAAK,OAAOA,KAAP,KAAiB,SAAtB,EAAiC;AAChC,SAAM,IAAIjX,KAAJ,CAAU,iBAAiB+W,OAAjB,GAA2B,wCAArC,CAAN;AACA;AACD;;AAED,UAASiH,qBAAT,CAAiCR,MAAjC,EAAyCvG,KAAzC,EAAiD;;AAEhDuG,SAAOS,iBAAP,GAA2BhH,KAA3B;;AAEA,MAAK,OAAOA,KAAP,KAAiB,QAAtB,EAAgC;AAC/B,SAAM,IAAIjX,KAAJ,CAAU,iBAAiB+W,OAAjB,GAA2B,iDAArC,CAAN;AACA;AACD;;AAED,UAASmH,WAAT,CAAuBV,MAAvB,EAA+BvG,KAA/B,EAAuC;;AAEtC,MAAIb,UAAU,CAAC,KAAD,CAAd;AACA,MAAI9S,CAAJ;;AAEA;AACA,MAAK2T,UAAU,OAAf,EAAyB;AACxBA,WAAQ,CAAC,IAAD,EAAO,KAAP,CAAR;AACA,GAFD,MAIK,IAAKA,UAAU,OAAf,EAAyB;AAC7BA,WAAQ,CAAC,KAAD,EAAQ,IAAR,CAAR;AACA;;AAED;AACA,MAAKA,UAAU,IAAV,IAAkBA,UAAU,KAAjC,EAAyC;;AAExC,QAAM3T,IAAI,CAAV,EAAaA,IAAIka,OAAOI,OAAxB,EAAiCta,GAAjC,EAAuC;AACtC8S,YAAQzZ,IAAR,CAAasa,KAAb;AACA;;AAEDb,WAAQzZ,IAAR,CAAa,KAAb;AACA;;AAED;AATA,OAUK,IAAK,CAAC5F,MAAMD,OAAN,CAAemgB,KAAf,CAAD,IAA2B,CAACA,MAAM/Y,MAAlC,IAA4C+Y,MAAM/Y,MAAN,KAAiBsf,OAAOI,OAAP,GAAiB,CAAnF,EAAuF;AAC3F,UAAM,IAAI5d,KAAJ,CAAU,iBAAiB+W,OAAjB,GAA2B,iDAArC,CAAN;AACA,IAFI,MAIA;AACJX,cAAUa,KAAV;AACA;;AAEDuG,SAAOpH,OAAP,GAAiBA,OAAjB;AACA;;AAED,UAAS+H,eAAT,CAA2BX,MAA3B,EAAmCvG,KAAnC,EAA2C;;AAE1C;AACA;AACA,UAASA,KAAT;AACE,QAAK,YAAL;AACDuG,WAAOY,GAAP,GAAa,CAAb;AACA;AACC,QAAK,UAAL;AACDZ,WAAOY,GAAP,GAAa,CAAb;AACA;AACC;AACD,UAAM,IAAIpe,KAAJ,CAAU,iBAAiB+W,OAAjB,GAA2B,qCAArC,CAAN;AARD;AAUA;;AAED,UAASsH,UAAT,CAAsBb,MAAtB,EAA8BvG,KAA9B,EAAsC;;AAErC,MAAK,CAACwB,UAAUxB,KAAV,CAAN,EAAwB;AACvB,SAAM,IAAIjX,KAAJ,CAAU,iBAAiB+W,OAAjB,GAA2B,qCAArC,CAAN;AACA;;AAED;AACA,MAAKE,UAAU,CAAf,EAAmB;AAClB;AACA;;AAEDuG,SAAOc,MAAP,GAAgBd,OAAOE,QAAP,CAAgBd,SAAhB,CAA0B3F,KAA1B,CAAhB;;AAEA,MAAK,CAACuG,OAAOc,MAAb,EAAsB;AACrB,SAAM,IAAIte,KAAJ,CAAU,iBAAiB+W,OAAjB,GAA2B,yDAArC,CAAN;AACA;AACD;;AAED,UAASwH,SAAT,CAAqBf,MAArB,EAA6BvG,KAA7B,EAAqC;;AAEpC,MAAK,CAACwB,UAAUxB,KAAV,CAAN,EAAwB;AACvB,SAAM,IAAIjX,KAAJ,CAAU,iBAAiB+W,OAAjB,GAA2B,oCAArC,CAAN;AACA;;AAEDyG,SAAOrE,KAAP,GAAeqE,OAAOE,QAAP,CAAgBd,SAAhB,CAA0B3F,KAA1B,CAAf;;AAEA,MAAK,CAACuG,OAAOrE,KAAR,IAAiBqE,OAAOI,OAAP,GAAiB,CAAvC,EAA2C;AAC1C,SAAM,IAAI5d,KAAJ,CAAU,iBAAiB+W,OAAjB,GAA2B,+EAArC,CAAN;AACA;AACD;;AAED,UAASyH,WAAT,CAAuBhB,MAAvB,EAA+BvG,KAA/B,EAAuC;;AAEtC,MAAK,CAACwB,UAAUxB,KAAV,CAAN,EAAwB;AACvB,SAAM,IAAIjX,KAAJ,CAAU,iBAAiB+W,OAAjB,GAA2B,sCAArC,CAAN;AACA;;AAED,MAAKE,UAAU,CAAf,EAAmB;AAClB;AACA;;AAEDuG,SAAOiB,OAAP,GAAiBjB,OAAOE,QAAP,CAAgBd,SAAhB,CAA0B3F,KAA1B,CAAjB;;AAEA,MAAK,CAACuG,OAAOiB,OAAb,EAAuB;AACtB,SAAM,IAAIze,KAAJ,CAAU,iBAAiB+W,OAAjB,GAA2B,0DAArC,CAAN;AACA;;AAED,MAAKyG,OAAOiB,OAAP,GAAiB,CAAtB,EAA0B;AACzB,SAAM,IAAIze,KAAJ,CAAU,iBAAiB+W,OAAjB,GAA2B,gDAArC,CAAN;AACA;;AAED,MAAKyG,OAAOiB,OAAP,IAAkB,EAAvB,EAA4B;AAC3B,SAAM,IAAIze,KAAJ,CAAU,iBAAiB+W,OAAjB,GAA2B,uDAArC,CAAN;AACA;AACD;;AAED,UAAS2H,aAAT,CAAyBlB,MAAzB,EAAiCvG,KAAjC,EAAyC;;AAExC;AACA;AACA;AACA,UAASA,KAAT;AACE,QAAK,KAAL;AACDuG,WAAOmB,GAAP,GAAa,CAAb;AACA;AACC,QAAK,KAAL;AACDnB,WAAOmB,GAAP,GAAa,CAAb;AACA;AACC;AACD,UAAM,IAAI3e,KAAJ,CAAU,iBAAiB+W,OAAjB,GAA2B,2CAArC,CAAN;AARD;AAUA;;AAED,UAAS6H,aAAT,CAAyBpB,MAAzB,EAAiCvG,KAAjC,EAAyC;;AAExC;AACA,MAAK,OAAOA,KAAP,KAAiB,QAAtB,EAAiC;AAChC,SAAM,IAAIjX,KAAJ,CAAU,iBAAiB+W,OAAjB,GAA2B,qDAArC,CAAN;AACA;;AAED;AACA;AACA,MAAI8H,MAAM5H,MAAM7Y,OAAN,CAAc,KAAd,KAAwB,CAAlC;AACA,MAAI0gB,OAAO7H,MAAM7Y,OAAN,CAAc,MAAd,KAAyB,CAApC;AACA,MAAI2gB,QAAQ9H,MAAM7Y,OAAN,CAAc,OAAd,KAA0B,CAAtC;AACA,MAAIsd,OAAOzE,MAAM7Y,OAAN,CAAc,MAAd,KAAyB,CAApC;AACA,MAAI4gB,QAAQ/H,MAAM7Y,OAAN,CAAc,OAAd,KAA0B,CAAtC;;AAEA,MAAK2gB,KAAL,EAAa;;AAEZ,OAAKvB,OAAOI,OAAP,KAAmB,CAAxB,EAA4B;AAC3B,UAAM,IAAI5d,KAAJ,CAAU,iBAAiB+W,OAAjB,GAA2B,kDAArC,CAAN;AACA;;AAED;AACAsH,cAAWb,MAAX,EAAmBA,OAAO1f,KAAP,CAAa,CAAb,IAAkB0f,OAAO1f,KAAP,CAAa,CAAb,CAArC;AACA;;AAED0f,SAAOyB,MAAP,GAAgB;AACfJ,QAAKA,OAAOnD,IADG;AAEfoD,SAAMA,IAFS;AAGfC,UAAOA,KAHQ;AAIfrD,SAAMA,IAJS;AAKfsD,UAAOA;AALQ,GAAhB;AAOA;;AAED,UAASE,YAAT,CAAwB1B,MAAxB,EAAgCvG,KAAhC,EAAwC;;AAEvC,MAAKA,UAAU,KAAf,EAAuB;AACtB;AACA,GAFD,MAIK,IAAKA,UAAU,IAAf,EAAsB;;AAE1BuG,UAAO2B,QAAP,GAAkB,EAAlB;;AAEA,QAAM,IAAI7b,IAAI,CAAd,EAAiBA,IAAIka,OAAOI,OAA5B,EAAqCta,GAArC,EAA2C;AAC1Cka,WAAO2B,QAAP,CAAgBxiB,IAAhB,CAAqB,IAArB;AACA;AACD,GAPI,MASA;;AAEJ6gB,UAAO2B,QAAP,GAAkB/F,QAAQnC,KAAR,CAAlB;;AAEA,OAAKuG,OAAO2B,QAAP,CAAgBjhB,MAAhB,KAA2Bsf,OAAOI,OAAvC,EAAiD;AAChD,UAAM,IAAI5d,KAAJ,CAAU,iBAAiB+W,OAAjB,GAA2B,2CAArC,CAAN;AACA;;AAEDyG,UAAO2B,QAAP,CAAgBrL,OAAhB,CAAwB,UAASsL,SAAT,EAAmB;AAC1C,QAAK,OAAOA,SAAP,KAAqB,SAArB,KAAmC,QAAOA,SAAP,yCAAOA,SAAP,OAAqB,QAArB,IAAiC,OAAOA,UAAUlI,EAAjB,KAAwB,UAA5F,CAAL,EAA+G;AAC9G,WAAM,IAAIlX,KAAJ,CAAU,iBAAiB+W,OAAjB,GAA2B,sDAArC,CAAN;AACA;AACD,IAJD;AAKA;AACD;;AAED,UAASsI,cAAT,CAA0B7B,MAA1B,EAAkCvG,KAAlC,EAA0C;AACzCuG,SAAO8B,UAAP,GAAoBrI,KAApB;AACAqG,iBAAerG,KAAf;AACA;;AAED,UAASsI,UAAT,CAAsB/B,MAAtB,EAA8BvG,KAA9B,EAAsC;AACrCuG,SAAOgC,MAAP,GAAgBvI,KAAhB;AACAqG,iBAAerG,KAAf;AACA;;AAED,UAASwI,aAAT,CAAyBjC,MAAzB,EAAiCvG,KAAjC,EAAyC;;AAExC,MAAKA,UAAUthB,SAAV,IAAuB,OAAOshB,KAAP,KAAiB,QAAxC,IAAoDA,UAAU,KAAnE,EAA2E;AAC1E,SAAM,IAAIjX,KAAJ,CAAU,iBAAiB+W,OAAjB,GAA2B,6CAArC,CAAN;AACA;;AAEDyG,SAAOkC,SAAP,GAAmBzI,KAAnB;AACA;;AAED,UAAS0I,cAAT,CAA0BnC,MAA1B,EAAkCvG,KAAlC,EAA0C;;AAEzC,MAAKA,UAAUthB,SAAV,IAAuB,QAAOshB,KAAP,yCAAOA,KAAP,OAAiB,QAA7C,EAAwD;AACvD,SAAM,IAAIjX,KAAJ,CAAU,iBAAiB+W,OAAjB,GAA2B,oCAArC,CAAN;AACA;;AAED,MAAK,OAAOyG,OAAOkC,SAAd,KAA4B,QAAjC,EAA4C;AAC3ClC,UAAOoC,UAAP,GAAoB,EAApB;;AAEA,QAAM,IAAI1oB,GAAV,IAAiB+f,KAAjB,EAAyB;AACxB,QAAK,CAACA,MAAM3D,cAAN,CAAqBpc,GAArB,CAAN,EAAkC;AAAE;AAAW;;AAE/CsmB,WAAOoC,UAAP,CAAkB1oB,GAAlB,IAAyBsmB,OAAOkC,SAAP,GAAmBzI,MAAM/f,GAAN,CAA5C;AACA;AACD,GARD,MAQO;AACNsmB,UAAOoC,UAAP,GAAoB3I,KAApB;AACA;AACD;;AAED,UAAS4I,UAAT,CAAsBrC,MAAtB,EAA8BvG,KAA9B,EAAsC;AACrC,MAAKA,UAAU,IAAV,IAAkBA,UAAU,KAAjC,EAAyC;AACxCuG,UAAOsC,wBAAP,GAAkC7I,KAAlC;AACA,GAFD,MAEO;AACN,SAAM,IAAIjX,KAAJ,CAAU,iBAAiB+W,OAAjB,GAA2B,yEAArC,CAAN;AACA;AACD;;AAED;AACA,UAASgJ,WAAT,CAAuB1Z,OAAvB,EAAiC;;AAEhC;AACA;AACA;;AAEA,MAAImX,SAAS;AACZc,WAAQ,CADI;AAEZnF,UAAO,CAFK;AAGZsF,YAAS,CAHG;AAIZV,YAAS,IAJG;AAKZE,sBAAmB,GALP;AAMZqB,eAAYjC,gBANA;AAOZmC,WAAQnC;AAPI,GAAb;;AAUA;AACA,MAAI2C,QAAQ;AACX,WAAQ,EAAEC,GAAG,KAAL,EAAYjS,GAAGuP,QAAf,EADG;AAEX,YAAS,EAAE0C,GAAG,IAAL,EAAWjS,GAAG2P,SAAd,EAFE;AAGX,cAAW,EAAEsC,GAAG,IAAL,EAAWjS,GAAGkQ,WAAd,EAHA;AAIX,gBAAa,EAAE+B,GAAG,IAAL,EAAWjS,GAAG0Q,aAAd,EAJF;AAKX,WAAQ,EAAEuB,GAAG,KAAL,EAAYjS,GAAG6P,QAAf,EALG;AAMX,cAAW,EAAEoC,GAAG,KAAL,EAAYjS,GAAG8P,WAAf,EANA;AAOX,wBAAqB,EAAEmC,GAAG,KAAL,EAAYjS,GAAGgQ,qBAAf,EAPV;AAQX,YAAS,EAAEiC,GAAG,IAAL,EAAWjS,GAAGyP,SAAd,EARE;AASX,kBAAe,EAAEwC,GAAG,KAAL,EAAYjS,GAAGmQ,eAAf,EATJ;AAUX,aAAU,EAAE8B,GAAG,KAAL,EAAYjS,GAAGqQ,UAAf,EAVC;AAWX,YAAS,EAAE4B,GAAG,KAAL,EAAYjS,GAAGuQ,SAAf,EAXE;AAYX,cAAW,EAAE0B,GAAG,KAAL,EAAYjS,GAAGwQ,WAAf,EAZA;AAaX,gBAAa,EAAEyB,GAAG,IAAL,EAAWjS,GAAG4Q,aAAd,EAbF;AAcX,iBAAc,EAAEqB,GAAG,KAAL,EAAYjS,GAAGqR,cAAf,EAdH;AAeX,aAAU,EAAEY,GAAG,KAAL,EAAYjS,GAAGuR,UAAf,EAfC;AAgBX,eAAY,EAAEU,GAAG,KAAL,EAAYjS,GAAGkR,YAAf,EAhBD;AAiBX,gBAAa,EAAEe,GAAG,KAAL,EAAYjS,GAAGyR,aAAf,EAjBF;AAkBX,iBAAc,EAAEQ,GAAG,KAAL,EAAYjS,GAAG2R,cAAf,EAlBH;AAmBX,+BAA4B,EAAEM,GAAG,KAAL,EAAYjS,GAAG6R,UAAf;AAnBjB,GAAZ;;AAsBA,MAAIK,WAAW;AACd,cAAW,KADG;AAEd,gBAAa,KAFC;AAGd,gBAAa,KAHC;AAId,kBAAe,YAJD;AAKd,gBAAc,OALA;AAMd,iBAAc;AACb/Y,YAAQ,QADK;AAEb2E,UAAM,MAFO;AAGbqU,YAAQ,QAHK;AAIbC,YAAQ,QAJK;AAKbC,iBAAa,cALA;AAMbC,iBAAa,cANA;AAObC,gBAAY,YAPC;AAQbC,cAAU,UARG;AASbC,gBAAY,YATC;AAUbrK,aAAS,SAVI;AAWbsK,SAAK,KAXQ;AAYbC,SAAK,KAZQ;AAabC,eAAW,WAbE;AAcb9B,UAAM,YAdO;AAebD,SAAK,WAfQ;AAgBbgC,YAAQ,QAhBK;AAiBbC,aAAS,SAjBI;AAkBbtK,UAAM,MAlBO;AAmBbuK,oBAAgB,iBAnBH;AAoBbC,kBAAc,eApBD;AAqBbC,YAAQ,QArBK;AAsBbC,sBAAkB,mBAtBL;AAuBbC,oBAAgB,iBAvBH;AAwBbC,kBAAc,eAxBD;AAyBbC,iBAAa,cAzBA;AA0BbC,eAAW,YA1BE;AA2Bb/qB,WAAO,OA3BM;AA4BbgrB,qBAAiB,kBA5BJ;AA6BbC,mBAAe,gBA7BF;AA8BbC,iBAAa,cA9BA;AA+BbC,gBAAY,aA/BC;AAgCbC,cAAU;AAhCG,IANA;AAwCd,+BAA4B;AAxCd,GAAf;;AA2CA;AACA,MAAKtb,QAAQmZ,MAAR,IAAkB,CAACnZ,QAAQiZ,UAAhC,EAA6C;AAC5CjZ,WAAQiZ,UAAR,GAAqBjZ,QAAQmZ,MAA7B;AACA;;AAED;AACA;AACA;AACApoB,SAAO8C,IAAP,CAAY8lB,KAAZ,EAAmBlM,OAAnB,CAA2B,UAAUnb,IAAV,EAAgB;;AAE1C;AACA,OAAK0N,QAAQ1N,IAAR,MAAkBhD,SAAlB,IAA+BuqB,SAASvnB,IAAT,MAAmBhD,SAAvD,EAAmE;;AAElE,QAAKqqB,MAAMrnB,IAAN,EAAYsnB,CAAjB,EAAqB;AACpB,WAAM,IAAIjgB,KAAJ,CAAU,iBAAiB+W,OAAjB,GAA2B,MAA3B,GAAoCpe,IAApC,GAA2C,gBAArD,CAAN;AACA;;AAED,WAAO,IAAP;AACA;;AAEDqnB,SAAMrnB,IAAN,EAAYqV,CAAZ,CAAewP,MAAf,EAAuBnX,QAAQ1N,IAAR,MAAkBhD,SAAlB,GAA8BuqB,SAASvnB,IAAT,CAA9B,GAA+C0N,QAAQ1N,IAAR,CAAtE;AACA,GAbD;;AAeA;AACA6kB,SAAOhH,IAAP,GAAcnQ,QAAQmQ,IAAtB;;AAEA,MAAIoL,SAAS,CAAC,CAAC,MAAD,EAAS,KAAT,CAAD,EAAkB,CAAC,OAAD,EAAU,QAAV,CAAlB,CAAb;;AAEA;AACApE,SAAO3jB,KAAP,GAAe+nB,OAAOpE,OAAOmB,GAAd,EAAmBnB,OAAOY,GAA1B,CAAf;AACAZ,SAAOqE,YAAP,GAAsBD,OAAOpE,OAAOmB,GAAP,GAAW,CAAX,GAAa,CAApB,EAAuBnB,OAAOY,GAA9B,CAAtB;;AAEA,SAAOZ,MAAP;AACA;;AAGF,UAASsE,OAAT,CAAmB3a,MAAnB,EAA2Bd,OAA3B,EAAoC0b,eAApC,EAAqD;;AAEpD,MAAIC,UAAU9H,YAAd;AACA,MAAI+H,0BAA0B1H,4BAA9B;AACA,MAAID,kBAAkB2H,2BAA2B5H,oBAAjD;;AAEA;AACA,MAAI6H,eAAe/a,MAAnB;AACA,MAAIgb,kBAAkB,EAAtB;AACA,MAAIC,UAAJ;AACA,MAAIC,aAAJ;AACA,MAAIC,sBAAsB,EAA1B;AACA,MAAIC,qBAAqB,KAAzB;AACA,MAAIC,cAAJ;AACA,MAAIC,iBAAiBpc,QAAQqX,QAA7B;AACA,MAAIgF,eAAe,EAAnB;AACA,MAAIC,eAAe,EAAnB;AACA,MAAIC,UAAJ;AACA,MAAIC,UAAJ;AACA,MAAIC,kBAAkB,IAAtB;AACA,MAAIC,iBAAiB5b,OAAO7N,aAA5B;AACA,MAAI0pB,wBAAwBD,eAAevpB,eAA3C;AACA,MAAIypB,aAAaF,eAAe9M,IAAhC;;AAGA;AACA,WAASiN,SAAT,CAAqB/b,MAArB,EAA6B2R,SAA7B,EAAyC;;AAExC,OAAIqK,MAAMJ,eAAelqB,aAAf,CAA6B,KAA7B,CAAV;;AAEA,OAAKigB,SAAL,EAAiB;AAChBE,aAASmK,GAAT,EAAcrK,SAAd;AACA;;AAED3R,UAAO1N,WAAP,CAAmB0pB,GAAnB;;AAEA,UAAOA,GAAP;AACA;;AAED;AACA,WAASC,SAAT,CAAqBtX,IAArB,EAA2BuX,YAA3B,EAA0C;;AAEzC,OAAIlD,SAAS+C,UAAUpX,IAAV,EAAgBzF,QAAQuZ,UAAR,CAAmBO,MAAnC,CAAb;AACA,OAAIC,SAAS8C,UAAU/C,MAAV,EAAkB9Z,QAAQuZ,UAAR,CAAmBQ,MAArC,CAAb;;AAEAA,UAAOvlB,YAAP,CAAoB,aAApB,EAAmCwoB,YAAnC;;AAEA;AACA;AACAjD,UAAOvlB,YAAP,CAAoB,UAApB,EAAgC,GAAhC;AACAulB,UAAOvlB,YAAP,CAAoB,MAApB,EAA4B,QAA5B;AACAulB,UAAOvlB,YAAP,CAAoB,kBAApB,EAAwCwL,QAAQ+X,GAAR,GAAc,UAAd,GAA2B,YAAnE;;AAEA,OAAKiF,iBAAiB,CAAtB,EAA0B;AACzBrK,aAASoH,MAAT,EAAiB/Z,QAAQuZ,UAAR,CAAmBS,WAApC;AACA,IAFD,MAIK,IAAKgD,iBAAiBhd,QAAQuX,OAAR,GAAkB,CAAxC,EAA4C;AAChD5E,aAASoH,MAAT,EAAiB/Z,QAAQuZ,UAAR,CAAmBU,WAApC;AACA;;AAED,UAAOH,MAAP;AACA;;AAED;AACA,WAASmD,UAAT,CAAsBxX,IAAtB,EAA4BrP,GAA5B,EAAkC;;AAEjC,OAAK,CAACA,GAAN,EAAY;AACX,WAAO,KAAP;AACA;;AAED,UAAOymB,UAAUpX,IAAV,EAAgBzF,QAAQuZ,UAAR,CAAmBxJ,OAAnC,CAAP;AACA;;AAED;AACA,WAASmN,WAAT,CAAuBC,cAAvB,EAAuC1X,IAAvC,EAA8C;;AAE7CuW,mBAAgB,EAAhB;AACAG,oBAAiB,EAAjB;;AAEAA,kBAAe7lB,IAAf,CAAoB2mB,WAAWxX,IAAX,EAAiB0X,eAAe,CAAf,CAAjB,CAApB;;AAEA;AACA;;AAEA,QAAM,IAAIlgB,IAAI,CAAd,EAAiBA,IAAI+C,QAAQuX,OAA7B,EAAsCta,GAAtC,EAA4C;AAC3C;AACA+e,kBAAc1lB,IAAd,CAAmBymB,UAAUtX,IAAV,EAAgBxI,CAAhB,CAAnB;AACAgf,wBAAoBhf,CAApB,IAAyBA,CAAzB;AACAkf,mBAAe7lB,IAAf,CAAoB2mB,WAAWxX,IAAX,EAAiB0X,eAAelgB,IAAI,CAAnB,CAAjB,CAApB;AACA;AACD;;AAED;AACA,WAASmgB,SAAT,CAAqBtc,MAArB,EAA8B;;AAE7B;AACA6R,YAAS7R,MAAT,EAAiBd,QAAQuZ,UAAR,CAAmBzY,MAApC;;AAEA,OAAKd,QAAQsY,GAAR,KAAgB,CAArB,EAAyB;AACxB3F,aAAS7R,MAAT,EAAiBd,QAAQuZ,UAAR,CAAmBc,GAApC;AACA,IAFD,MAEO;AACN1H,aAAS7R,MAAT,EAAiBd,QAAQuZ,UAAR,CAAmBe,GAApC;AACA;;AAED,OAAKta,QAAQ+X,GAAR,KAAgB,CAArB,EAAyB;AACxBpF,aAAS7R,MAAT,EAAiBd,QAAQuZ,UAAR,CAAmBW,UAApC;AACA,IAFD,MAEO;AACNvH,aAAS7R,MAAT,EAAiBd,QAAQuZ,UAAR,CAAmBY,QAApC;AACA;;AAED4B,gBAAac,UAAU/b,MAAV,EAAkBd,QAAQuZ,UAAR,CAAmB9T,IAArC,CAAb;AACA;;AAGD,WAAS4X,UAAT,CAAsBtD,MAAtB,EAA8BiD,YAA9B,EAA6C;;AAE5C,OAAK,CAAChd,QAAQ8Y,QAAR,CAAiBkE,YAAjB,CAAN,EAAuC;AACtC,WAAO,KAAP;AACA;;AAED,UAAOH,UAAU9C,OAAOzkB,UAAjB,EAA6B0K,QAAQuZ,UAAR,CAAmBkB,OAAhD,CAAP;AACA;;AAED;AACA,WAAS3B,QAAT,GAAsB;;AAErB;AACA,OAAIwE,OAAOtB,cAAcxlB,GAAd,CAAkB6mB,UAAlB,CAAX;;AAEAE,aAAU,QAAV,EAAoB,UAASjN,MAAT,EAAiB0M,YAAjB,EAA+BQ,SAA/B,EAA0C;;AAE7D,QAAK,CAACF,KAAKN,YAAL,CAAN,EAA2B;AAC1B;AACA;;AAED,QAAIS,iBAAiBnN,OAAO0M,YAAP,CAArB;;AAEA,QAAKhd,QAAQ8Y,QAAR,CAAiBkE,YAAjB,MAAmC,IAAxC,EAA+C;AAC9CS,sBAAiBzd,QAAQ8Y,QAAR,CAAiBkE,YAAjB,EAA+BnM,EAA/B,CAAkC2M,UAAUR,YAAV,CAAlC,CAAjB;AACA;;AAEDM,SAAKN,YAAL,EAAmBpqB,SAAnB,GAA+B6qB,cAA/B;AACA,IAbD;AAcA;;AAGD,WAASC,IAAT,GAAkB;;AAEjBH,aAAU,QAAV,EAAoB,UAAWjN,MAAX,EAAmB0M,YAAnB,EAAiCQ,SAAjC,EAA4ChF,GAA5C,EAAiDmF,SAAjD,EAA6D;;AAEhF;AACA1B,wBAAoBxO,OAApB,CAA4B,UAAUuP,YAAV,EAAwB;;AAEnD,SAAIjD,SAASiC,cAAcgB,YAAd,CAAb;;AAEA,SAAI/M,MAAM2N,oBAAoB9B,eAApB,EAAqCkB,YAArC,EAAmD,CAAnD,EAAsD,IAAtD,EAA4D,IAA5D,EAAkE,IAAlE,CAAV;AACA,SAAI9M,MAAM0N,oBAAoB9B,eAApB,EAAqCkB,YAArC,EAAmD,GAAnD,EAAwD,IAAxD,EAA8D,IAA9D,EAAoE,IAApE,CAAV;;AAEA,SAAIa,MAAMF,UAAUX,YAAV,CAAV;AACA,SAAIxT,OAAOxJ,QAAQiZ,UAAR,CAAmBpI,EAAnB,CAAsB2M,UAAUR,YAAV,CAAtB,CAAX;;AAEAjD,YAAOjS,QAAP,CAAgB,CAAhB,EAAmBtT,YAAnB,CAAgC,eAAhC,EAAiDyb,IAAIgG,OAAJ,CAAY,CAAZ,CAAjD;AACA8D,YAAOjS,QAAP,CAAgB,CAAhB,EAAmBtT,YAAnB,CAAgC,eAAhC,EAAiD0b,IAAI+F,OAAJ,CAAY,CAAZ,CAAjD;AACA8D,YAAOjS,QAAP,CAAgB,CAAhB,EAAmBtT,YAAnB,CAAgC,eAAhC,EAAiDqpB,IAAI5H,OAAJ,CAAY,CAAZ,CAAjD;AACA8D,YAAOjS,QAAP,CAAgB,CAAhB,EAAmBtT,YAAnB,CAAgC,gBAAhC,EAAkDgV,IAAlD;AACA,KAdD;AAeA,IAlBD;AAmBA;;AAGD,WAASsU,QAAT,CAAoB1N,IAApB,EAA0BE,MAA1B,EAAkCyN,OAAlC,EAA4C;;AAE3C;AACA,OAAK3N,SAAS,OAAT,IAAoBA,SAAS,OAAlC,EAA4C;AAC3C,WAAOgM,eAAetH,IAAtB;AACA;;AAED,OAAK1E,SAAS,OAAd,EAAwB;;AAEvB,QAAK,CAACE,MAAN,EAAe;AACd,WAAM,IAAI3W,KAAJ,CAAU,iBAAiB+W,OAAjB,GAA2B,wCAArC,CAAN;AACA;;AAED;AACA,QAAIsN,SAAW,OAAO1N,SAAS,CAAhB,CAAf;AACA,QAAIlD,CAAJ;AACA,QAAInQ,IAAI,CAAR;;AAEAqT,aAAS,EAAT;;AAEA;AACA,WAAQ,CAAClD,IAAInQ,MAAM+gB,MAAX,KAAsB,GAA9B,EAAoC;AACnC1N,YAAOha,IAAP,CAAY8W,CAAZ;AACA;;AAEDgD,WAAO,WAAP;AACA;;AAED,OAAKA,SAAS,WAAd,EAA4B;;AAE3B;AACA,WAAOE,OAAO9Z,GAAP,CAAW,UAAUtG,KAAV,EAAiB;AAClC,YAAOksB,eAAelH,YAAf,CAA6B6I,UAAU3B,eAAejH,OAAf,CAAwBjlB,KAAxB,CAAV,GAA4CA,KAAzE,CAAP;AACA,KAFM,CAAP;AAGA;;AAED,OAAKkgB,SAAS,QAAd,EAAyB;;AAExB;AACA,QAAK2N,OAAL,EAAe;;AAEd,YAAOzN,OAAO9Z,GAAP,CAAW,UAAUtG,KAAV,EAAiB;;AAElC;AACA,aAAOksB,eAAelH,YAAf,CAA6BkH,eAAejH,OAAf,CAAwBiH,eAAevH,UAAf,CAA2B3kB,KAA3B,CAAxB,CAA7B,CAAP;AACA,MAJM,CAAP;AAMA;;AAED;AACA,WAAOogB,MAAP;AACA;AACD;;AAED,WAAS2N,cAAT,CAA0B5N,OAA1B,EAAmCD,IAAnC,EAAyC8N,KAAzC,EAAiD;;AAEhD,YAASC,aAAT,CAAuBjuB,KAAvB,EAA8BkuB,SAA9B,EAAyC;AACxC;AACA,WAAO,CAACluB,QAAQkuB,SAAT,EAAoBnI,OAApB,CAA4B,CAA5B,IAAiC,CAAxC;AACA;;AAED,OAAIoI,UAAU,EAAd;AACA,OAAIC,eAAelC,eAAetH,IAAf,CAAoB,CAApB,CAAnB;AACA,OAAIyJ,cAAcnC,eAAetH,IAAf,CAAoBsH,eAAetH,IAAf,CAAoBjd,MAApB,GAA2B,CAA/C,CAAlB;AACA,OAAI2mB,cAAc,KAAlB;AACA,OAAIC,aAAa,KAAjB;AACA,OAAIC,UAAU,CAAd;;AAEA;AACAR,WAAQjN,OAAOiN,MAAMzsB,KAAN,GAAc6kB,IAAd,CAAmB,UAAS/T,CAAT,EAAYhH,CAAZ,EAAc;AAAE,WAAOgH,IAAIhH,CAAX;AAAe,IAAlD,CAAP,CAAR;;AAEA;AACA,OAAK2iB,MAAM,CAAN,MAAaI,YAAlB,EAAiC;AAChCJ,UAAMS,OAAN,CAAcL,YAAd;AACAE,kBAAc,IAAd;AACA;;AAED;AACA,OAAKN,MAAMA,MAAMrmB,MAAN,GAAe,CAArB,MAA4B0mB,WAAjC,EAA+C;AAC9CL,UAAM5nB,IAAN,CAAWioB,WAAX;AACAE,iBAAa,IAAb;AACA;;AAEDP,SAAMzQ,OAAN,CAAc,UAAWhJ,OAAX,EAAoBnK,KAApB,EAA4B;;AAEzC;AACA,QAAI4b,IAAJ;AACA,QAAIjZ,CAAJ;AACA,QAAI2hB,CAAJ;AACA,QAAIC,MAAMpa,OAAV;AACA,QAAIqa,OAAOZ,MAAM5jB,QAAM,CAAZ,CAAX;AACA,QAAIykB,MAAJ;AACA,QAAIC,aAAJ;AACA,QAAIC,MAAJ;AACA,QAAIlX,IAAJ;AACA,QAAImX,KAAJ;AACA,QAAIC,SAAJ;AACA,QAAIC,QAAJ;;AAEA;AACA;AACA,QAAKhP,SAAS,OAAd,EAAwB;AACvB8F,YAAOkG,eAAevG,SAAf,CAA0Bvb,KAA1B,CAAP;AACA;;AAED;AACA,QAAK,CAAC4b,IAAN,EAAa;AACZA,YAAO4I,OAAKD,GAAZ;AACA;;AAED;AACA;AACA,QAAKA,QAAQ,KAAR,IAAiBC,SAASxvB,SAA/B,EAA2C;AAC1C;AACA;;AAED;AACA4mB,WAAO/E,KAAKjB,GAAL,CAASgG,IAAT,EAAe,SAAf,CAAP;;AAEA;AACA,SAAMjZ,IAAI4hB,GAAV,EAAe5hB,KAAK6hB,IAApB,EAA0B7hB,IAAIkhB,cAAclhB,CAAd,EAAiBiZ,IAAjB,CAA9B,EAAuD;;AAEtD;AACA;AACA6I,cAAS3C,eAAevH,UAAf,CAA2B5X,CAA3B,CAAT;AACA+hB,qBAAgBD,SAASL,OAAzB;;AAEAQ,aAAQF,gBAAgB3O,OAAxB;AACA8O,iBAAYhO,KAAKC,KAAL,CAAW8N,KAAX,CAAZ;;AAEA;AACA;AACA;AACA;AACAE,gBAAWJ,gBAAcG,SAAzB;;AAEA;AACA;AACA,UAAMP,IAAI,CAAV,EAAaA,KAAKO,SAAlB,EAA6BP,KAAK,CAAlC,EAAsC;;AAErC;AACA;AACA;AACA;AACAK,eAASP,UAAYE,IAAIQ,QAAzB;AACAf,cAAQY,OAAOhJ,OAAP,CAAe,CAAf,CAAR,IAA6B,CAAC,GAAD,EAAM,CAAN,CAA7B;AACA;;AAED;AACAlO,YAAQmW,MAAMnmB,OAAN,CAAckF,CAAd,IAAmB,CAAC,CAArB,GAA0B,CAA1B,GAAgCmT,SAAS,OAAT,GAAmB,CAAnB,GAAuB,CAA9D;;AAEA;AACA,SAAK,CAAC9V,KAAD,IAAUkkB,WAAf,EAA6B;AAC5BzW,aAAO,CAAP;AACA;;AAED,SAAK,EAAE9K,MAAM6hB,IAAN,IAAcL,UAAhB,CAAL,EAAkC;AACjC;AACAJ,cAAQU,OAAO9I,OAAP,CAAe,CAAf,CAAR,IAA6B,CAAChZ,CAAD,EAAI8K,IAAJ,CAA7B;AACA;;AAED;AACA2W,eAAUK,MAAV;AACA;AACD,IAjFD;;AAmFA,UAAOV,OAAP;AACA;;AAED,WAASgB,UAAT,CAAsBrB,MAAtB,EAA8BsB,UAA9B,EAA0CvG,SAA1C,EAAsD;;AAErD,OAAIvG,UAAUkK,eAAelqB,aAAf,CAA6B,KAA7B,CAAd;;AAEA,OAAI+sB,mBAAmB,CACtBvf,QAAQuZ,UAAR,CAAmB6B,WADG,EAEtBpb,QAAQuZ,UAAR,CAAmB8B,UAFG,EAGtBrb,QAAQuZ,UAAR,CAAmB+B,QAHG,CAAvB;AAKA,OAAIkE,oBAAoB,CACvBxf,QAAQuZ,UAAR,CAAmBwB,YADI,EAEvB/a,QAAQuZ,UAAR,CAAmByB,WAFI,EAGvBhb,QAAQuZ,UAAR,CAAmB0B,SAHI,CAAxB;AAKA,OAAIwE,0BAA0B,CAC7Bzf,QAAQuZ,UAAR,CAAmB2B,eADU,EAE7Blb,QAAQuZ,UAAR,CAAmB4B,aAFU,CAA9B;AAIA,OAAIuE,2BAA2B,CAC9B1f,QAAQuZ,UAAR,CAAmBsB,gBADW,EAE9B7a,QAAQuZ,UAAR,CAAmBuB,cAFW,CAA/B;;AAKAnI,YAASH,OAAT,EAAkBxS,QAAQuZ,UAAR,CAAmBpJ,IAArC;AACAwC,YAASH,OAAT,EAAkBxS,QAAQ+X,GAAR,KAAgB,CAAhB,GAAoB/X,QAAQuZ,UAAR,CAAmBmB,cAAvC,GAAwD1a,QAAQuZ,UAAR,CAAmBoB,YAA7F;;AAEA,YAASgF,UAAT,CAAqB5X,IAArB,EAA2BxP,MAA3B,EAAmC;AAClC,QAAIgK,IAAIhK,WAAWyH,QAAQuZ,UAAR,CAAmBrpB,KAAtC;AACA,QAAI0vB,qBAAqBrd,IAAIkd,uBAAJ,GAA8BC,wBAAvD;AACA,QAAIG,cAActd,IAAIgd,gBAAJ,GAAuBC,iBAAzC;;AAEA,WAAOjnB,SAAS,GAAT,GAAeqnB,mBAAmB5f,QAAQ+X,GAA3B,CAAf,GAAiD,GAAjD,GAAuD8H,YAAY9X,IAAZ,CAA9D;AACA;;AAED,YAAS+X,SAAT,CAAqBzO,MAArB,EAA6Bf,MAA7B,EAAqC;;AAEpC;AACAA,WAAO,CAAP,IAAaA,OAAO,CAAP,KAAagP,UAAd,GAA4BA,WAAWhP,OAAO,CAAP,CAAX,EAAsBA,OAAO,CAAP,CAAtB,CAA5B,GAA+DA,OAAO,CAAP,CAA3E;;AAEA;AACA,QAAItd,OAAO6pB,UAAUrK,OAAV,EAAmB,KAAnB,CAAX;AACCxf,SAAKyf,SAAL,GAAiBkN,WAAWrP,OAAO,CAAP,CAAX,EAAsBtQ,QAAQuZ,UAAR,CAAmBqB,MAAzC,CAAjB;AACA5nB,SAAKQ,KAAL,CAAWwM,QAAQxM,KAAnB,IAA4B6d,SAAS,GAArC;;AAED;AACA,QAAKf,OAAO,CAAP,CAAL,EAAiB;AAChBtd,YAAO6pB,UAAUrK,OAAV,EAAmB,KAAnB,CAAP;AACAxf,UAAKyf,SAAL,GAAiBkN,WAAWrP,OAAO,CAAP,CAAX,EAAsBtQ,QAAQuZ,UAAR,CAAmBrpB,KAAzC,CAAjB;AACA8C,UAAKQ,KAAL,CAAWwM,QAAQxM,KAAnB,IAA4B6d,SAAS,GAArC;AACAre,UAAK+sB,SAAL,GAAiBhH,UAAUlI,EAAV,CAAaP,OAAO,CAAP,CAAb,CAAjB;AACA;AACD;;AAED;AACAvf,UAAO8C,IAAP,CAAYmqB,MAAZ,EAAoBvQ,OAApB,CAA4B,UAASlL,CAAT,EAAW;AACtCud,cAAUvd,CAAV,EAAayb,OAAOzb,CAAP,CAAb;AACA,IAFD;;AAIA,UAAOiQ,OAAP;AACA;;AAED,WAASwN,UAAT,GAAwB;AACvB,OAAKxD,UAAL,EAAkB;AACjBzL,kBAAcyL,UAAd;AACAA,iBAAa,IAAb;AACA;AACD;;AAED,WAASrM,IAAT,CAAgB8P,IAAhB,EAAuB;;AAEtB;AACAD;;AAEA,OAAI5P,OAAO6P,KAAK7P,IAAhB;AACA,OAAIC,UAAU4P,KAAK5P,OAAL,IAAgB,CAA9B;AACA,OAAIjJ,SAAS6Y,KAAK7Y,MAAL,IAAe,KAA5B;AACA,OAAIkJ,SAAS2P,KAAK3P,MAAL,IAAe,KAA5B;AACA,OAAIyN,UAAUkC,KAAKlC,OAAL,IAAgB,KAA9B;AACA,OAAIG,QAAQJ,SAAU1N,IAAV,EAAgBE,MAAhB,EAAwByN,OAAxB,CAAZ;AACA,OAAIC,SAASC,eAAgB5N,OAAhB,EAAyBD,IAAzB,EAA+B8N,KAA/B,CAAb;AACA,OAAI/E,SAAS8G,KAAK9G,MAAL,IAAe;AAC3BtI,QAAIM,KAAKC;AADkB,IAA5B;;AAIAoL,gBAAaX,aAAazoB,WAAb,CAAyBisB,WACrCrB,MADqC,EAErC5W,MAFqC,EAGrC+R,MAHqC,CAAzB,CAAb;;AAMA,UAAOqD,UAAP;AACA;;AAGD;AACA,WAAS0D,QAAT,GAAsB;AACrB,OAAI3O,OAAOwK,WAAWvK,qBAAX,EAAX;AAAA,OAA+C2O,MAAM,WAAW,CAAC,OAAD,EAAU,QAAV,EAAoBngB,QAAQ+X,GAA5B,CAAhE;AACA,UAAO/X,QAAQ+X,GAAR,KAAgB,CAAhB,GAAqBxG,KAAK6O,KAAL,IAAYrE,WAAWoE,GAAX,CAAjC,GAAqD5O,KAAK8O,MAAL,IAAatE,WAAWoE,GAAX,CAAzE;AACA;;AAED;AACA,WAASG,WAAT,CAAuB1H,MAAvB,EAA+BpG,OAA/B,EAAwC+N,QAAxC,EAAkDzkB,IAAlD,EAAyD;;AAExD;AACA;;AAEA,OAAI0kB,SAAS,SAATA,MAAS,CAAW9f,CAAX,EAAc;;AAE1B,QAAKmb,aAAa4E,YAAb,CAA0B,UAA1B,CAAL,EAA6C;AAC5C,YAAO,KAAP;AACA;;AAED;AACA,QAAKpN,SAASwI,YAAT,EAAuB7b,QAAQuZ,UAAR,CAAmBf,GAA1C,CAAL,EAAsD;AACrD,YAAO,KAAP;AACA;;AAED9X,QAAIggB,SAAShgB,CAAT,EAAY5E,KAAK4V,UAAjB,CAAJ;;AAEA;AACA,QAAK,CAAChR,CAAN,EAAU;AACT,YAAO,KAAP;AACA;;AAED;AACA,QAAKkY,WAAW+C,QAAQlkB,KAAnB,IAA4BiJ,EAAEigB,OAAF,KAAcrxB,SAA1C,IAAuDoR,EAAEigB,OAAF,GAAY,CAAxE,EAA4E;AAC3E,YAAO,KAAP;AACA;;AAED;AACA,QAAK7kB,KAAK6c,KAAL,IAAcjY,EAAEigB,OAArB,EAA+B;AAC9B,YAAO,KAAP;AACA;;AAED;AACA;AACA;AACA;AACA;AACA,QAAK,CAAC1M,eAAN,EAAwB;AACvBvT,OAAEsQ,cAAF;AACA;;AAEDtQ,MAAEkgB,SAAF,GAAclgB,EAAEmgB,MAAF,CAAU7gB,QAAQ+X,GAAlB,CAAd;;AAEA;AACAwI,aAAW7f,CAAX,EAAc5E,IAAd;AACA,IAzCD;;AA2CA,OAAIglB,UAAU,EAAd;;AAEA;AACAlI,UAAOlf,KAAP,CAAa,GAAb,EAAkB+T,OAAlB,CAA0B,UAAUhM,SAAV,EAAqB;AAC9C+Q,YAAQ5Q,gBAAR,CAAyBH,SAAzB,EAAoC+e,MAApC,EAA4CvM,kBAAkB,EAAE8M,SAAS,IAAX,EAAlB,GAAsC,KAAlF;AACAD,YAAQxqB,IAAR,CAAa,CAACmL,SAAD,EAAY+e,MAAZ,CAAb;AACA,IAHD;;AAKA,UAAOM,OAAP;AACA;;AAED;AACA,WAASJ,QAAT,CAAoBhgB,CAApB,EAAuBgR,UAAvB,EAAoC;;AAEnC;AACA;AACA;AACA,OAAIsP,QAAQtgB,EAAEqH,IAAF,CAAOhQ,OAAP,CAAe,OAAf,MAA4B,CAAxC;AACA,OAAIkpB,QAAQvgB,EAAEqH,IAAF,CAAOhQ,OAAP,CAAe,OAAf,MAA4B,CAAxC;AACA,OAAImpB,UAAUxgB,EAAEqH,IAAF,CAAOhQ,OAAP,CAAe,SAAf,MAA8B,CAA5C;;AAEA,OAAI+Z,CAAJ;AACA,OAAIE,CAAJ;;AAEA;AACA,OAAKtR,EAAEqH,IAAF,CAAOhQ,OAAP,CAAe,WAAf,MAAgC,CAArC,EAAyC;AACxCmpB,cAAU,IAAV;AACA;;AAED,OAAKF,KAAL,EAAa;;AAEZ;AACA;AACA;AACA;AACA,QAAKtgB,EAAEygB,OAAF,CAAUtpB,MAAV,GAAmB,CAAxB,EAA4B;AAC3B,YAAO,KAAP;AACA;;AAED;AACA;AACAia,QAAIpR,EAAE0gB,cAAF,CAAiB,CAAjB,EAAoBC,KAAxB;AACArP,QAAItR,EAAE0gB,cAAF,CAAiB,CAAjB,EAAoBE,KAAxB;AACA;;AAED5P,gBAAaA,cAAcC,cAAc+K,cAAd,CAA3B;;AAEA,OAAKuE,SAASC,OAAd,EAAwB;AACvBpP,QAAIpR,EAAE6gB,OAAF,GAAY7P,WAAWI,CAA3B;AACAE,QAAItR,EAAE8gB,OAAF,GAAY9P,WAAWM,CAA3B;AACA;;AAEDtR,KAAEgR,UAAF,GAAeA,UAAf;AACAhR,KAAEmgB,MAAF,GAAW,CAAC/O,CAAD,EAAIE,CAAJ,CAAX;AACAtR,KAAE+gB,MAAF,GAAWR,SAASC,OAApB,CA1CmC,CA0CN;;AAE7B,UAAOxgB,CAAP;AACA;;AAED;AACA,WAASghB,qBAAT,CAAiCd,SAAjC,EAA6C;AAC5C,OAAIe,WAAWf,YAAYvP,OAAO0K,UAAP,EAAmB/b,QAAQ+X,GAA3B,CAA3B;AACA,OAAI6J,WAAaD,WAAW,GAAb,GAAqBzB,UAApC;AACA,UAAOlgB,QAAQsY,GAAR,GAAc,MAAMsJ,QAApB,GAA+BA,QAAtC;AACA;;AAED;AACA,WAASC,gBAAT,CAA4BD,QAA5B,EAAuC;;AAEtC,OAAI1Q,UAAU,GAAd;AACA,OAAI8L,eAAe,KAAnB;;AAEAhB,iBAAcvO,OAAd,CAAsB,UAASsM,MAAT,EAAiBzf,KAAjB,EAAuB;;AAE5C;AACA,QAAKyf,OAAO0G,YAAP,CAAoB,UAApB,CAAL,EAAuC;AACtC;AACA;;AAED,QAAIlpB,MAAM4Z,KAAKuD,GAAL,CAASoH,gBAAgBxhB,KAAhB,IAAyBsnB,QAAlC,CAAV;;AAEA,QAAKrqB,MAAM2Z,OAAX,EAAqB;AACpB8L,oBAAe1iB,KAAf;AACA4W,eAAU3Z,GAAV;AACA;AACD,IAbD;;AAeA,UAAOylB,YAAP;AACA;;AAED;AACA;AACA,WAAS8E,WAAT,CAAuBC,MAAvB,EAA+BH,QAA/B,EAAyCI,SAAzC,EAAoDC,aAApD,EAAoE;;AAEnE,OAAIC,YAAYF,UAAUvwB,KAAV,EAAhB;;AAEA,OAAI8J,IAAI,CAAC,CAACwmB,MAAF,EAAUA,MAAV,CAAR;AACA,OAAII,IAAI,CAACJ,MAAD,EAAS,CAACA,MAAV,CAAR;;AAEA;AACAE,mBAAgBA,cAAcxwB,KAAd,EAAhB;;AAEA;AACA;AACA,OAAKswB,MAAL,EAAc;AACbE,kBAAcG,OAAd;AACA;;AAED;AACA,OAAKH,cAAcpqB,MAAd,GAAuB,CAA5B,EAAgC;;AAE/BoqB,kBAAcxU,OAAd,CAAsB,UAASuP,YAAT,EAAuB1hB,CAAvB,EAA0B;;AAE/C,SAAIuV,KAAK+M,oBAAoBsE,SAApB,EAA+BlF,YAA/B,EAA6CkF,UAAUlF,YAAV,IAA0B4E,QAAvE,EAAiFrmB,EAAED,CAAF,CAAjF,EAAuF6mB,EAAE7mB,CAAF,CAAvF,EAA6F,KAA7F,CAAT;;AAEA;AACA,SAAKuV,OAAO,KAAZ,EAAoB;AACnB+Q,iBAAW,CAAX;AACA,MAFD,MAEO;AACNA,iBAAW/Q,KAAKqR,UAAUlF,YAAV,CAAhB;AACAkF,gBAAUlF,YAAV,IAA0BnM,EAA1B;AACA;AACD,KAXD;AAYA;;AAED;AAhBA,QAiBK;AACJtV,SAAI4mB,IAAI,CAAC,IAAD,CAAR;AACA;;AAED,OAAIE,QAAQ,KAAZ;;AAEA;AACAJ,iBAAcxU,OAAd,CAAsB,UAASuP,YAAT,EAAuB1hB,CAAvB,EAA0B;AAC/C+mB,YAAQC,UAAUtF,YAAV,EAAwBgF,UAAUhF,YAAV,IAA0B4E,QAAlD,EAA4DrmB,EAAED,CAAF,CAA5D,EAAkE6mB,EAAE7mB,CAAF,CAAlE,KAA2E+mB,KAAnF;AACA,IAFD;;AAIA;AACA,OAAKA,KAAL,EAAa;AACZJ,kBAAcxU,OAAd,CAAsB,UAASuP,YAAT,EAAsB;AAC3CuF,eAAU,QAAV,EAAoBvF,YAApB;AACAuF,eAAU,OAAV,EAAmBvF,YAAnB;AACA,KAHD;AAIA;AACD;;AAED;AACA,WAASuF,SAAT,CAAqB9gB,SAArB,EAAgCub,YAAhC,EAA8CxE,GAA9C,EAAoD;;AAEnDznB,UAAO8C,IAAP,CAAYyoB,YAAZ,EAA0B7O,OAA1B,CAAkC,UAAU+U,WAAV,EAAwB;;AAEzD,QAAIC,YAAYD,YAAY9oB,KAAZ,CAAkB,GAAlB,EAAuB,CAAvB,CAAhB;;AAEA,QAAK+H,cAAcghB,SAAnB,EAA+B;AAC9BnG,kBAAakG,WAAb,EAA0B/U,OAA1B,CAAkC,UAAU8S,QAAV,EAAqB;;AAEtDA,eAAS7uB,IAAT;AACC;AACA6qB,gBAFD;AAGC;AACAF,mBAAa7lB,GAAb,CAAiBwJ,QAAQmZ,MAAR,CAAetI,EAAhC,CAJD;AAKC;AACAmM,kBAND;AAOC;AACAX,mBAAa5qB,KAAb,EARD;AASC;AACA+mB,aAAO,KAVR;AAWC;AACAsD,sBAAgBrqB,KAAhB,EAZD;AAcA,MAhBD;AAiBA;AACD,IAvBD;AAwBA;;AAGD;AACA,WAASixB,aAAT,CAAyB9jB,KAAzB,EAAgC9C,IAAhC,EAAuC;AACtC,OAAK8C,MAAMmJ,IAAN,KAAe,UAAf,IAA6BnJ,MAAMkC,MAAN,CAAa6hB,QAAb,KAA0B,MAAvD,IAAiE/jB,MAAMgkB,aAAN,KAAwB,IAA9F,EAAoG;AACnGC,aAAUjkB,KAAV,EAAiB9C,IAAjB;AACA;AACD;;AAED;AACA,WAASgnB,SAAT,CAAqBlkB,KAArB,EAA4B9C,IAA5B,EAAmC;;AAElC;AACA;AACA;AACA;AACA;AACA,OAAK8V,UAAUmR,UAAV,CAAqBhrB,OAArB,CAA6B,QAA7B,MAA2C,CAAC,CAA5C,IAAiD6G,MAAM+hB,OAAN,KAAkB,CAAnE,IAAwE7kB,KAAKknB,eAAL,KAAyB,CAAtG,EAA0G;AACzG,WAAOH,SAASjkB,KAAT,EAAgB9C,IAAhB,CAAP;AACA;;AAED;AACA,OAAImnB,WAAW,CAACjjB,QAAQsY,GAAR,GAAc,CAAC,CAAf,GAAmB,CAApB,KAA0B1Z,MAAMgiB,SAAN,GAAkB9kB,KAAKonB,cAAjD,CAAf;;AAEA;AACA,OAAItB,WAAYqB,WAAW,GAAZ,GAAmBnnB,KAAKokB,QAAvC;;AAEA4B,eAAYmB,WAAW,CAAvB,EAA0BrB,QAA1B,EAAoC9lB,KAAKkmB,SAAzC,EAAoDlmB,KAAKmmB,aAAzD;AACA;;AAED;AACA,WAASY,QAAT,CAAoBjkB,KAApB,EAA2B9C,IAA3B,EAAkC;;AAEjC;AACA,OAAKogB,kBAAL,EAA0B;AACzBrJ,gBAAYqJ,kBAAZ,EAAgClc,QAAQuZ,UAAR,CAAmBiB,MAAnD;AACA0B,yBAAqB,KAArB;AACA;;AAED;AACA,OAAKtd,MAAM6iB,MAAX,EAAoB;AACnB7E,eAAWppB,KAAX,CAAiBiuB,MAAjB,GAA0B,EAA1B;AACA7E,eAAWjb,mBAAX,CAA+B,aAA/B,EAA8CqP,cAA9C;AACA;;AAED;AACAyL,mBAAgBhP,OAAhB,CAAwB,UAAU3V,CAAV,EAAc;AACrC6kB,0BAAsBhb,mBAAtB,CAA0C7J,EAAE,CAAF,CAA1C,EAAgDA,EAAE,CAAF,CAAhD;AACA,IAFD;;AAIA;AACA+a,eAAYgJ,YAAZ,EAA0B7b,QAAQuZ,UAAR,CAAmBd,IAA7C;;AAEA0K;;AAEArnB,QAAKmmB,aAAL,CAAmBxU,OAAnB,CAA2B,UAASuP,YAAT,EAAsB;AAChDuF,cAAU,QAAV,EAAoBvF,YAApB;AACAuF,cAAU,KAAV,EAAiBvF,YAAjB;AACAuF,cAAU,KAAV,EAAiBvF,YAAjB;AACA,IAJD;AAKA;;AAED;AACA,WAASoG,UAAT,CAAsBxkB,KAAtB,EAA6B9C,IAA7B,EAAoC;;AAEnC,OAAKA,KAAKmmB,aAAL,CAAmBpqB,MAAnB,KAA8B,CAAnC,EAAuC;;AAEtC,QAAIkiB,SAASiC,cAAclgB,KAAKmmB,aAAL,CAAmB,CAAnB,CAAd,CAAb;;AAEA;AACA,QAAKlI,OAAO0G,YAAP,CAAoB,UAApB,CAAL,EAAuC;AACtC,YAAO,KAAP;AACA;;AAED;AACAvE,yBAAqBnC,OAAOjS,QAAP,CAAgB,CAAhB,CAArB;AACA6K,aAASuJ,kBAAT,EAA6Blc,QAAQuZ,UAAR,CAAmBiB,MAAhD;AACA;;AAED;AACA5b,SAAMykB,eAAN;;AAEA;AACA,OAAIC,YAAYhD,YAAY3E,QAAQ3V,IAApB,EAA0B2W,qBAA1B,EAAiDmG,SAAjD,EAA4D;AAC3EI,oBAAgBtkB,MAAMgiB,SADqD;AAE3EV,cAAUA,UAFiE;AAG3ExO,gBAAY9S,MAAM8S,UAHyD;AAI3EuQ,mBAAenmB,KAAKmmB,aAJuD;AAK3Ee,qBAAiBpkB,MAAM+hB,OALoD;AAM3EqB,eAAWlG,gBAAgBrqB,KAAhB;AANgE,IAA5D,CAAhB;;AASA,OAAI8xB,WAAWjD,YAAY3E,QAAQ3jB,GAApB,EAAyB2kB,qBAAzB,EAAgDkG,QAAhD,EAA0D;AACxEZ,mBAAenmB,KAAKmmB;AADoD,IAA1D,CAAf;;AAIA,OAAIuB,WAAWlD,YAAY,UAAZ,EAAwB3D,qBAAxB,EAA+C+F,aAA/C,EAA8D;AAC5ET,mBAAenmB,KAAKmmB;AADwD,IAA9D,CAAf;;AAIAxF,qBAAkB6G,UAAU5sB,MAAV,CAAiB6sB,QAAjB,EAA2BC,QAA3B,CAAlB;;AAEA;AACA;AACA,OAAK5kB,MAAM6iB,MAAX,EAAoB;;AAEnB;AACA7E,eAAWppB,KAAX,CAAiBiuB,MAAjB,GAA0BgC,iBAAiB7kB,MAAMkC,MAAvB,EAA+B2gB,MAAzD;;AAEA;AACA,QAAKzF,cAAcnkB,MAAd,GAAuB,CAA5B,EAAgC;AAC/B8a,cAASkJ,YAAT,EAAuB7b,QAAQuZ,UAAR,CAAmBd,IAA1C;AACA;;AAED;AACA;AACA;AACA;AACA;AACA;AACAmE,eAAWhb,gBAAX,CAA4B,aAA5B,EAA2CoP,cAA3C,EAA2D,KAA3D;AACA;;AAEDlV,QAAKmmB,aAAL,CAAmBxU,OAAnB,CAA2B,UAASuP,YAAT,EAAsB;AAChDuF,cAAU,OAAV,EAAmBvF,YAAnB;AACA,IAFD;AAGA;;AAED;AACA,WAAS0G,QAAT,CAAoB9kB,KAApB,EAA4B;;AAE3B;AACAA,SAAMykB,eAAN;;AAEA,OAAIzB,WAAWF,sBAAsB9iB,MAAMgiB,SAA5B,CAAf;AACA,OAAI5D,eAAe6E,iBAAiBD,QAAjB,CAAnB;;AAEA;AACA,OAAK5E,iBAAiB,KAAtB,EAA8B;AAC7B,WAAO,KAAP;AACA;;AAED;AACA;AACA,OAAK,CAAChd,QAAQ4Y,MAAR,CAAevD,IAArB,EAA4B;AAC3B9C,gBAAYsJ,YAAZ,EAA0B7b,QAAQuZ,UAAR,CAAmBf,GAA7C,EAAkDxY,QAAQ4X,iBAA1D;AACA;;AAED0K,aAAUtF,YAAV,EAAwB4E,QAAxB,EAAkC,IAAlC,EAAwC,IAAxC;;AAEAuB;;AAEAZ,aAAU,OAAV,EAAmBvF,YAAnB,EAAiC,IAAjC;AACAuF,aAAU,QAAV,EAAoBvF,YAApB,EAAkC,IAAlC;AACAuF,aAAU,QAAV,EAAoBvF,YAApB,EAAkC,IAAlC;AACAuF,aAAU,KAAV,EAAiBvF,YAAjB,EAA+B,IAA/B;;AAEA,OAAKhd,QAAQ4Y,MAAR,CAAevD,IAApB,EAA2B;AAC1B+N,eAAWxkB,KAAX,EAAkB,EAAEqjB,eAAe,CAACjF,YAAD,CAAjB,EAAlB;AACA;AACD;;AAED;AACA,WAAS2G,UAAT,CAAsB/kB,KAAtB,EAA8B;;AAE7B,OAAIgjB,WAAWF,sBAAsB9iB,MAAMgiB,SAA5B,CAAf;;AAEA,OAAI/P,KAAKuL,eAAejH,OAAf,CAAuByM,QAAvB,CAAT;AACA,OAAI1xB,QAAQksB,eAAelH,YAAf,CAA4BrE,EAA5B,CAAZ;;AAEA9f,UAAO8C,IAAP,CAAYyoB,YAAZ,EAA0B7O,OAA1B,CAAkC,UAAU+U,WAAV,EAAwB;AACzD,QAAK,YAAYA,YAAY9oB,KAAZ,CAAkB,GAAlB,EAAuB,CAAvB,CAAjB,EAA6C;AAC5C4iB,kBAAakG,WAAb,EAA0B/U,OAA1B,CAAkC,UAAU8S,QAAV,EAAqB;AACtDA,eAAS7uB,IAAT,CAAe6qB,UAAf,EAA2BrsB,KAA3B;AACA,MAFD;AAGA;AACD,IAND;AAOA;;AAED;AACA,WAAS0zB,gBAAT,CAA4BC,SAA5B,EAAwC;;AAEvC;AACA,OAAK,CAACA,UAAUnL,KAAhB,EAAwB;;AAEvBsD,kBAAcvO,OAAd,CAAsB,UAAUsM,MAAV,EAAkBzf,KAAlB,EAAyB;;AAE9C;AACA;AACAgmB,iBAAc3E,QAAQlkB,KAAtB,EAA6BsiB,OAAOjS,QAAP,CAAgB,CAAhB,CAA7B,EAAiDsb,UAAjD,EAA6D;AAC5DnB,qBAAe,CAAC3nB,KAAD;AAD6C,MAA7D;AAGA,KAPD;AAQA;;AAED;AACA,OAAKupB,UAAUrL,GAAf,EAAqB;AACpB8H,gBAAa3E,QAAQlkB,KAArB,EAA4BskB,UAA5B,EAAwC2H,QAAxC,EAAkD,EAAlD;AACA;;AAED;AACA,OAAKG,UAAUlL,KAAf,EAAuB;AACtB2H,gBAAa3E,QAAQ3V,IAArB,EAA2B+V,UAA3B,EAAuC4H,UAAvC,EAAmD,EAAEhL,OAAO,IAAT,EAAnD;AACA;;AAED;AACA,OAAKkL,UAAUpL,IAAf,EAAqB;;AAEpB0D,mBAAe1O,OAAf,CAAuB,UAAUsC,OAAV,EAAmBzV,KAAnB,EAA0B;;AAEhD,SAAKyV,YAAY,KAAZ,IAAqBzV,UAAU,CAA/B,IAAoCA,UAAU6hB,eAAetkB,MAAf,GAAwB,CAA3E,EAA+E;AAC9E;AACA;;AAED,SAAIisB,eAAe9H,cAAc1hB,QAAQ,CAAtB,CAAnB;AACA,SAAIypB,cAAc/H,cAAc1hB,KAAd,CAAlB;AACA,SAAI0pB,eAAe,CAACjU,OAAD,CAAnB;;AAEA4C,cAAS5C,OAAT,EAAkB/P,QAAQuZ,UAAR,CAAmBgB,SAArC;;AAEA;AACA;AACA;AACA;AACA,SAAKsJ,UAAUnL,KAAf,EAAuB;AACtBsL,mBAAa1tB,IAAb,CAAkBwtB,aAAahc,QAAb,CAAsB,CAAtB,CAAlB;AACAkc,mBAAa1tB,IAAb,CAAkBytB,YAAYjc,QAAZ,CAAqB,CAArB,CAAlB;AACA;;AAEDkc,kBAAavW,OAAb,CAAqB,UAAUwW,WAAV,EAAwB;AAC5C3D,kBAAc3E,QAAQlkB,KAAtB,EAA6BwsB,WAA7B,EAA0Cb,UAA1C,EAAsD;AACrD7L,gBAAS,CAACuM,YAAD,EAAeC,WAAf,CAD4C;AAErD9B,sBAAe,CAAC3nB,QAAQ,CAAT,EAAYA,KAAZ;AAFsC,OAAtD;AAIA,MALD;AAMA,KA3BD;AA4BA;AACD;;AAGD;AACA,WAASsjB,mBAAT,CAA+BsG,SAA/B,EAA0ClH,YAA1C,EAAwDnM,EAAxD,EAA4DsT,YAA5D,EAA0EC,WAA1E,EAAuFC,QAAvF,EAAkG;;AAEjG;AACA;AACA,OAAKrI,cAAcnkB,MAAd,GAAuB,CAA5B,EAAgC;;AAE/B,QAAKssB,gBAAgBnH,eAAe,CAApC,EAAwC;AACvCnM,UAAKM,KAAKjB,GAAL,CAASW,EAAT,EAAaqT,UAAUlH,eAAe,CAAzB,IAA8Bhd,QAAQiY,MAAnD,CAAL;AACA;;AAED,QAAKmM,eAAepH,eAAehB,cAAcnkB,MAAd,GAAuB,CAA1D,EAA8D;AAC7DgZ,UAAKM,KAAKlB,GAAL,CAASY,EAAT,EAAaqT,UAAUlH,eAAe,CAAzB,IAA8Bhd,QAAQiY,MAAnD,CAAL;AACA;AACD;;AAED;AACA;AACA;AACA,OAAK+D,cAAcnkB,MAAd,GAAuB,CAAvB,IAA4BmI,QAAQ8S,KAAzC,EAAiD;;AAEhD,QAAKqR,gBAAgBnH,eAAe,CAApC,EAAwC;AACvCnM,UAAKM,KAAKlB,GAAL,CAASY,EAAT,EAAaqT,UAAUlH,eAAe,CAAzB,IAA8Bhd,QAAQ8S,KAAnD,CAAL;AACA;;AAED,QAAKsR,eAAepH,eAAehB,cAAcnkB,MAAd,GAAuB,CAA1D,EAA8D;AAC7DgZ,UAAKM,KAAKjB,GAAL,CAASW,EAAT,EAAaqT,UAAUlH,eAAe,CAAzB,IAA8Bhd,QAAQ8S,KAAnD,CAAL;AACA;AACD;;AAED;AACA;AACA,OAAK9S,QAAQoY,OAAb,EAAuB;;AAEtB,QAAK4E,iBAAiB,CAAtB,EAA0B;AACzBnM,UAAKM,KAAKjB,GAAL,CAASW,EAAT,EAAa7Q,QAAQoY,OAArB,CAAL;AACA;;AAED,QAAK4E,iBAAiBhB,cAAcnkB,MAAd,GAAuB,CAA7C,EAAiD;AAChDgZ,UAAKM,KAAKlB,GAAL,CAASY,EAAT,EAAa,MAAM7Q,QAAQoY,OAA3B,CAAL;AACA;AACD;;AAEDvH,QAAKuL,eAAejH,OAAf,CAAuBtE,EAAvB,CAAL;;AAEA;AACAA,QAAKiC,MAAMjC,EAAN,CAAL;;AAEA;AACA,OAAKA,OAAOqT,UAAUlH,YAAV,CAAP,IAAkC,CAACqH,QAAxC,EAAmD;AAClD,WAAO,KAAP;AACA;;AAED,UAAOxT,EAAP;AACA;;AAED,WAASyT,KAAT,CAAiBC,GAAjB,EAAuB;AACtB,UAAOA,MAAM,GAAb;AACA;;AAED;AACA,WAASC,oBAAT,CAAgCxH,YAAhC,EAA8CnM,EAA9C,EAAmD;;AAElD;AACAiL,mBAAgBkB,YAAhB,IAAgCnM,EAAhC;;AAEA;AACAwL,gBAAaW,YAAb,IAA6BZ,eAAelH,YAAf,CAA4BrE,EAA5B,CAA7B;;AAEA;AACA,OAAI4T,cAAc,SAAdA,WAAc,GAAW;AAC5BzI,kBAAcgB,YAAd,EAA4BxpB,KAA5B,CAAkCwM,QAAQxM,KAA1C,IAAmD8wB,MAAMzT,EAAN,CAAnD;AACA6T,kBAAc1H,YAAd;AACA0H,kBAAc1H,eAAe,CAA7B;AACA,IAJD;;AAMA;AACA;AACA;AACA;AACA,OAAK3tB,OAAOs1B,qBAAP,IAAgC3kB,QAAQyZ,wBAA7C,EAAwE;AACvEpqB,WAAOs1B,qBAAP,CAA6BF,WAA7B;AACA,IAFD,MAEO;AACNA;AACA;AACD;;AAED,WAAStB,SAAT,GAAuB;;AAEtBlH,uBAAoBxO,OAApB,CAA4B,UAASuP,YAAT,EAAsB;AACjD;AACA;AACA;AACA,QAAI1E,MAAOwD,gBAAgBkB,YAAhB,IAAgC,EAAhC,GAAqC,CAAC,CAAtC,GAA0C,CAArD;AACA,QAAI4H,SAAS,KAAK5I,cAAcnkB,MAAd,GAAwBygB,MAAM0E,YAAnC,CAAb;AACAhB,kBAAcgB,YAAd,EAA4B6H,UAA5B,CAAuC,CAAvC,EAA0CrxB,KAA1C,CAAgDoxB,MAAhD,GAAyDA,MAAzD;AACA,IAPD;AAQA;;AAED;AACA,WAAStC,SAAT,CAAqBtF,YAArB,EAAmCnM,EAAnC,EAAuCsT,YAAvC,EAAqDC,WAArD,EAAmE;;AAElEvT,QAAK+M,oBAAoB9B,eAApB,EAAqCkB,YAArC,EAAmDnM,EAAnD,EAAuDsT,YAAvD,EAAqEC,WAArE,EAAkF,KAAlF,CAAL;;AAEA,OAAKvT,OAAO,KAAZ,EAAoB;AACnB,WAAO,KAAP;AACA;;AAED2T,wBAAqBxH,YAArB,EAAmCnM,EAAnC;;AAEA,UAAO,IAAP;AACA;;AAED;AACA,WAAS6T,aAAT,CAAyBpqB,KAAzB,EAAiC;;AAEhC;AACA,OAAK,CAAC6hB,eAAe7hB,KAAf,CAAN,EAA8B;AAC7B;AACA;;AAED,OAAIwqB,IAAI,CAAR;AACA,OAAIC,IAAI,GAAR;;AAEA,OAAKzqB,UAAU,CAAf,EAAmB;AAClBwqB,QAAIhJ,gBAAgBxhB,QAAQ,CAAxB,CAAJ;AACA;;AAED,OAAKA,UAAU6hB,eAAetkB,MAAf,GAAwB,CAAvC,EAA2C;AAC1CktB,QAAIjJ,gBAAgBxhB,KAAhB,CAAJ;AACA;;AAED6hB,kBAAe7hB,KAAf,EAAsB9G,KAAtB,CAA4BwM,QAAQxM,KAApC,IAA6C8wB,MAAMQ,CAAN,CAA7C;AACA3I,kBAAe7hB,KAAf,EAAsB9G,KAAtB,CAA4BwM,QAAQwb,YAApC,IAAoD8I,MAAM,MAAMS,CAAZ,CAApD;AACA;;AAED;AACA,WAASC,QAAT,CAAoBnU,EAApB,EAAwBmM,YAAxB,EAAuC;;AAEtC;AACA;AACA,OAAKnM,OAAO,IAAP,IAAeA,OAAO,KAA3B,EAAmC;AAClC;AACA;;AAED;AACA,OAAK,OAAOA,EAAP,KAAc,QAAnB,EAA8B;AAC7BA,SAAKqC,OAAOrC,EAAP,CAAL;AACA;;AAEDA,QAAK7Q,QAAQmZ,MAAR,CAAerI,IAAf,CAAoBD,EAApB,CAAL;;AAEA;AACA;AACA,OAAKA,OAAO,KAAP,IAAgB,CAACwB,MAAMxB,EAAN,CAAtB,EAAkC;AACjCyR,cAAUtF,YAAV,EAAwBZ,eAAevH,UAAf,CAA0BhE,EAA1B,CAAxB,EAAuD,KAAvD,EAA8D,KAA9D;AACA;AACD;;AAED;AACA,WAASoU,QAAT,CAAoBC,KAApB,EAA2BC,YAA3B,EAA0C;;AAEzC,OAAI7U,SAASyC,QAAQmS,KAAR,CAAb;AACA,OAAIE,SAAStJ,gBAAgB,CAAhB,MAAuBxsB,SAApC;;AAEA;AACA61B,kBAAgBA,iBAAiB71B,SAAjB,GAA6B,IAA7B,GAAoC,CAAC,CAAC61B,YAAtD;;AAEA7U,UAAO7C,OAAP,CAAeuX,QAAf;;AAEA;AACA;AACA,OAAKhlB,QAAQ0X,OAAR,IAAmB,CAAC0N,MAAzB,EAAkC;AACjC7S,gBAAYsJ,YAAZ,EAA0B7b,QAAQuZ,UAAR,CAAmBf,GAA7C,EAAkDxY,QAAQ4X,iBAA1D;AACA;;AAED;AACAqE,uBAAoBxO,OAApB,CAA4B,UAASuP,YAAT,EAAsB;AACjDsF,cAAUtF,YAAV,EAAwBlB,gBAAgBkB,YAAhB,CAAxB,EAAuD,IAAvD,EAA6D,KAA7D;AACA,IAFD;;AAIAmG;;AAEAlH,uBAAoBxO,OAApB,CAA4B,UAASuP,YAAT,EAAsB;;AAEjDuF,cAAU,QAAV,EAAoBvF,YAApB;;AAEA;AACA,QAAK1M,OAAO0M,YAAP,MAAyB,IAAzB,IAAiCmI,YAAtC,EAAqD;AACpD5C,eAAU,KAAV,EAAiBvF,YAAjB;AACA;AACD,IARD;AASA;;AAED;AACA,WAASqI,UAAT,CAAsBF,YAAtB,EAAqC;AACpCF,YAASjlB,QAAQvI,KAAjB,EAAwB0tB,YAAxB;AACA;;AAED;AACA,WAASG,QAAT,GAAsB;;AAErB,OAAIhV,SAAS+L,aAAa7lB,GAAb,CAAiBwJ,QAAQmZ,MAAR,CAAetI,EAAhC,CAAb;;AAEA;AACA,OAAKP,OAAOzY,MAAP,KAAkB,CAAvB,EAA0B;AACzB,WAAOyY,OAAO,CAAP,CAAP;AACA;;AAED,UAAOA,MAAP;AACA;;AAED;AACA,WAASiV,OAAT,GAAqB;;AAEpB,QAAM,IAAI10B,GAAV,IAAiBmP,QAAQuZ,UAAzB,EAAsC;AACrC,QAAK,CAACvZ,QAAQuZ,UAAR,CAAmBtM,cAAnB,CAAkCpc,GAAlC,CAAN,EAA+C;AAAE;AAAW;AAC5DgiB,gBAAYgJ,YAAZ,EAA0B7b,QAAQuZ,UAAR,CAAmB1oB,GAAnB,CAA1B;AACA;;AAED,UAAOgrB,aAAavmB,UAApB,EAAgC;AAC/BumB,iBAAarX,WAAb,CAAyBqX,aAAavmB,UAAtC;AACA;;AAED,UAAOumB,aAAarL,UAApB;AACA;;AAED;AACA,WAASgV,cAAT,GAA4B;;AAE3B;AACA;AACA,UAAO1J,gBAAgBtlB,GAAhB,CAAoB,UAAUmrB,QAAV,EAAoBrnB,KAApB,EAA2B;;AAErD,QAAImrB,cAAcrJ,eAAe5F,cAAf,CAA+BmL,QAA/B,CAAlB;AACA,QAAIzxB,QAAQmsB,aAAa/hB,KAAb,CAAZ;AACA,QAAI8jB,YAAYqH,YAAY9O,QAAZ,CAAqBT,IAArC;AACA,QAAIwP,YAAY,IAAhB;;AAEA;AACA;AACA,QAAKtH,cAAc,KAAnB,EAA2B;AAC1B,SAAKluB,QAAQkuB,SAAR,GAAoBqH,YAAY7O,SAAZ,CAAsBF,UAA/C,EAA4D;AAC3D0H,kBAAYqH,YAAY7O,SAAZ,CAAsBF,UAAtB,GAAmCxmB,KAA/C;AACA;AACD;;AAGD;AACA,QAAKA,QAAQu1B,YAAY9O,QAAZ,CAAqBD,UAAlC,EAA+C;AAC9CgP,iBAAYD,YAAY9O,QAAZ,CAAqBT,IAAjC;AACA,KAFD,MAIK,IAAKuP,YAAYhP,UAAZ,CAAuBP,IAAvB,KAAgC,KAArC,EAA6C;AACjDwP,iBAAY,KAAZ;AACA;;AAED;AAJK,SAKA;AACJA,kBAAYx1B,QAAQu1B,YAAYhP,UAAZ,CAAuBX,WAA3C;AACA;;AAGD;AACA,QAAK6L,aAAa,GAAlB,EAAwB;AACvBvD,iBAAY,IAAZ;AACA,KAFD,MAIK,IAAKuD,aAAa,CAAlB,EAAsB;AAC1B+D,iBAAY,IAAZ;AACA;;AAED;AACA,QAAI5O,eAAesF,eAAevF,iBAAf,EAAnB;;AAEA;AACA,QAAKuH,cAAc,IAAd,IAAsBA,cAAc,KAAzC,EAAiD;AAChDA,iBAAYpI,OAAOoI,UAAUnI,OAAV,CAAkBa,YAAlB,CAAP,CAAZ;AACA;;AAED,QAAK4O,cAAc,IAAd,IAAsBA,cAAc,KAAzC,EAAiD;AAChDA,iBAAY1P,OAAO0P,UAAUzP,OAAV,CAAkBa,YAAlB,CAAP,CAAZ;AACA;;AAED,WAAO,CAAC4O,SAAD,EAAYtH,SAAZ,CAAP;AACA,IArDM,CAAP;AAsDA;;AAED;AACA,WAASb,SAAT,CAAqBoI,eAArB,EAAsCpF,QAAtC,EAAiD;AAChDjE,gBAAaqJ,eAAb,IAAgCrJ,aAAaqJ,eAAb,KAAiC,EAAjE;AACArJ,gBAAaqJ,eAAb,EAA8BrvB,IAA9B,CAAmCiqB,QAAnC;;AAEA;AACA,OAAKoF,gBAAgBjsB,KAAhB,CAAsB,GAAtB,EAA2B,CAA3B,MAAkC,QAAvC,EAAkD;AACjDsiB,kBAAcvO,OAAd,CAAsB,UAASlL,CAAT,EAAYjI,KAAZ,EAAkB;AACvCioB,eAAU,QAAV,EAAoBjoB,KAApB;AACA,KAFD;AAGA;AACD;;AAED;AACA,WAASsrB,WAAT,CAAuBD,eAAvB,EAAyC;;AAExC,OAAI/mB,QAAQ+mB,mBAAmBA,gBAAgBjsB,KAAhB,CAAsB,GAAtB,EAA2B,CAA3B,CAA/B;AACA,OAAImsB,YAAYjnB,SAAS+mB,gBAAgBG,SAAhB,CAA0BlnB,MAAM/G,MAAhC,CAAzB;;AAEA9G,UAAO8C,IAAP,CAAYyoB,YAAZ,EAA0B7O,OAA1B,CAAkC,UAAUzR,IAAV,EAAgB;;AAEjD,QAAI+pB,SAAS/pB,KAAKtC,KAAL,CAAW,GAAX,EAAgB,CAAhB,CAAb;AAAA,QACCssB,aAAahqB,KAAK8pB,SAAL,CAAeC,OAAOluB,MAAtB,CADd;;AAGA,QAAK,CAAC,CAAC+G,KAAD,IAAUA,UAAUmnB,MAArB,MAAiC,CAACF,SAAD,IAAcA,cAAcG,UAA7D,CAAL,EAAgF;AAC/E,YAAO1J,aAAatgB,IAAb,CAAP;AACA;AACD,IARD;AASA;;AAED;AACA,WAASiqB,aAAT,CAAyBC,eAAzB,EAA0Cf,YAA1C,EAAyD;;AAExD;AACA;AACA;AACA,OAAI/X,IAAIkY,UAAR;;AAEA,OAAIa,aAAa,CAAC,QAAD,EAAW,OAAX,EAAoB,SAApB,EAA+B,OAA/B,EAAwC,SAAxC,EAAmD,MAAnD,EAA2D,MAA3D,EAAmE,QAAnE,CAAjB;;AAEA;AACAA,cAAW1Y,OAAX,CAAmB,UAASnb,IAAT,EAAc;AAChC,QAAK4zB,gBAAgB5zB,IAAhB,MAA0BhD,SAA/B,EAA2C;AAC1CosB,qBAAgBppB,IAAhB,IAAwB4zB,gBAAgB5zB,IAAhB,CAAxB;AACA;AACD,IAJD;;AAMA,OAAI8zB,aAAa1M,YAAYgC,eAAZ,CAAjB;;AAEA;AACAyK,cAAW1Y,OAAX,CAAmB,UAASnb,IAAT,EAAc;AAChC,QAAK4zB,gBAAgB5zB,IAAhB,MAA0BhD,SAA/B,EAA2C;AAC1C0Q,aAAQ1N,IAAR,IAAgB8zB,WAAW9zB,IAAX,CAAhB;AACA;AACD,IAJD;;AAMA8pB,oBAAiBgK,WAAW/O,QAA5B;;AAEA;AACArX,WAAQiY,MAAR,GAAiBmO,WAAWnO,MAA5B;AACAjY,WAAQ8S,KAAR,GAAgBsT,WAAWtT,KAA3B;AACA9S,WAAQoY,OAAR,GAAkBgO,WAAWhO,OAA7B;;AAEA;AACA,OAAKpY,QAAQmQ,IAAb,EAAoB;AACnBA,SAAKnQ,QAAQmQ,IAAb;AACA;;AAED;AACA2L,qBAAkB,EAAlB;AACAmJ,YAASiB,gBAAgBzuB,KAAhB,IAAyB2V,CAAlC,EAAqC+X,YAArC;AACA;;AAED;AACA,MAAKtJ,aAAarL,UAAlB,EAA+B;AAC9B,SAAM,IAAI7W,KAAJ,CAAU,iBAAiB+W,OAAjB,GAA2B,oCAArC,CAAN;AACA;;AAED;AACA;AACA0M,YAAUvB,YAAV;AACAqB,cAAYld,QAAQ+P,OAApB,EAA6BgM,UAA7B;;AAEAQ,eAAa;AACZgJ,YAASA,OADG;AAEZrG,UAAOsG,cAFK;AAGZ7mB,OAAI4e,SAHQ;AAIZze,QAAK8mB,WAJO;AAKZlqB,QAAK4pB,QALO;AAMZ7pB,QAAKwpB,QANO;AAOZoB,UAAOhB,UAPK;AAQZ;AACAiB,kBAAe,uBAAS/jB,CAAT,EAAYhH,CAAZ,EAAezD,CAAf,EAAkB;AAAEgqB,gBAAYvf,CAAZ,EAAehH,CAAf,EAAkBugB,eAAlB,EAAmChkB,CAAnC;AAAwC,IAT/D;AAUZkI,YAAS0b,eAVG,EAUc;AAC1BuK,kBAAeA,aAXH;AAYZnlB,WAAQ+a,YAZI,EAYU;AACtBmE,eAAYA,UAbA;AAcZ7P,SAAMA,IAdM,CAcD;AAdC,GAAb;;AAiBA;AACAyT,mBAAiB5jB,QAAQ4Y,MAAzB;;AAEA;AACAqM,WAASjlB,QAAQvI,KAAjB;;AAEA,MAAKuI,QAAQmQ,IAAb,EAAoB;AACnBA,QAAKnQ,QAAQmQ,IAAb;AACA;;AAED,MAAKnQ,QAAQ8Y,QAAb,EAAwB;AACvBA;AACA;;AAED4E;;AAEA,SAAOnB,UAAP;AAEA;;AAGA;AACA,UAASgK,UAAT,CAAsBzlB,MAAtB,EAA8B4a,eAA9B,EAAgD;;AAE/C,MAAK,CAAC5a,MAAD,IAAW,CAACA,OAAO6hB,QAAxB,EAAmC;AAClC,SAAM,IAAIhpB,KAAJ,CAAU,iBAAiB+W,OAAjB,GAA2B,4CAA3B,GAA0E5P,MAApF,CAAN;AACA;;AAED;AACA,MAAId,UAAU0Z,YAAagC,eAAb,EAA8B5a,MAA9B,CAAd;AACA,MAAI0lB,MAAM/K,QAAS3a,MAAT,EAAiBd,OAAjB,EAA0B0b,eAA1B,CAAV;;AAEA5a,SAAO0P,UAAP,GAAoBgW,GAApB;;AAEA,SAAOA,GAAP;AACA;;AAED;AACA,QAAO;AACNjoB,WAASmS,OADH;AAENrQ,UAAQkmB;AAFF,EAAP;AAKA,CA7sEA,CAAD,C;;;;;;;;;ACFA;;;;AACA;;;;;;AACAv4B,KAAKud,IAAL,CAAU,kBAAV,EAA8B,0BAA9B,EAA0D,EAA1D,EAA8D,EAA9D,EAAkE,UAAS3I,IAAT,EAAe;AAAA;;AACzE,SAAKjE,EAAL,CAAQ,OAAR,EAAiB,YAAI;AACjB,cAAKqB,OAAL,GAAe;AACXymB,sBAAU,kBAACC,aAAD,EAAiB;AACvB,sBAAKtnB,OAAL,CAAa,QAAb,EAAuBsnB,aAAvB;AACH,aAHU;AAIXC,oBAAQ,gBAASD,aAAT,EAAuB;AAC3B,oBAAI,KAAKE,WAAL,IAAoB,KAAKC,aAA7B,EAA4C;AACxC,yBAAKC,OAAL,CAAgB,KAAKF,WAAL,CAAiB12B,KAAjC,SAA0C,KAAK22B,aAAL,CAAmB32B,KAA7D;AACH;AACJ;AARU,SAAf;AAUA,8BAAO,IAAP,EAAa,MAAK8P,OAAlB,EAA2B,MAAK4C,IAAL,CAAU5C,OAArC;AACA,cAAK+mB,UAAL,GAAkB,wBAAc,MAAKzhB,IAAL,CAAUyhB,UAAxB,EAAoC,MAAK/mB,OAAzC,CAAlB;AACH,KAbD;AAcP,CAfD,E;;;;;;;;;;;;ACFA,IAAIgnB,WAAWj2B,OAAOk2B,MAAP,IAAiB,UAAUnmB,MAAV,EAAkB;AAAE,MAAK,IAAI7D,IAAI,CAAb,EAAgBA,IAAIkC,UAAUtH,MAA9B,EAAsCoF,GAAtC,EAA2C;AAAE,MAAI1E,SAAS4G,UAAUlC,CAAV,CAAb,CAA2B,KAAK,IAAIpM,GAAT,IAAgB0H,MAAhB,EAAwB;AAAE,OAAIxH,OAAOS,SAAP,CAAiByb,cAAjB,CAAgCvb,IAAhC,CAAqC6G,MAArC,EAA6C1H,GAA7C,CAAJ,EAAuD;AAAEiQ,WAAOjQ,GAAP,IAAc0H,OAAO1H,GAAP,CAAd;AAA4B;AAAE;AAAE,EAAC,OAAOiQ,MAAP;AAAgB,CAAhQ;;AAEA,IAAIomB,UAAU,OAAOC,MAAP,KAAkB,UAAlB,IAAgC,SAAOA,OAAOC,QAAd,MAA2B,QAA3D,GAAsE,UAAUx2B,GAAV,EAAe;AAAE,eAAcA,GAAd,0CAAcA,GAAd;AAAoB,CAA3G,GAA8G,UAAUA,GAAV,EAAe;AAAE,QAAOA,OAAO,OAAOu2B,MAAP,KAAkB,UAAzB,IAAuCv2B,IAAIoZ,WAAJ,KAAoBmd,MAA3D,IAAqEv2B,QAAQu2B,OAAO31B,SAApF,GAAgG,QAAhG,UAAkHZ,GAAlH,0CAAkHA,GAAlH,CAAP;AAA+H,CAA5Q;;AAEA;AACA,SAASy2B,iBAAT,CAA2B7U,OAA3B,EAAoC8U,MAApC,EAA4C;AAC3C,KAAIC,OAAO,IAAX;;AAEAA,MAAKlqB,CAAL,GAAS,EAAT;AACAkqB,MAAKlqB,CAAL,CAAOmqB,YAAP,GAAsBA,YAAtB;AACAD,MAAKE,KAAL,GAAazrB,IAAb;AACAurB,MAAKG,aAAL,GAAqBC,YAArB;AACAJ,MAAKK,iBAAL,GAAyBC,gBAAzB;AACAN,MAAKO,WAAL,GAAmBA,WAAnB;AACAP,MAAKQ,UAAL,GAAkBA,UAAlB;AACAR,MAAKS,KAAL,GAAaA,KAAb;AACAT,MAAKU,KAAL,GAAaA,KAAb;AACAV,MAAKW,cAAL,GAAsB11B,aAAtB;AACA+0B,MAAKhC,OAAL,GAAeA,OAAf;AACAgC,MAAKY,SAAL,GAAiBA,SAAjB;AACAZ,MAAKa,UAAL,GAAkBA,UAAlB;AACAb,MAAKc,IAAL,GAAYA,IAAZ;AACAd,MAAKe,MAAL,GAAcA,MAAd;AACAf,MAAK9rB,GAAL,GAAWA,GAAX;AACA8rB,MAAKT,OAAL,GAAeA,OAAf;AACAS,MAAKgB,MAAL,GAAcA,MAAd;;AAEA,UAASlkB,IAAT,GAAgB;AACfkjB,OAAK/U,OAAL,GAAe+U,KAAKrC,KAAL,GAAa1S,OAA5B;AACA+U,OAAKiB,cAAL,GAAsBlB,UAAU,EAAhC;AACAC,OAAKkB,SAAL,GAAiBpB,kBAAkB71B,SAAlB,CAA4Bi3B,SAA5B,CAAsCzsB,IAAtC,CAA2CurB,IAA3C,CAAjB;AACAA,OAAKmB,UAAL,GAAkBrB,kBAAkB71B,SAAlB,CAA4Bk3B,UAA5B,CAAuC1sB,IAAvC,CAA4CurB,IAA5C,CAAlB;;AAEAoB;AACAC;AACAC;AACAC;AACAC;AACAC;;AAEAzB,OAAK0B,MAAL,GAAc,KAAd;;AAEA1B,OAAK2B,QAAL,GAAgB,CAAC3B,KAAKD,MAAL,CAAY6B,aAAb,IAA8B,CAAC5B,KAAKD,MAAL,CAAY8B,MAA3C,IAAqD7B,KAAKD,MAAL,CAAYlX,IAAZ,KAAqB,QAA1E,IAAsF,CAACmX,KAAKD,MAAL,CAAY+B,OAAZ,CAAoBxxB,MAA3G,IAAqH,CAAC0vB,KAAKD,MAAL,CAAYgC,MAAZ,CAAmBzxB,MAAzI,IAAmJ,CAAC0vB,KAAKD,MAAL,CAAYiC,WAAhK,IAA+K,iEAAiEp5B,IAAjE,CAAsEyhB,UAAUC,SAAhF,CAA/L;;AAEA,MAAI,CAAC0V,KAAK2B,QAAV,EAAoBM;;AAEpBC;;AAEA,MAAIlC,KAAKb,aAAL,CAAmB7uB,MAAnB,IAA6B0vB,KAAKD,MAAL,CAAYoC,UAA7C,EAAyD;AACxD,OAAInC,KAAKD,MAAL,CAAYqC,UAAhB,EAA4B;AAC3B9B,qBAAiBN,KAAKD,MAAL,CAAYoC,UAAZ,GAAyBnC,KAAKqC,qBAAL,IAA8BrC,KAAKD,MAAL,CAAYuC,OAAnE,GAA6E,IAA9F;AACA;AACDC;AACA;;AAEDvC,OAAKwC,aAAL,GAAqBxC,KAAKb,aAAL,CAAmB7uB,MAAnB,GAA4B,CAA5B,IAAiC0vB,KAAKD,MAAL,CAAYoC,UAAlE;;AAEA,MAAInC,KAAKD,MAAL,CAAYiC,WAAhB,EAA6B;AAC5BhC,QAAKyC,iBAAL,CAAuBx2B,KAAvB,CAA6B4sB,KAA7B,GAAqCmH,KAAK0C,aAAL,CAAmBC,WAAnB,GAAiC3C,KAAK4C,WAAL,CAAiBD,WAAlD,GAAgE,IAArG;AACA;;AAED,MAAI,CAAC3C,KAAK2B,QAAV,EAAoBkB;;AAEpBC,eAAa,OAAb;AACA;;AAED;;;;;AAKA,UAASC,cAAT,CAAwBt1B,EAAxB,EAA4B;AAC3B,SAAOA,GAAGgH,IAAH,CAAQurB,IAAR,CAAP;AACA;;AAED;;;;AAIA,UAASgD,UAAT,CAAoB7pB,CAApB,EAAuB;AACtB,MAAI6mB,KAAKD,MAAL,CAAYoC,UAAZ,IAA0B,CAACnC,KAAKb,aAAL,CAAmB7uB,MAAlD;AACC;AACA0vB,QAAKb,aAAL,GAAqB,CAACa,KAAK1J,GAAN,CAArB;;AAED2M,cAAY9pB,CAAZ;;AAEA,MAAI,CAAC6mB,KAAKb,aAAL,CAAmB7uB,MAAxB,EAAgC;;AAEhC,MAAI,CAAC0vB,KAAKkD,cAAN,IAAwB/pB,EAAEqH,IAAF,KAAW,OAAnC,IAA8CrH,EAAEI,MAAF,CAAS5Q,KAAT,CAAe2H,MAAf,IAAyB,CAA3E,EAA8E;AAC7E6yB;AACAZ;AACA,GAHD,MAGO;AACNlX,cAAW,YAAY;AACtB8X;AACAZ;AACA,IAHD,EAGG,IAHH;AAIA;AACD;;AAED;;;AAGA,UAASY,kBAAT,GAA8B;AAC7B,MAAI,CAACnD,KAAKD,MAAL,CAAYqC,UAAjB,EAA6B;;AAE7B,MAAIgB,QAAQ,CAACC,SAASrD,KAAKX,WAAL,CAAiB12B,KAA1B,EAAiC,EAAjC,KAAwC,CAAzC,KAA+Cq3B,KAAKsD,IAAL,GAAY,EAAZ,GAAiB,EAAhE,CAAZ;AAAA,MACIC,UAAU,CAACF,SAASrD,KAAKV,aAAL,CAAmB32B,KAA5B,EAAmC,EAAnC,KAA0C,CAA3C,IAAgD,EAD9D;AAAA,MAEI66B,UAAUxD,KAAKD,MAAL,CAAY0D,aAAZ,GAA4B,CAACJ,SAASrD,KAAK0D,aAAL,CAAmB/6B,KAA5B,EAAmC,EAAnC,KAA0C,CAA3C,IAAgD,EAA5E,GAAiF,CAF/F;;AAIA,MAAIq3B,KAAKsD,IAAL,KAAcv7B,SAAlB,EAA6Bq7B,QAAQA,QAAQ,EAAR,GAAa,MAAMpD,KAAKsD,IAAL,CAAUK,WAAV,KAA0B,IAAhC,CAArB;;AAE7B,MAAI3D,KAAKkD,cAAL,IAAuB9C,aAAaJ,KAAKqC,qBAAlB,EAAyCrC,KAAKD,MAAL,CAAYuC,OAArD,MAAkE,CAA7F,EAAgG;;AAE/Fc,WAAQxZ,KAAKjB,GAAL,CAASya,KAAT,EAAgBpD,KAAKD,MAAL,CAAYuC,OAAZ,CAAoBsB,QAApB,EAAhB,CAAR;AACA,OAAIR,UAAUpD,KAAKD,MAAL,CAAYuC,OAAZ,CAAoBsB,QAApB,EAAd,EAA8CL,UAAU3Z,KAAKjB,GAAL,CAAS4a,OAAT,EAAkBvD,KAAKD,MAAL,CAAYuC,OAAZ,CAAoBuB,UAApB,EAAlB,CAAV;AAC9C;;AAED,MAAI7D,KAAK8D,cAAL,IAAuB1D,aAAaJ,KAAKqC,qBAAlB,EAAyCrC,KAAKD,MAAL,CAAYgE,OAArD,MAAkE,CAA7F,EAAgG;AAC/FX,WAAQxZ,KAAKlB,GAAL,CAAS0a,KAAT,EAAgBpD,KAAKD,MAAL,CAAYgE,OAAZ,CAAoBH,QAApB,EAAhB,CAAR;AACA,OAAIR,UAAUpD,KAAKD,MAAL,CAAYgE,OAAZ,CAAoBH,QAApB,EAAd,EAA8CL,UAAU3Z,KAAKlB,GAAL,CAAS6a,OAAT,EAAkBvD,KAAKD,MAAL,CAAYgE,OAAZ,CAAoBF,UAApB,EAAlB,CAAV;AAC9C;;AAEDG,WAASZ,KAAT,EAAgBG,OAAhB,EAAyBC,OAAzB;AACA;;AAED;;;;AAIA,UAASlD,gBAAT,CAA0B2D,OAA1B,EAAmC;AAClC,MAAIC,OAAOD,WAAWjE,KAAKqC,qBAA3B;;AAEA,MAAI6B,IAAJ,EAAUF,SAASE,KAAKN,QAAL,EAAT,EAA0BM,KAAKL,UAAL,EAA1B,EAA6CK,KAAKC,UAAL,EAA7C;AACV;;AAED;;;;;;;;;AASA,UAASH,QAAT,CAAkBZ,KAAlB,EAAyBG,OAAzB,EAAkCC,OAAlC,EAA2C;AAC1C,MAAIxD,KAAKb,aAAL,CAAmB7uB,MAAvB,EAA+B;AAC9B0vB,QAAKqC,qBAAL,CAA2B2B,QAA3B,CAAoCZ,QAAQ,EAA5C,EAAgDG,OAAhD,EAAyDC,WAAW,CAApE,EAAuE,CAAvE;AACA;;AAED,MAAI,CAACxD,KAAKD,MAAL,CAAYqC,UAAb,IAA2BpC,KAAK2B,QAApC,EAA8C;;AAE9C3B,OAAKX,WAAL,CAAiB12B,KAAjB,GAAyBq3B,KAAKoE,GAAL,CAAS,CAACpE,KAAKD,MAAL,CAAYsE,SAAb,GAAyB,CAAC,KAAKjB,KAAN,IAAe,EAAf,GAAoB,MAAMA,QAAQ,EAAR,KAAe,CAArB,CAA7C,GAAuEA,KAAhF,CAAzB;;AAEApD,OAAKV,aAAL,CAAmB32B,KAAnB,GAA2Bq3B,KAAKoE,GAAL,CAASb,OAAT,CAA3B;;AAEA,MAAI,CAACvD,KAAKD,MAAL,CAAYsE,SAAjB,EAA4BrE,KAAKsD,IAAL,CAAUK,WAAV,GAAwBP,SAAS,EAAT,GAAc,IAAd,GAAqB,IAA7C;;AAE5B,MAAIpD,KAAKD,MAAL,CAAY0D,aAAZ,KAA8B,IAAlC,EAAwCzD,KAAK0D,aAAL,CAAmB/6B,KAAnB,GAA2Bq3B,KAAKoE,GAAL,CAASZ,OAAT,CAA3B;AACxC;;AAED;;;;AAIA,UAASc,WAAT,CAAqBjtB,KAArB,EAA4B;AAC3B,MAAIktB,OAAOltB,MAAMkC,MAAN,CAAa5Q,KAAxB;AACA,MAAI0O,MAAMmtB,KAAV,EAAiBD,OAAO,CAAClB,SAASkB,IAAT,IAAiBltB,MAAMmtB,KAAxB,EAA+B3c,QAA/B,EAAP;;AAEjB,MAAI0c,KAAKj0B,MAAL,KAAgB,CAAhB,IAAqB+G,MAAM/N,GAAN,KAAc,OAAvC,EAAgD;AAC/C02B,QAAKyE,kBAAL,CAAwBC,IAAxB;AACA,OAAI,CAAC,QAAQ97B,IAAR,CAAa27B,IAAb,CAAL,EAAyB/D,WAAW+D,IAAX;AACzB;AACD;;AAED;;;;;;AAMA,UAAS9vB,IAAT,CAAcwW,OAAd,EAAuB5T,KAAvB,EAA8B6B,OAA9B,EAAuC;AACtC,MAAI7B,iBAAiBlO,KAArB,EAA4B,OAAOkO,MAAM6O,OAAN,CAAc,UAAUye,EAAV,EAAc;AAC9D,UAAOlwB,KAAKwW,OAAL,EAAc0Z,EAAd,EAAkBzrB,OAAlB,CAAP;AACA,GAFkC,CAAP;;AAI5B,MAAI+R,mBAAmB9hB,KAAvB,EAA8B,OAAO8hB,QAAQ/E,OAAR,CAAgB,UAAUtb,EAAV,EAAc;AAClE,UAAO6J,KAAK7J,EAAL,EAASyM,KAAT,EAAgB6B,OAAhB,CAAP;AACA,GAFoC,CAAP;;AAI9B+R,UAAQ5Q,gBAAR,CAAyBhD,KAAzB,EAAgC6B,OAAhC;AACA8mB,OAAK4E,SAAL,CAAe71B,IAAf,CAAoB,EAAEkc,SAASA,OAAX,EAAoB5T,OAAOA,KAA3B,EAAkC6B,SAASA,OAA3C,EAApB;AACA;;AAED;;;;;;;AAOA,UAAS2rB,OAAT,CAAiB3rB,OAAjB,EAA0B;AACzB,SAAO,UAAU4rB,GAAV,EAAe;AACrB,UAAOA,IAAIrrB,KAAJ,KAAc,CAAd,IAAmBP,QAAQ4rB,GAAR,CAA1B;AACA,GAFD;AAGA;;AAED;;;AAGA,UAAS5C,UAAT,GAAsB;AACrBlC,OAAK4E,SAAL,GAAiB,EAAjB;AACA5E,OAAK+E,cAAL,GAAsB,EAAtB;AACA,MAAI/E,KAAKD,MAAL,CAAYiF,IAAhB,EAAsB;AACrB,IAAC,MAAD,EAAS,OAAT,EAAkB,QAAlB,EAA4B,OAA5B,EAAqC9e,OAArC,CAA6C,UAAU4e,GAAV,EAAe;AAC3D37B,UAAMc,SAAN,CAAgBic,OAAhB,CAAwB/b,IAAxB,CAA6B61B,KAAK/U,OAAL,CAAa7gB,gBAAb,CAA8B,WAAW06B,GAAX,GAAiB,GAA/C,CAA7B,EAAkF,UAAUl6B,EAAV,EAAc;AAC/F,YAAO6J,KAAK7J,EAAL,EAAS,WAAT,EAAsBi6B,QAAQ7E,KAAK8E,GAAL,CAAR,CAAtB,CAAP;AACA,KAFD;AAGA,IAJD;AAKA;;AAED,MAAI9E,KAAK2B,QAAT,EAAmB,OAAOsD,aAAP;;AAEnBjF,OAAKkF,eAAL,GAAuBC,SAASC,QAAT,EAAmB,EAAnB,CAAvB;AACApF,OAAKqF,aAAL,GAAqB,YAAY;AAChCvC,gBAAa,QAAb;AACA,GAFD;AAGA9C,OAAKsF,eAAL,GAAuBH,SAASnF,KAAKqF,aAAd,EAA6B,GAA7B,CAAvB;;AAEA,MAAIrF,KAAKD,MAAL,CAAYlX,IAAZ,KAAqB,OAArB,IAAgCmX,KAAK0C,aAAzC,EAAwDjuB,KAAKurB,KAAK0C,aAAV,EAAyB,WAAzB,EAAsC,UAAUvpB,CAAV,EAAa;AAC1G,UAAOosB,YAAYpsB,EAAEI,MAAd,CAAP;AACA,GAFuD;;AAIxD9E,OAAK3M,OAAOU,QAAP,CAAgB6f,IAArB,EAA2B,SAA3B,EAAsCmd,SAAtC;;AAEA,MAAI,CAACxF,KAAKD,MAAL,CAAY0F,MAAjB,EAAyBhxB,KAAKurB,KAAK0F,MAAV,EAAkB,SAAlB,EAA6BF,SAA7B;;AAEzB,MAAI,CAACxF,KAAKD,MAAL,CAAY8B,MAAb,IAAuB,CAAC7B,KAAKD,MAAL,CAAY0F,MAAxC,EAAgDhxB,KAAK3M,MAAL,EAAa,QAAb,EAAuBk4B,KAAKkF,eAA5B;;AAEhD,MAAIp9B,OAAO69B,YAAP,KAAwB59B,SAA5B,EAAuC0M,KAAK3M,OAAOU,QAAZ,EAAsB,YAAtB,EAAoCo9B,aAApC;;AAEvCnxB,OAAK3M,OAAOU,QAAZ,EAAsB,WAAtB,EAAmCq8B,QAAQe,aAAR,CAAnC;AACAnxB,OAAKurB,KAAK0F,MAAV,EAAkB,MAAlB,EAA0BE,aAA1B;;AAEA,MAAI5F,KAAKD,MAAL,CAAY8F,UAAZ,KAA2B,IAA/B,EAAqC;AACpCpxB,QAAKurB,KAAK0F,MAAV,EAAkB,OAAlB,EAA2B1F,KAAKc,IAAhC;AACArsB,QAAKurB,KAAK0F,MAAV,EAAkB,WAAlB,EAA+Bb,QAAQ7E,KAAKc,IAAb,CAA/B;AACA;;AAED,MAAI,CAACd,KAAKD,MAAL,CAAYoC,UAAjB,EAA6B;AAC5BnC,QAAK8F,QAAL,CAAczrB,gBAAd,CAA+B,OAA/B,EAAwC,UAAUlB,CAAV,EAAa;AACpD,WAAOA,EAAEsQ,cAAF,EAAP;AACA,IAFD;AAGAhV,QAAKurB,KAAK8F,QAAV,EAAoB,OAApB,EAA6BX,SAASY,gBAAT,EAA2B,EAA3B,CAA7B;AACAtxB,QAAKurB,KAAK8F,QAAV,EAAoB,WAApB,EAAiCjB,QAAQmB,eAAR,CAAjC;;AAEAvxB,QAAKurB,KAAK8F,QAAV,EAAoB,CAAC,OAAD,EAAU,WAAV,CAApB,EAA4CxB,WAA5C;AACA7vB,QAAKurB,KAAK0C,aAAV,EAAyB,WAAzB,EAAsCmC,QAAQoB,UAAR,CAAtC;;AAEA,OAAIjG,KAAKD,MAAL,CAAY5P,OAAhB,EAAyB;AACxB1b,SAAKurB,KAAK0C,aAAV,EAAyB,CAAC,oBAAD,EAAuB,cAAvB,CAAzB,EAAiEwD,WAAjE;AACAzxB,SAAKurB,KAAK8F,QAAV,EAAoB,CAAC,oBAAD,EAAuB,cAAvB,CAApB,EAA4DK,aAA5D;AACA;AACD;;AAED,MAAInG,KAAKD,MAAL,CAAYqC,UAAhB,EAA4B;AAC3B,OAAIgE,UAAU,SAASA,OAAT,CAAiBjtB,CAAjB,EAAoB;AACjC,WAAOA,EAAEI,MAAF,CAASqI,MAAT,EAAP;AACA,IAFD;AAGAnN,QAAKurB,KAAKqG,aAAV,EAAyB,CAAC,OAAD,EAAU,OAAV,EAAmB,WAAnB,CAAzB,EAA0DrD,UAA1D;AACAvuB,QAAKurB,KAAKqG,aAAV,EAAyB,WAAzB,EAAsCxB,QAAQyB,aAAR,CAAtC;;AAEA7xB,QAAKurB,KAAKqG,aAAV,EAAyB,CAAC,OAAD,EAAU,WAAV,CAAzB,EAAiDrG,KAAKsF,eAAtD;AACA7wB,QAAKurB,KAAKqG,aAAV,EAAyB,OAAzB,EAAkCrG,KAAKqF,aAAvC;;AAEA5wB,QAAK,CAACurB,KAAKX,WAAN,EAAmBW,KAAKV,aAAxB,CAAL,EAA6C,OAA7C,EAAsD8G,OAAtD;;AAEA,OAAIpG,KAAK0D,aAAL,KAAuB37B,SAA3B,EAAsC0M,KAAKurB,KAAK0D,aAAV,EAAyB,OAAzB,EAAkC,YAAY;AACnF,WAAO1D,KAAK0D,aAAL,CAAmB9hB,MAAnB,EAAP;AACA,IAFqC;;AAItC,OAAIoe,KAAKsD,IAAL,KAAcv7B,SAAlB,EAA6B;AAC5B0M,SAAKurB,KAAKsD,IAAV,EAAgB,WAAhB,EAA6BuB,QAAQ,UAAU1rB,CAAV,EAAa;AACjD6pB,gBAAW7pB,CAAX;AACA6mB,UAAKqF,aAAL,CAAmBlsB,CAAnB;AACA,KAH4B,CAA7B;AAIA;AACD;AACD;;AAED,UAASotB,uBAAT,GAAmC;AAClC,OAAK,IAAI7wB,IAAIsqB,KAAK+E,cAAL,CAAoBz0B,MAAjC,EAAyCoF,GAAzC,GAA+C;AAC9CsqB,QAAK+E,cAAL,CAAoBrvB,CAApB;AACAsqB,QAAK+E,cAAL,CAAoBttB,MAApB,CAA2B/B,CAA3B,EAA8B,CAA9B;AACA;AACD;;AAED;;;;AAIA,UAASwwB,WAAT,CAAqB/sB,CAArB,EAAwB;AACvB,MAAI6mB,KAAK0C,aAAL,CAAmBpF,UAAnB,CAA8BhtB,MAA9B,GAAuC,CAA3C,EAA8C;AAC7C,WAAQ6I,EAAEqtB,aAAV;AACC,SAAK,aAAL;AACCxG,UAAK0C,aAAL,CAAmB+D,SAAnB,CAA6B5a,SAA7B,CAAuCxN,MAAvC,CAA8C,cAA9C;AACA2hB,UAAK0C,aAAL,CAAmBzlB,WAAnB,CAA+B+iB,KAAK0C,aAAL,CAAmB30B,UAAlD;AACAiyB,UAAK0G,IAAL,GAAY1G,KAAK0C,aAAL,CAAmB30B,UAA/B;AACAw4B;;AAEA;;AAED,SAAK,cAAL;AACCvG,UAAK0C,aAAL,CAAmB30B,UAAnB,CAA8B8d,SAA9B,CAAwCxN,MAAxC,CAA+C,eAA/C;AACA2hB,UAAK0C,aAAL,CAAmBzlB,WAAnB,CAA+B+iB,KAAK0C,aAAL,CAAmB+D,SAAlD;AACAzG,UAAK0G,IAAL,GAAY1G,KAAK0C,aAAL,CAAmB30B,UAA/B;AACAw4B;;AAEA;;AAED;AACC;AAlBF;AAoBA;AACD;;AAED;;;;AAIA,UAASJ,aAAT,CAAuBhtB,CAAvB,EAA0B;AACzB,UAAQA,EAAEqtB,aAAV;AACC,QAAK,gBAAL;AACA,QAAK,iBAAL;AACCxG,SAAK2G,sBAAL,CAA4B9a,SAA5B,CAAsCxN,MAAtC,CAA6C,cAA7C;AACA2hB,SAAK2G,sBAAL,CAA4B9a,SAA5B,CAAsCxN,MAAtC,CAA6C,eAA7C;AACA,QAAIuoB,MAAM5G,KAAK2G,sBAAf;;AAEA,WAAOC,IAAI54B,WAAJ,IAAmB,OAAOpF,IAAP,CAAYg+B,IAAI54B,WAAJ,CAAgBkd,SAA5B,CAA1B,EAAkE;AACjE8U,UAAK8F,QAAL,CAAc7oB,WAAd,CAA0B2pB,IAAI54B,WAA9B;AACA,YAAO44B,IAAIC,eAAJ,IAAuB,OAAOj+B,IAAP,CAAYg+B,IAAIC,eAAJ,CAAoB3b,SAAhC,CAA9B,EAA0E;AAC1E8U,UAAK8F,QAAL,CAAc7oB,WAAd,CAA0B2pB,IAAIC,eAA9B;AACA,UAAKC,WAAL,GAAmB,IAAnB;AACD;AAZF;AAcA;;AAED;;;;AAIA,UAASjG,UAAT,CAAoBkG,QAApB,EAA8B;AAC7BA,aAAWA,WAAW/G,KAAKkB,SAAL,CAAe6F,QAAf,CAAX,GAAsC/G,KAAKqC,qBAAL,KAA+BrC,KAAKD,MAAL,CAAYuC,OAAZ,GAAsBtC,KAAK1J,GAA3B,GAAiC0J,KAAKD,MAAL,CAAYuC,OAA7C,GAAuDtC,KAAKD,MAAL,CAAYgE,OAAZ,IAAuB/D,KAAKD,MAAL,CAAYgE,OAAZ,GAAsB/D,KAAK1J,GAAlD,GAAwD0J,KAAKD,MAAL,CAAYgE,OAApE,GAA8E/D,KAAK1J,GAAzK,CAAjD;;AAEA,MAAI;AACH0J,QAAKgH,WAAL,GAAmBD,SAASE,WAAT,EAAnB;AACAjH,QAAKkH,YAAL,GAAoBH,SAASI,QAAT,EAApB;AACA,GAHD,CAGE,OAAOhuB,CAAP,EAAU;AACX;AACAlE,WAAQC,KAAR,CAAciE,EAAEiuB,KAAhB;AACA;AACAnyB,WAAQoyB,IAAR,CAAa,4BAA4BN,QAAzC;AACA;;AAED/G,OAAKe,MAAL;AACA;;AAED;;;;AAIA,UAASuF,aAAT,CAAuBntB,CAAvB,EAA0B;AACzB,MAAI,CAACA,EAAEI,MAAF,CAAS2R,SAAT,CAAmB1a,OAAnB,CAA2B,OAA3B,CAAL,EAA0C82B,kBAAkBnuB,CAAlB,EAAqBA,EAAEI,MAAF,CAASsS,SAAT,CAAmBzT,QAAnB,CAA4B,SAA5B,IAAyC,CAAzC,GAA6C,CAAC,CAAnE;AAC1C;;AAED;;;;;;;;;AASA,UAASkvB,iBAAT,CAA2BnuB,CAA3B,EAA8BqrB,KAA9B,EAAqC+C,SAArC,EAAgD;AAC/C,MAAI5J,QAAQ4J,aAAapuB,EAAEI,MAAF,CAAShM,UAAT,CAAoB+vB,UAApB,CAA+B,CAA/B,CAAzB;AACA,MAAIjmB,QAAQmwB,YAAY,WAAZ,CAAZ;AACAnwB,QAAMmtB,KAAN,GAAcA,KAAd;AACA7G,QAAM8J,aAAN,CAAoBpwB,KAApB;AACA;;AAED,UAASqwB,iBAAT,CAA2BC,cAA3B,EAA2C;AAC1C,MAAIC,UAAU38B,cAAc,KAAd,EAAqB,iBAArB,CAAd;AAAA,MACI48B,WAAW58B,cAAc,OAAd,EAAuB,cAAc08B,cAArC,CADf;AAAA,MAEIG,UAAU78B,cAAc,MAAd,EAAsB,SAAtB,CAFd;AAAA,MAGI88B,YAAY98B,cAAc,MAAd,EAAsB,WAAtB,CAHhB;;AAKA48B,WAASrnB,IAAT,GAAgB,MAAhB;AACAqnB,WAASG,OAAT,GAAmB,MAAnB;;AAEAJ,UAAQ/7B,WAAR,CAAoBg8B,QAApB;AACAD,UAAQ/7B,WAAR,CAAoBi8B,OAApB;AACAF,UAAQ/7B,WAAR,CAAoBk8B,SAApB;;AAEA,SAAOH,OAAP;AACA;;AAED,UAAS3F,KAAT,GAAiB;AAChB,MAAIgG,WAAWngC,OAAOU,QAAP,CAAgBgC,sBAAhB,EAAf;AACAw1B,OAAKyC,iBAAL,GAAyBx3B,cAAc,KAAd,EAAqB,oBAArB,CAAzB;AACA+0B,OAAKyC,iBAAL,CAAuByF,QAAvB,GAAkC,CAAC,CAAnC;;AAEA,MAAI,CAAClI,KAAKD,MAAL,CAAYoC,UAAjB,EAA6B;AAC5B8F,YAASp8B,WAAT,CAAqBs8B,eAArB;AACAnI,QAAKoI,cAAL,GAAsBn9B,cAAc,KAAd,EAAqB,0BAArB,CAAtB;;AAEA,OAAI+0B,KAAKD,MAAL,CAAYiC,WAAhB,EAA6BhC,KAAKoI,cAAL,CAAoBv8B,WAApB,CAAgCw8B,YAAhC;;AAE7BrI,QAAKsI,UAAL,GAAkBr9B,cAAc,KAAd,EAAqB,sBAArB,CAAlB;AACA+0B,QAAKsI,UAAL,CAAgBz8B,WAAhB,CAA4B08B,eAA5B;;AAEA,OAAI,CAACvI,KAAK0C,aAAV,EAAyB;AACxB1C,SAAK0C,aAAL,GAAqBz3B,cAAc,KAAd,EAAqB,gBAArB,CAArB;AACA+0B,SAAK0C,aAAL,CAAmBwF,QAAnB,GAA8B,CAAC,CAA/B;AACA;;AAEDM;AACAxI,QAAKsI,UAAL,CAAgBz8B,WAAhB,CAA4Bm0B,KAAK0C,aAAjC;;AAEA1C,QAAKoI,cAAL,CAAoBv8B,WAApB,CAAgCm0B,KAAKsI,UAArC;AACAL,YAASp8B,WAAT,CAAqBm0B,KAAKoI,cAA1B;AACA;;AAED,MAAIpI,KAAKD,MAAL,CAAYqC,UAAhB,EAA4B6F,SAASp8B,WAAT,CAAqB48B,WAArB;;AAE5BC,cAAY1I,KAAKyC,iBAAjB,EAAoC,WAApC,EAAiDzC,KAAKD,MAAL,CAAYlX,IAAZ,KAAqB,OAAtE;AACA6f,cAAY1I,KAAKyC,iBAAjB,EAAoC,SAApC,EAA+CzC,KAAKD,MAAL,CAAY5P,OAA3D;;AAEA6P,OAAKyC,iBAAL,CAAuB52B,WAAvB,CAAmCo8B,QAAnC;;AAEA,MAAIU,eAAe3I,KAAKD,MAAL,CAAY6I,QAAZ,IAAwB5I,KAAKD,MAAL,CAAY6I,QAAZ,CAAqBnoB,QAAhE;;AAEA,MAAIuf,KAAKD,MAAL,CAAY8B,MAAZ,IAAsB7B,KAAKD,MAAL,CAAY0F,MAAtC,EAA8C;AAC7CzF,QAAKyC,iBAAL,CAAuB5W,SAAvB,CAAiChd,GAAjC,CAAqCmxB,KAAKD,MAAL,CAAY8B,MAAZ,GAAqB,QAArB,GAAgC,QAArE;;AAEA,OAAI7B,KAAKD,MAAL,CAAY8B,MAAZ,IAAsB,CAAC8G,YAA3B,EAAyC;AACxC,WAAO3I,KAAK/U,OAAL,CAAa1d,UAAb,CAAwBD,YAAxB,CAAqC0yB,KAAKyC,iBAA1C,EAA6DzC,KAAK0F,MAAL,CAAY13B,WAAzE,CAAP;AACA;;AAED,OAAIgyB,KAAKD,MAAL,CAAY0F,MAAhB,EAAwB;AACvB,QAAImC,UAAU38B,cAAc,KAAd,EAAqB,mBAArB,CAAd;AACA+0B,SAAK/U,OAAL,CAAa1d,UAAb,CAAwBD,YAAxB,CAAqCs6B,OAArC,EAA8C5H,KAAK/U,OAAnD;AACA2c,YAAQ/7B,WAAR,CAAoBm0B,KAAK/U,OAAzB;;AAEA,QAAI+U,KAAK6I,QAAT,EAAmBjB,QAAQ/7B,WAAR,CAAoBm0B,KAAK6I,QAAzB;;AAEnBjB,YAAQ/7B,WAAR,CAAoBm0B,KAAKyC,iBAAzB;AACA;AACA;AACD;;AAED,GAACkG,eAAe3I,KAAKD,MAAL,CAAY6I,QAA3B,GAAsC9gC,OAAOU,QAAP,CAAgB6f,IAAvD,EAA6Dxc,WAA7D,CAAyEm0B,KAAKyC,iBAA9E;AACA;;AAED,UAASqG,SAAT,CAAmB5d,SAAnB,EAA8BgZ,IAA9B,EAAoC6E,SAApC,EAA+CrzB,CAA/C,EAAkD;AACjD,MAAIszB,gBAAgBpI,UAAUsD,IAAV,EAAgB,IAAhB,CAApB;AAAA,MACI+E,aAAah+B,cAAc,MAAd,EAAsB,mBAAmBigB,SAAzC,EAAoDgZ,KAAKgF,OAAL,EAApD,CADjB;;AAGAD,aAAWhF,OAAX,GAAqBC,IAArB;AACA+E,aAAWE,EAAX,GAAgBzzB,CAAhB;AACAuzB,aAAWh8B,YAAX,CAAwB,YAAxB,EAAsC+yB,KAAKmB,UAAL,CAAgB+C,IAAhB,EAAsBlE,KAAKD,MAAL,CAAYqJ,cAAlC,CAAtC;;AAEA,MAAIhJ,aAAa8D,IAAb,EAAmBlE,KAAK1J,GAAxB,MAAiC,CAArC,EAAwC;AACvC0J,QAAKqJ,aAAL,GAAqBJ,UAArB;AACAA,cAAWpd,SAAX,CAAqBhd,GAArB,CAAyB,OAAzB;AACA;;AAED,MAAIm6B,aAAJ,EAAmB;AAClBC,cAAWf,QAAX,GAAsB,CAAC,CAAvB;AACA,OAAIoB,eAAepF,IAAf,CAAJ,EAA0B;AACzB+E,eAAWpd,SAAX,CAAqBhd,GAArB,CAAyB,UAAzB;AACAmxB,SAAKuJ,gBAAL,GAAwBN,UAAxB;AACA,QAAIjJ,KAAKD,MAAL,CAAYlX,IAAZ,KAAqB,OAAzB,EAAkC;AACjC6f,iBAAYO,UAAZ,EAAwB,YAAxB,EAAsC7I,aAAa8D,IAAb,EAAmBlE,KAAKb,aAAL,CAAmB,CAAnB,CAAnB,MAA8C,CAApF;;AAEAuJ,iBAAYO,UAAZ,EAAwB,UAAxB,EAAoC7I,aAAa8D,IAAb,EAAmBlE,KAAKb,aAAL,CAAmB,CAAnB,CAAnB,MAA8C,CAAlF;AACA;AACD;AACD,GAXD,MAWO;AACN8J,cAAWpd,SAAX,CAAqBhd,GAArB,CAAyB,UAAzB;AACA,OAAImxB,KAAKb,aAAL,CAAmB,CAAnB,KAAyB+E,OAAOlE,KAAKwJ,YAArC,IAAqDtF,OAAOlE,KAAKb,aAAL,CAAmB,CAAnB,CAAhE,EAAuFa,KAAKwJ,YAAL,GAAoBtF,IAApB,CAAvF,KAAqH,IAAIlE,KAAKb,aAAL,CAAmB,CAAnB,KAAyB+E,OAAOlE,KAAKyJ,YAArC,IAAqDvF,OAAOlE,KAAKb,aAAL,CAAmB,CAAnB,CAAhE,EAAuFa,KAAKyJ,YAAL,GAAoBvF,IAApB;AAC5M;;AAED,MAAIlE,KAAKD,MAAL,CAAYlX,IAAZ,KAAqB,OAAzB,EAAkC;AACjC,OAAI6gB,cAAcxF,IAAd,KAAuB,CAACoF,eAAepF,IAAf,CAA5B,EAAkD+E,WAAWpd,SAAX,CAAqBhd,GAArB,CAAyB,SAAzB;;AAElD,OAAImxB,KAAKb,aAAL,CAAmB7uB,MAAnB,KAA8B,CAA9B,KAAoC4zB,OAAOlE,KAAKwJ,YAAZ,IAA4BtF,OAAOlE,KAAKyJ,YAA5E,CAAJ,EAA+FR,WAAWpd,SAAX,CAAqBhd,GAArB,CAAyB,YAAzB;AAC/F;;AAED,MAAImxB,KAAKD,MAAL,CAAYiC,WAAZ,IAA2B9W,cAAc,cAAzC,IAA2D6d,YAAY,CAAZ,KAAkB,CAAjF,EAAoF;AACnF/I,QAAKgC,WAAL,CAAiB2H,kBAAjB,CAAoC,WAApC,EAAiD,0CAA0C3J,KAAKD,MAAL,CAAY6J,OAAZ,CAAoB1F,IAApB,CAA1C,GAAsE,SAAvH;AACA;;AAEDpB,eAAa,WAAb,EAA0BmG,UAA1B;;AAEA,SAAOA,UAAP;AACA;;AAED,UAASY,UAAT,CAAoBC,YAApB,EAAkChgB,MAAlC,EAA0C;AACzC,MAAIigB,WAAWD,eAAehgB,MAAf,IAAyB,CAAxC;AAAA,MACIkgB,aAAaF,iBAAiB/hC,SAAjB,GAA6Bi4B,KAAK0G,IAAL,CAAUpJ,UAAV,CAAqByM,QAArB,CAA7B,GAA8D/J,KAAKuJ,gBAAL,IAAyBvJ,KAAKqJ,aAA9B,IAA+CrJ,KAAK0G,IAAL,CAAUpJ,UAAV,CAAqB,CAArB,CAD9H;AAAA,MAEI2M,QAAQ,SAASA,KAAT,GAAiB;AAC5BD,gBAAaA,cAAchK,KAAK0G,IAAL,CAAUpJ,UAAV,CAAqByM,QAArB,CAA3B;AACAC,cAAWC,KAAX;;AAEA,OAAIjK,KAAKD,MAAL,CAAYlX,IAAZ,KAAqB,OAAzB,EAAkC0c,YAAYyE,UAAZ;AAClC,GAPD;;AASA,MAAIA,eAAejiC,SAAf,IAA4B+hB,WAAW,CAA3C,EAA8C;AAC7C,OAAIA,SAAS,CAAb,EAAgB;AACfkW,SAAKO,WAAL,CAAiB,CAAjB;AACAwJ,eAAWA,WAAW,EAAtB;AACA,IAHD,MAGO,IAAIjgB,SAAS,CAAb,EAAgB;AACtBkW,SAAKO,WAAL,CAAiB,CAAC,CAAlB;AACAwJ,gBAAY,EAAZ;AACA;;AAED,UAAO9J,aAAagK,KAAb,CAAP;AACA;;AAEDA;AACA;;AAED,UAAShK,YAAT,CAAsBxyB,EAAtB,EAA0B;AACzB,MAAIuyB,KAAKD,MAAL,CAAY5P,OAAZ,KAAwB,IAA5B,EAAkC,OAAO6P,KAAK+E,cAAL,CAAoBh2B,IAApB,CAAyBtB,EAAzB,CAAP;AAClCA;AACA;;AAED,UAAS+6B,SAAT,CAAmBhE,KAAnB,EAA0B;AACzB,MAAI0F,eAAe,CAAC,IAAIC,IAAJ,CAASnK,KAAKgH,WAAd,EAA2BhH,KAAKkH,YAAhC,EAA8C,CAA9C,EAAiDkD,MAAjD,KAA4DpK,KAAKqK,IAAL,CAAUC,cAAtE,GAAuF,CAAxF,IAA6F,CAAhH;AAAA,MACIC,cAAcvK,KAAKD,MAAL,CAAYlX,IAAZ,KAAqB,OADvC;;AAGAmX,OAAKwK,aAAL,GAAqBxK,KAAKyK,KAAL,CAAWC,cAAX,CAA0B,CAAC1K,KAAKkH,YAAL,GAAoB,CAApB,GAAwB,EAAzB,IAA+B,EAAzD,CAArB;AACAlH,OAAKuJ,gBAAL,GAAwBxhC,SAAxB;AACAi4B,OAAKqJ,aAAL,GAAqBthC,SAArB;;AAEA,MAAI4iC,cAAc3K,KAAKyK,KAAL,CAAWC,cAAX,EAAlB;AAAA,MACIhE,OAAO5+B,OAAOU,QAAP,CAAgBgC,sBAAhB,EADX;;AAGA,MAAIu+B,YAAY/I,KAAKwK,aAAL,GAAqB,CAArB,GAAyBN,YAAzC;AAAA,MACIU,WAAW,CADf;;AAGA,MAAI5K,KAAKD,MAAL,CAAYiC,WAAZ,IAA2BhC,KAAKgC,WAAL,CAAiBj0B,UAAhD,EAA4DiyB,KAAKgC,WAAL,CAAiB2B,WAAjB,GAA+B,EAA/B;;AAE5D,MAAI4G,WAAJ,EAAiB;AAChB;AACAvK,QAAKwJ,YAAL,GAAoB,IAAIW,IAAJ,CAASnK,KAAKgH,WAAd,EAA2BhH,KAAKkH,YAAL,GAAoB,CAA/C,EAAkD6B,SAAlD,CAApB;AACA/I,QAAKyJ,YAAL,GAAoB,IAAIU,IAAJ,CAASnK,KAAKgH,WAAd,EAA2BhH,KAAKkH,YAAL,GAAoB,CAA/C,EAAkD,CAAC,KAAKgD,YAAN,IAAsBS,WAAxE,CAApB;AACA;;AAED;AACA,SAAO5B,aAAa/I,KAAKwK,aAAzB,EAAwCzB,aAAa6B,UAArD,EAAiE;AAChElE,QAAK76B,WAAL,CAAiBi9B,UAAU,cAAV,EAA0B,IAAIqB,IAAJ,CAASnK,KAAKgH,WAAd,EAA2BhH,KAAKkH,YAAL,GAAoB,CAA/C,EAAkD6B,SAAlD,CAA1B,EAAwFA,SAAxF,EAAmG6B,QAAnG,CAAjB;AACA;;AAED;AACA,OAAK7B,YAAY,CAAjB,EAAoBA,aAAa4B,WAAjC,EAA8C5B,aAAa6B,UAA3D,EAAuE;AACtElE,QAAK76B,WAAL,CAAiBi9B,UAAU,EAAV,EAAc,IAAIqB,IAAJ,CAASnK,KAAKgH,WAAd,EAA2BhH,KAAKkH,YAAhC,EAA8C6B,SAA9C,CAAd,EAAwEA,SAAxE,EAAmF6B,QAAnF,CAAjB;AACA;;AAED;AACA,OAAK,IAAIC,SAASF,cAAc,CAAhC,EAAmCE,UAAU,KAAKX,YAAlD,EAAgEW,UAAUD,UAA1E,EAAsF;AACrFlE,QAAK76B,WAAL,CAAiBi9B,UAAU,cAAV,EAA0B,IAAIqB,IAAJ,CAASnK,KAAKgH,WAAd,EAA2BhH,KAAKkH,YAAL,GAAoB,CAA/C,EAAkD2D,SAASF,WAA3D,CAA1B,EAAmGE,MAAnG,EAA2GD,QAA3G,CAAjB;AACA;;AAED,MAAIL,eAAevK,KAAKb,aAAL,CAAmB7uB,MAAnB,KAA8B,CAA7C,IAAkDo2B,KAAKpJ,UAAL,CAAgB,CAAhB,CAAtD,EAA0E;AACzE0C,QAAK8K,mBAAL,GAA2B9K,KAAK8K,mBAAL,IAA4B9K,KAAKwJ,YAAL,GAAoB9C,KAAKpJ,UAAL,CAAgB,CAAhB,EAAmB2G,OAA9F;;AAEAjE,QAAK+K,mBAAL,GAA2B/K,KAAK+K,mBAAL,IAA4B/K,KAAKyJ,YAAL,GAAoB,IAAIU,IAAJ,CAASnK,KAAKgH,WAAd,EAA2BhH,KAAKkH,YAAL,GAAoB,CAA/C,EAAkD,CAAlD,CAA3E;AACA,GAJD,MAIO8D;;AAEP,MAAIC,eAAehgC,cAAc,KAAd,EAAqB,cAArB,CAAnB;AACAggC,eAAap/B,WAAb,CAAyB66B,IAAzB;;AAEA,MAAI,CAAC1G,KAAKD,MAAL,CAAY5P,OAAb,IAAwBqU,UAAUz8B,SAAtC,EAAiDmjC,UAAUlL,KAAK0C,aAAf,EAAjD,KAAoF;AACnF,UAAO1C,KAAK0C,aAAL,CAAmBpF,UAAnB,CAA8BhtB,MAA9B,GAAuC,CAA9C,EAAiD;AAChD0vB,SAAK0C,aAAL,CAAmBzlB,WAAnB,CAA+B+iB,KAAK0C,aAAL,CAAmB30B,UAAlD;AACA;AACD;;AAED,MAAIy2B,SAAS,CAAb,EAAgBxE,KAAK0C,aAAL,CAAmB72B,WAAnB,CAA+Bo/B,YAA/B,EAAhB,KAAkEjL,KAAK0C,aAAL,CAAmBp1B,YAAnB,CAAgC29B,YAAhC,EAA8CjL,KAAK0C,aAAL,CAAmB30B,UAAjE;;AAElEiyB,OAAK0G,IAAL,GAAY1G,KAAK0C,aAAL,CAAmB30B,UAA/B;AACA,SAAOiyB,KAAK0C,aAAZ;AACA;;AAED,UAASwI,SAAT,CAAmBz/B,IAAnB,EAAyB;AACxB,SAAOA,KAAKsC,UAAZ,EAAwB;AACvBtC,QAAKwR,WAAL,CAAiBxR,KAAKsC,UAAtB;AACA;AACD;;AAED,UAASo6B,aAAT,GAAyB;AACxB,MAAIgD,mBAAmBrjC,OAAOU,QAAP,CAAgBgC,sBAAhB,EAAvB;AACAw1B,OAAK8F,QAAL,GAAgB76B,cAAc,KAAd,EAAqB,iBAArB,CAAhB;;AAEA+0B,OAAKoL,YAAL,GAAoBngC,cAAc,MAAd,EAAsB,sBAAtB,CAApB;AACA+0B,OAAKoL,YAAL,CAAkB//B,SAAlB,GAA8B20B,KAAKD,MAAL,CAAYsL,SAA1C;;AAEArL,OAAKsL,mBAAL,GAA2BrgC,cAAc,MAAd,EAAsB,WAAtB,CAA3B;AACA+0B,OAAKsL,mBAAL,CAAyBC,KAAzB,GAAiCvL,KAAKqK,IAAL,CAAUmB,WAA3C;;AAEA,MAAIC,YAAY/D,kBAAkB,UAAlB,CAAhB;AACA1H,OAAKyE,kBAAL,GAA0BgH,UAAUnO,UAAV,CAAqB,CAArB,CAA1B;AACA0C,OAAKyE,kBAAL,CAAwB8G,KAAxB,GAAgCvL,KAAKqK,IAAL,CAAUmB,WAA1C;;AAEA,MAAIxL,KAAKD,MAAL,CAAYuC,OAAhB,EAAyBtC,KAAKyE,kBAAL,CAAwB/b,GAAxB,GAA8BsX,KAAKD,MAAL,CAAYuC,OAAZ,CAAoB2E,WAApB,EAA9B;;AAEzB,MAAIjH,KAAKD,MAAL,CAAYgE,OAAhB,EAAyB;AACxB/D,QAAKyE,kBAAL,CAAwB9b,GAAxB,GAA8BqX,KAAKD,MAAL,CAAYgE,OAAZ,CAAoBkD,WAApB,EAA9B;;AAEAjH,QAAKyE,kBAAL,CAAwBiH,QAAxB,GAAmC1L,KAAKD,MAAL,CAAYuC,OAAZ,IAAuBtC,KAAKD,MAAL,CAAYuC,OAAZ,CAAoB2E,WAApB,OAAsCjH,KAAKD,MAAL,CAAYgE,OAAZ,CAAoBkD,WAApB,EAAhG;AACA;;AAEDjH,OAAK2L,YAAL,GAAoB1gC,cAAc,MAAd,EAAsB,sBAAtB,CAApB;AACA+0B,OAAK2L,YAAL,CAAkBtgC,SAAlB,GAA8B20B,KAAKD,MAAL,CAAY6L,SAA1C;;AAEA5L,OAAK2G,sBAAL,GAA8B17B,cAAc,MAAd,EAAsB,yBAAtB,CAA9B;AACA+0B,OAAK2G,sBAAL,CAA4B96B,WAA5B,CAAwCm0B,KAAKsL,mBAA7C;AACAtL,OAAK2G,sBAAL,CAA4B96B,WAA5B,CAAwC4/B,SAAxC;;AAEAN,mBAAiBt/B,WAAjB,CAA6Bm0B,KAAKoL,YAAlC;AACAD,mBAAiBt/B,WAAjB,CAA6Bm0B,KAAK2G,sBAAlC;AACAwE,mBAAiBt/B,WAAjB,CAA6Bm0B,KAAK2L,YAAlC;AACA3L,OAAK8F,QAAL,CAAcj6B,WAAd,CAA0Bs/B,gBAA1B;;AAEA3hC,SAAOyK,cAAP,CAAsB+rB,IAAtB,EAA4B,qBAA5B,EAAmD;AAClD7rB,QAAK,SAASA,GAAT,GAAe;AACnB,WAAO,KAAK03B,oBAAZ;AACA,IAHiD;AAIlD33B,QAAK,SAASA,GAAT,CAAaoI,IAAb,EAAmB;AACvB,QAAI,KAAKuvB,oBAAL,KAA8BvvB,IAAlC,EAAwC0jB,KAAKoL,YAAL,CAAkBn/B,KAAlB,CAAwBC,OAAxB,GAAkCoQ,OAAO,MAAP,GAAgB,OAAlD;AACxC,SAAKuvB,oBAAL,GAA4BvvB,IAA5B;AACA;AAPiD,GAAnD;;AAUA9S,SAAOyK,cAAP,CAAsB+rB,IAAtB,EAA4B,qBAA5B,EAAmD;AAClD7rB,QAAK,SAASA,GAAT,GAAe;AACnB,WAAO,KAAK23B,oBAAZ;AACA,IAHiD;AAIlD53B,QAAK,SAASA,GAAT,CAAaoI,IAAb,EAAmB;AACvB,QAAI,KAAKwvB,oBAAL,KAA8BxvB,IAAlC,EAAwC0jB,KAAK2L,YAAL,CAAkB1/B,KAAlB,CAAwBC,OAAxB,GAAkCoQ,OAAO,MAAP,GAAgB,OAAlD;AACxC,SAAKwvB,oBAAL,GAA4BxvB,IAA5B;AACA;AAPiD,GAAnD;;AAUA0uB;;AAEA,SAAOhL,KAAK8F,QAAZ;AACA;;AAED,UAAS2C,SAAT,GAAqB;AACpBzI,OAAKyC,iBAAL,CAAuB5W,SAAvB,CAAiChd,GAAjC,CAAqC,SAArC;AACA,MAAImxB,KAAKD,MAAL,CAAYoC,UAAhB,EAA4BnC,KAAKyC,iBAAL,CAAuB5W,SAAvB,CAAiChd,GAAjC,CAAqC,YAArC;AAC5BmxB,OAAKqG,aAAL,GAAqBp7B,cAAc,KAAd,EAAqB,gBAArB,CAArB;AACA+0B,OAAKqG,aAAL,CAAmB6B,QAAnB,GAA8B,CAAC,CAA/B;AACA,MAAI6D,YAAY9gC,cAAc,MAAd,EAAsB,0BAAtB,EAAkD,GAAlD,CAAhB;;AAEA,MAAI+gC,YAAYtE,kBAAkB,gBAAlB,CAAhB;AACA1H,OAAKX,WAAL,GAAmB2M,UAAU1O,UAAV,CAAqB,CAArB,CAAnB;;AAEA,MAAI2O,cAAcvE,kBAAkB,kBAAlB,CAAlB;AACA1H,OAAKV,aAAL,GAAqB2M,YAAY3O,UAAZ,CAAuB,CAAvB,CAArB;;AAEA0C,OAAKX,WAAL,CAAiB6I,QAAjB,GAA4BlI,KAAKV,aAAL,CAAmB4I,QAAnB,GAA8B,CAAC,CAA3D;;AAEAlI,OAAKX,WAAL,CAAiB12B,KAAjB,GAAyBq3B,KAAKoE,GAAL,CAASpE,KAAKqC,qBAAL,GAA6BrC,KAAKqC,qBAAL,CAA2BuB,QAA3B,EAA7B,GAAqE5D,KAAKD,MAAL,CAAYmM,WAA1F,CAAzB;;AAEAlM,OAAKV,aAAL,CAAmB32B,KAAnB,GAA2Bq3B,KAAKoE,GAAL,CAASpE,KAAKqC,qBAAL,GAA6BrC,KAAKqC,qBAAL,CAA2BwB,UAA3B,EAA7B,GAAuE7D,KAAKD,MAAL,CAAYoM,aAA5F,CAA3B;;AAEAnM,OAAKX,WAAL,CAAiB1Q,IAAjB,GAAwBqR,KAAKD,MAAL,CAAYqM,aAApC;AACApM,OAAKV,aAAL,CAAmB3Q,IAAnB,GAA0BqR,KAAKD,MAAL,CAAYsM,eAAtC;;AAEArM,OAAKX,WAAL,CAAiB3W,GAAjB,GAAuBsX,KAAKD,MAAL,CAAYsE,SAAZ,GAAwB,CAAxB,GAA4B,CAAnD;AACArE,OAAKX,WAAL,CAAiB1W,GAAjB,GAAuBqX,KAAKD,MAAL,CAAYsE,SAAZ,GAAwB,EAAxB,GAA6B,EAApD;;AAEArE,OAAKV,aAAL,CAAmB5W,GAAnB,GAAyB,CAAzB;AACAsX,OAAKV,aAAL,CAAmB3W,GAAnB,GAAyB,EAAzB;;AAEAqX,OAAKX,WAAL,CAAiBkM,KAAjB,GAAyBvL,KAAKV,aAAL,CAAmBiM,KAAnB,GAA2BvL,KAAKqK,IAAL,CAAUmB,WAA9D;;AAEAxL,OAAKqG,aAAL,CAAmBx6B,WAAnB,CAA+BmgC,SAA/B;AACAhM,OAAKqG,aAAL,CAAmBx6B,WAAnB,CAA+BkgC,SAA/B;AACA/L,OAAKqG,aAAL,CAAmBx6B,WAAnB,CAA+BogC,WAA/B;;AAEA,MAAIjM,KAAKD,MAAL,CAAYsE,SAAhB,EAA2BrE,KAAKqG,aAAL,CAAmBxa,SAAnB,CAA6Bhd,GAA7B,CAAiC,UAAjC;;AAE3B,MAAImxB,KAAKD,MAAL,CAAY0D,aAAhB,EAA+B;AAC9BzD,QAAKqG,aAAL,CAAmBxa,SAAnB,CAA6Bhd,GAA7B,CAAiC,YAAjC;;AAEA,OAAIy9B,cAAc5E,kBAAkB,kBAAlB,CAAlB;AACA1H,QAAK0D,aAAL,GAAqB4I,YAAYhP,UAAZ,CAAuB,CAAvB,CAArB;;AAEA0C,QAAK0D,aAAL,CAAmB/6B,KAAnB,GAA2Bq3B,KAAKqC,qBAAL,GAA6BrC,KAAKoE,GAAL,CAASpE,KAAKqC,qBAAL,CAA2B8B,UAA3B,EAAT,CAA7B,GAAiF,IAA5G;;AAEAnE,QAAK0D,aAAL,CAAmB/U,IAAnB,GAA0BqR,KAAKV,aAAL,CAAmB3Q,IAA7C;AACAqR,QAAK0D,aAAL,CAAmBhb,GAAnB,GAAyBsX,KAAKV,aAAL,CAAmB5W,GAA5C;AACAsX,QAAK0D,aAAL,CAAmB/a,GAAnB,GAAyBqX,KAAKV,aAAL,CAAmB3W,GAA5C;;AAEAqX,QAAKqG,aAAL,CAAmBx6B,WAAnB,CAA+BZ,cAAc,MAAd,EAAsB,0BAAtB,EAAkD,GAAlD,CAA/B;AACA+0B,QAAKqG,aAAL,CAAmBx6B,WAAnB,CAA+BygC,WAA/B;AACA;;AAED,MAAI,CAACtM,KAAKD,MAAL,CAAYsE,SAAjB,EAA4B;AAC3B;AACArE,QAAKsD,IAAL,GAAYr4B,cAAc,MAAd,EAAsB,iBAAtB,EAAyC,CAAC,IAAD,EAAO,IAAP,EAAa+0B,KAAKX,WAAL,CAAiB12B,KAAjB,GAAyB,EAAzB,GAA8B,CAA3C,CAAzC,CAAZ;AACAq3B,QAAKsD,IAAL,CAAUiI,KAAV,GAAkBvL,KAAKqK,IAAL,CAAUkC,WAA5B;AACAvM,QAAKsD,IAAL,CAAU4E,QAAV,GAAqB,CAAC,CAAtB;AACAlI,QAAKqG,aAAL,CAAmBx6B,WAAnB,CAA+Bm0B,KAAKsD,IAApC;AACA;;AAED,SAAOtD,KAAKqG,aAAZ;AACA;;AAED,UAASkC,aAAT,GAAyB;AACxB,MAAI,CAACvI,KAAKwM,gBAAV,EAA4BxM,KAAKwM,gBAAL,GAAwBvhC,cAAc,KAAd,EAAqB,oBAArB,CAAxB;;AAE5B,MAAIq/B,iBAAiBtK,KAAKqK,IAAL,CAAUC,cAA/B;AACA,MAAImC,WAAWzM,KAAKqK,IAAL,CAAUoC,QAAV,CAAmBC,SAAnB,CAA6BxiC,KAA7B,EAAf;;AAEA,MAAIogC,iBAAiB,CAAjB,IAAsBA,iBAAiBmC,SAASn8B,MAApD,EAA4D;AAC3Dm8B,cAAW,GAAGt9B,MAAH,CAAUs9B,SAASh1B,MAAT,CAAgB6yB,cAAhB,EAAgCmC,SAASn8B,MAAzC,CAAV,EAA4Dm8B,SAASh1B,MAAT,CAAgB,CAAhB,EAAmB6yB,cAAnB,CAA5D,CAAX;AACA;;AAEDtK,OAAKwM,gBAAL,CAAsBnhC,SAAtB,GAAkC,iDAAiDohC,SAASr9B,IAAT,CAAc,uCAAd,CAAjD,GAA0G,qBAA5I;;AAEA,SAAO4wB,KAAKwM,gBAAZ;AACA;;AAED;AACA,UAASnE,UAAT,GAAsB;AACrBrI,OAAKyC,iBAAL,CAAuB5W,SAAvB,CAAiChd,GAAjC,CAAqC,UAArC;AACAmxB,OAAK4C,WAAL,GAAmB33B,cAAc,KAAd,EAAqB,uBAArB,CAAnB;AACA+0B,OAAK4C,WAAL,CAAiB/2B,WAAjB,CAA6BZ,cAAc,MAAd,EAAsB,mBAAtB,EAA2C+0B,KAAKqK,IAAL,CAAUsC,gBAArD,CAA7B;AACA3M,OAAKgC,WAAL,GAAmB/2B,cAAc,KAAd,EAAqB,iBAArB,CAAnB;AACA+0B,OAAK4C,WAAL,CAAiB/2B,WAAjB,CAA6Bm0B,KAAKgC,WAAlC;;AAEA,SAAOhC,KAAK4C,WAAZ;AACA;;AAED,UAASrC,WAAT,CAAqB53B,KAArB,EAA4BikC,SAA5B,EAAuCzc,OAAvC,EAAgD;AAC/Cyc,cAAYA,cAAc7kC,SAAd,IAA2B6kC,SAAvC;AACA,MAAIpI,QAAQoI,YAAYjkC,KAAZ,GAAoBA,QAAQq3B,KAAKkH,YAA7C;AACA,MAAI2F,iBAAiB,CAAC7M,KAAKD,MAAL,CAAY5P,OAAb,IAAwBA,YAAY,KAAzD;;AAEA,MAAIqU,QAAQ,CAAR,IAAaxE,KAAK8K,mBAAlB,IAAyCtG,QAAQ,CAAR,IAAaxE,KAAK+K,mBAA/D,EAAoF;;AAEpF/K,OAAKkH,YAAL,IAAqB1C,KAArB;;AAEA,MAAIxE,KAAKkH,YAAL,GAAoB,CAApB,IAAyBlH,KAAKkH,YAAL,GAAoB,EAAjD,EAAqD;AACpDlH,QAAKgH,WAAL,IAAoBhH,KAAKkH,YAAL,GAAoB,EAApB,GAAyB,CAAzB,GAA6B,CAAC,CAAlD;AACAlH,QAAKkH,YAAL,GAAoB,CAAClH,KAAKkH,YAAL,GAAoB,EAArB,IAA2B,EAA/C;;AAEApE,gBAAa,YAAb;AACA;;AAED0F,YAAU,CAACqE,cAAD,GAAkBrI,KAAlB,GAA0Bz8B,SAApC;;AAEA,MAAI8kC,cAAJ,EAAoB;AACnB/J,gBAAa,aAAb;AACA,UAAOkI,8BAAP;AACA;;AAED;AACA,MAAIpE,MAAM5G,KAAK2G,sBAAf;AACA,MAAInC,QAAQ,CAAZ,EAAe;AACd,UAAOoC,IAAI54B,WAAJ,IAAmB,OAAOpF,IAAP,CAAYg+B,IAAI54B,WAAJ,CAAgBkd,SAA5B,CAA1B,EAAkE;AACjE8U,SAAK8F,QAAL,CAAc7oB,WAAd,CAA0B2pB,IAAI54B,WAA9B;AACA;AACD,GAJD,MAIO,IAAIw2B,QAAQ,CAAZ,EAAe;AACrB,UAAOoC,IAAIC,eAAJ,IAAuB,OAAOj+B,IAAP,CAAYg+B,IAAIC,eAAJ,CAAoB3b,SAAhC,CAA9B,EAA0E;AACzE8U,SAAK8F,QAAL,CAAc7oB,WAAd,CAA0B2pB,IAAIC,eAA9B;AACA;AACD;;AAED7G,OAAK8G,WAAL,GAAmB9G,KAAK2G,sBAAxB;;AAEA3G,OAAK2G,sBAAL,GAA8B3G,KAAK8F,QAAL,CAAcx4B,YAAd,CAA2B0yB,KAAK8G,WAAL,CAAiB3pB,SAAjB,CAA2B,IAA3B,CAA3B,EAA6DqnB,QAAQ,CAAR,GAAYxE,KAAK8G,WAAL,CAAiB94B,WAA7B,GAA2CgyB,KAAK8G,WAA7G,CAA9B;;AAEA,MAAItC,QAAQ,CAAZ,EAAe;AACdxE,QAAK0C,aAAL,CAAmB30B,UAAnB,CAA8B8d,SAA9B,CAAwChd,GAAxC,CAA4C,WAA5C;AACAmxB,QAAK0C,aAAL,CAAmB+D,SAAnB,CAA6B5a,SAA7B,CAAuChd,GAAvC,CAA2C,cAA3C;;AAEAmxB,QAAK8G,WAAL,CAAiBjb,SAAjB,CAA2Bhd,GAA3B,CAA+B,WAA/B;AACAmxB,QAAK2G,sBAAL,CAA4B9a,SAA5B,CAAsChd,GAAtC,CAA0C,cAA1C;AACA,GAND,MAMO,IAAI21B,QAAQ,CAAZ,EAAe;AACrBxE,QAAK0C,aAAL,CAAmB30B,UAAnB,CAA8B8d,SAA9B,CAAwChd,GAAxC,CAA4C,eAA5C;AACAmxB,QAAK0C,aAAL,CAAmB+D,SAAnB,CAA6B5a,SAA7B,CAAuChd,GAAvC,CAA2C,YAA3C;;AAEAmxB,QAAK8G,WAAL,CAAiBjb,SAAjB,CAA2Bhd,GAA3B,CAA+B,YAA/B;AACAmxB,QAAK2G,sBAAL,CAA4B9a,SAA5B,CAAsChd,GAAtC,CAA0C,eAA1C;AACA;;AAEDmxB,OAAKsL,mBAAL,GAA2BtL,KAAK2G,sBAAL,CAA4B54B,UAAvD;AACAiyB,OAAKyE,kBAAL,GAA0BzE,KAAK2G,sBAAL,CAA4BF,SAA5B,CAAsCnJ,UAAtC,CAAiD,CAAjD,CAA1B;;AAEA0N;AACAhL,OAAK8G,WAAL,CAAiB/4B,UAAjB,CAA4B41B,WAA5B,GAA0C3D,KAAKyK,KAAL,CAAWqC,UAAX,CAAsB9M,KAAKkH,YAAL,GAAoB1C,KAA1C,CAA1C;;AAEA1B,eAAa,aAAb;;AAEA,MAAIt6B,SAASukC,aAAT,IAA0BvkC,SAASukC,aAAT,CAAuB5D,EAArD,EAAyD;AACxD,OAAIp2B,QAAQvK,SAASukC,aAAT,CAAuB5D,EAAnC;AACAlJ,gBAAa,YAAY;AACxB4J,eAAW92B,KAAX,EAAkB,CAAlB;AACA,IAFD;AAGA;AACD;;AAED,UAAS0tB,KAAT,CAAeuM,kBAAf,EAAmC;AAClChN,OAAKrC,KAAL,CAAWh1B,KAAX,GAAmB,EAAnB;;AAEA,MAAIq3B,KAAK6I,QAAT,EAAmB7I,KAAK6I,QAAL,CAAclgC,KAAd,GAAsB,EAAtB;;AAEnB,MAAIq3B,KAAKiN,WAAT,EAAsBjN,KAAKiN,WAAL,CAAiBtkC,KAAjB,GAAyB,EAAzB;;AAEtBq3B,OAAKb,aAAL,GAAqB,EAArB;AACAa,OAAKqC,qBAAL,GAA6Bt6B,SAA7B;AACAi4B,OAAKwC,aAAL,GAAqB,KAArB;;AAEAxC,OAAKe,MAAL;;AAEA,MAAIiM,uBAAuB,KAA3B;AACC;AACAlK,gBAAa,QAAb;AACD;;AAED,UAASpC,KAAT,GAAiB;AAChBV,OAAK0B,MAAL,GAAc,KAAd;;AAEA,MAAI,CAAC1B,KAAK2B,QAAV,EAAoB;AACnB3B,QAAKyC,iBAAL,CAAuB5W,SAAvB,CAAiCxN,MAAjC,CAAwC,MAAxC;AACA2hB,QAAK0F,MAAL,CAAY7Z,SAAZ,CAAsBxN,MAAtB,CAA6B,QAA7B;AACA;;AAEDykB,eAAa,OAAb;AACA;;AAED,UAAS9E,OAAT,GAAmB;AAClB,MAAIgC,KAAKD,MAAL,KAAgBh4B,SAApB,EAA+B+6B,aAAa,SAAb;;AAE/B,OAAK,IAAIptB,IAAIsqB,KAAK4E,SAAL,CAAet0B,MAA5B,EAAoCoF,GAApC,GAA0C;AACzC,OAAI8nB,IAAIwC,KAAK4E,SAAL,CAAelvB,CAAf,CAAR;AACA8nB,KAAEvS,OAAF,CAAU7Q,mBAAV,CAA8BojB,EAAEnmB,KAAhC,EAAuCmmB,EAAEtkB,OAAzC;AACA;;AAED8mB,OAAK4E,SAAL,GAAiB,EAAjB;;AAEA,MAAI5E,KAAKiN,WAAT,EAAsB;AACrB,OAAIjN,KAAKiN,WAAL,CAAiB1/B,UAArB,EAAiCyyB,KAAKiN,WAAL,CAAiB1/B,UAAjB,CAA4B0P,WAA5B,CAAwC+iB,KAAKiN,WAA7C;AACjCjN,QAAKiN,WAAL,GAAmB,IAAnB;AACA,GAHD,MAGO,IAAIjN,KAAKyC,iBAAL,IAA0BzC,KAAKyC,iBAAL,CAAuBl1B,UAArD,EAAiEyyB,KAAKyC,iBAAL,CAAuBl1B,UAAvB,CAAkC0P,WAAlC,CAA8C+iB,KAAKyC,iBAAnD;;AAExE,MAAIzC,KAAK6I,QAAT,EAAmB;AAClB7I,QAAKrC,KAAL,CAAWnd,IAAX,GAAkB,MAAlB;AACA,OAAIwf,KAAK6I,QAAL,CAAct7B,UAAlB,EAA8ByyB,KAAK6I,QAAL,CAAct7B,UAAd,CAAyB0P,WAAzB,CAAqC+iB,KAAK6I,QAA1C;AAC9B,UAAO7I,KAAK6I,QAAZ;AACA;;AAED,MAAI7I,KAAKrC,KAAT,EAAgB;AACfqC,QAAKrC,KAAL,CAAWnd,IAAX,GAAkBwf,KAAKrC,KAAL,CAAWuP,KAA7B;AACAlN,QAAKrC,KAAL,CAAW9R,SAAX,CAAqBxN,MAArB,CAA4B,iBAA5B;AACA2hB,QAAKrC,KAAL,CAAWvxB,eAAX,CAA2B,UAA3B;AACA4zB,QAAKrC,KAAL,CAAWh1B,KAAX,GAAmB,EAAnB;AACA;;AAED,GAAC,gBAAD,EAAmB,uBAAnB,EAA4C,qBAA5C,EAAmE,qBAAnE,EAA0F,sBAA1F,EAAkH,sBAAlH,EAA0I,UAA1I,EAAsJ,QAAtJ,EAAgK,kBAAhK,EAAoL,gBAApL,EAAsM,gBAAtM,EAAwN,MAAxN,EAAgO,eAAhO,EAAiP,QAAjP,EAA2P,kBAA3P,EAA+Q,gBAA/Q,EAAiS,YAAjS,EAA+S,UAA/S,EAA2T,eAA3T,EAA4U,mBAA5U,EAAiW,kBAAjW,EAAqX,cAArX,EAAqY,cAArY,EAAqZ,qBAArZ,EAA4a,oBAA5a,EAAkc,wBAAlc,EAA4d,kBAA5d,EAAgf,QAAhf,EAA0fud,OAA1f,CAAkgB,UAAUhX,CAAV,EAAa;AAC9gB,UAAO,OAAO8wB,KAAK9wB,CAAL,CAAd;AACA,GAFD;AAGA;;AAED,UAASi+B,cAAT,CAAwBtqB,IAAxB,EAA8B;AAC7B,MAAImd,KAAKD,MAAL,CAAY6I,QAAZ,IAAwB5I,KAAKD,MAAL,CAAY6I,QAAZ,CAAqBxwB,QAArB,CAA8ByK,IAA9B,CAA5B,EAAiE,OAAO,IAAP;;AAEjE,SAAOmd,KAAKyC,iBAAL,CAAuBrqB,QAAvB,CAAgCyK,IAAhC,CAAP;AACA;;AAED,UAAS+iB,aAAT,CAAuBzsB,CAAvB,EAA0B;AACzB,MAAI6mB,KAAK0B,MAAL,IAAe,CAAC1B,KAAKD,MAAL,CAAY8B,MAAhC,EAAwC;AACvC,OAAIuL,oBAAoBD,eAAeh0B,EAAEI,MAAjB,CAAxB;AACA,OAAI8zB,UAAUl0B,EAAEI,MAAF,KAAaymB,KAAKrC,KAAlB,IAA2BxkB,EAAEI,MAAF,KAAaymB,KAAK6I,QAA7C,IAAyD7I,KAAK/U,OAAL,CAAa7S,QAAb,CAAsBe,EAAEI,MAAxB,CAAzD;AACd;AACAJ,KAAEm0B,IAAF,IAAUn0B,EAAEm0B,IAAF,CAAO98B,OAAjB,KAA6B,CAAC2I,EAAEm0B,IAAF,CAAO98B,OAAP,CAAewvB,KAAKrC,KAApB,CAAD,IAA+B,CAACxkB,EAAEm0B,IAAF,CAAO98B,OAAP,CAAewvB,KAAK6I,QAApB,CAA7D,CAFA;;AAIA,OAAI0E,YAAYp0B,EAAEqH,IAAF,KAAW,MAAX,GAAoB6sB,WAAWl0B,EAAEkiB,aAAb,IAA8B,CAAC8R,eAAeh0B,EAAEkiB,aAAjB,CAAnD,GAAqF,CAACgS,OAAD,IAAY,CAACD,iBAAlH;;AAEA,OAAIG,aAAavN,KAAKD,MAAL,CAAYyN,oBAAZ,CAAiCh9B,OAAjC,CAAyC2I,EAAEI,MAA3C,MAAuD,CAAC,CAAzE,EAA4E;AAC3EymB,SAAKU,KAAL;;AAEA,QAAIV,KAAKD,MAAL,CAAYlX,IAAZ,KAAqB,OAArB,IAAgCmX,KAAKb,aAAL,CAAmB7uB,MAAnB,KAA8B,CAAlE,EAAqE;AACpE0vB,UAAKS,KAAL,CAAW,KAAX;AACAT,UAAKe,MAAL;AACA;AACD;AACD;AACD;;AAED,UAASP,UAAT,CAAoBiN,OAApB,EAA6B;AAC5B,MAAI,CAACA,OAAD,IAAYzN,KAAKyE,kBAAL,CAAwB/b,GAAxB,IAA+B+kB,UAAUzN,KAAKyE,kBAAL,CAAwB/b,GAA7E,IAAoFsX,KAAKyE,kBAAL,CAAwB9b,GAAxB,IAA+B8kB,UAAUzN,KAAKyE,kBAAL,CAAwB9b,GAAzJ,EAA8J;;AAE9J,MAAI+kB,aAAarK,SAASoK,OAAT,EAAkB,EAAlB,CAAjB;AAAA,MACIE,YAAY3N,KAAKgH,WAAL,KAAqB0G,UADrC;;AAGA1N,OAAKgH,WAAL,GAAmB0G,cAAc1N,KAAKgH,WAAtC;;AAEA,MAAIhH,KAAKD,MAAL,CAAYgE,OAAZ,IAAuB/D,KAAKgH,WAAL,KAAqBhH,KAAKD,MAAL,CAAYgE,OAAZ,CAAoBkD,WAApB,EAAhD,EAAmF;AAClFjH,QAAKkH,YAAL,GAAoBtd,KAAKlB,GAAL,CAASsX,KAAKD,MAAL,CAAYgE,OAAZ,CAAoBoD,QAApB,EAAT,EAAyCnH,KAAKkH,YAA9C,CAApB;AACA,GAFD,MAEO,IAAIlH,KAAKD,MAAL,CAAYuC,OAAZ,IAAuBtC,KAAKgH,WAAL,KAAqBhH,KAAKD,MAAL,CAAYuC,OAAZ,CAAoB2E,WAApB,EAAhD,EAAmF;AACzFjH,QAAKkH,YAAL,GAAoBtd,KAAKjB,GAAL,CAASqX,KAAKD,MAAL,CAAYuC,OAAZ,CAAoB6E,QAApB,EAAT,EAAyCnH,KAAKkH,YAA9C,CAApB;AACA;;AAED,MAAIyG,SAAJ,EAAe;AACd3N,QAAKe,MAAL;AACA+B,gBAAa,YAAb;AACA;AACD;;AAED,UAASlC,SAAT,CAAmBsD,IAAnB,EAAyB0J,QAAzB,EAAmC;AAClC,MAAI5N,KAAKD,MAAL,CAAYuC,OAAZ,IAAuBlC,aAAa8D,IAAb,EAAmBlE,KAAKD,MAAL,CAAYuC,OAA/B,EAAwCsL,aAAa7lC,SAAb,GAAyB6lC,QAAzB,GAAoC,CAAC5N,KAAKkD,cAAlF,IAAoG,CAA3H,IAAgIlD,KAAKD,MAAL,CAAYgE,OAAZ,IAAuB3D,aAAa8D,IAAb,EAAmBlE,KAAKD,MAAL,CAAYgE,OAA/B,EAAwC6J,aAAa7lC,SAAb,GAAyB6lC,QAAzB,GAAoC,CAAC5N,KAAK8D,cAAlF,IAAoG,CAA/P,EAAkQ,OAAO,KAAP;;AAElQ,MAAI,CAAC9D,KAAKD,MAAL,CAAYgC,MAAZ,CAAmBzxB,MAApB,IAA8B,CAAC0vB,KAAKD,MAAL,CAAY+B,OAAZ,CAAoBxxB,MAAvD,EAA+D,OAAO,IAAP;;AAE/D,MAAIu9B,cAAc7N,KAAKkB,SAAL,CAAegD,IAAf,EAAqB,IAArB,EAA2B,IAA3B,CAAlB,CALkC,CAKkB;;AAEpD,MAAI5nB,OAAO0jB,KAAKD,MAAL,CAAYgC,MAAZ,CAAmBzxB,MAAnB,GAA4B,CAAvC;AAAA,MACIsD,QAAQ0I,OAAO0jB,KAAKD,MAAL,CAAYgC,MAAnB,GAA4B/B,KAAKD,MAAL,CAAY+B,OADpD;;AAGA,OAAK,IAAIpsB,IAAI,CAAR,EAAWo4B,CAAhB,EAAmBp4B,IAAI9B,MAAMtD,MAA7B,EAAqCoF,GAArC,EAA0C;AACzCo4B,OAAIl6B,MAAM8B,CAAN,CAAJ;;AAEA,OAAIo4B,aAAax4B,QAAb,IAAyBw4B,EAAED,WAAF,CAA7B,EAA6C;AAC5C,WAAOvxB,IAAP,CADD,KACkB,IAAIwxB,aAAa3D,IAAb,IAAqB2D,EAAEC,OAAF,OAAgBF,YAAYE,OAAZ,EAAzC;AACjB;AACA,WAAOzxB,IAAP,CAFiB,KAEA,IAAI,OAAOwxB,CAAP,KAAa,QAAb,IAAyB9N,KAAKkB,SAAL,CAAe4M,CAAf,EAAkB,IAAlB,EAAwB,IAAxB,EAA8BC,OAA9B,OAA4CF,YAAYE,OAAZ,EAAzE;AACjB;AACA,WAAOzxB,IAAP,CAFiB,KAEA,KAAK;AACvB,IAAC,OAAOwxB,CAAP,KAAa,WAAb,GAA2B,WAA3B,GAAyCnO,QAAQmO,CAAR,CAA1C,MAA0D,QAA1D,IAAsEA,EAAEvkB,IAAxE,IAAgFukB,EAAExkB,EAAlF,IAAwFukB,eAAeC,EAAEvkB,IAAzG,IAAiHskB,eAAeC,EAAExkB,EADhH,EACoH,OAAOhN,IAAP;AACtI;;AAED,SAAO,CAACA,IAAR;AACA;;AAED,UAASkpB,SAAT,CAAmBrsB,CAAnB,EAAsB;AACrB,MAAIk0B,UAAUl0B,EAAEI,MAAF,KAAaymB,KAAK0F,MAAhC;AACA,MAAIsI,eAAeb,eAAeh0B,EAAEI,MAAjB,CAAnB;AACA,MAAI00B,aAAajO,KAAKD,MAAL,CAAYkO,UAA7B;AACA,MAAIC,eAAelO,KAAK0B,MAAL,KAAgB,CAACuM,UAAD,IAAe,CAACZ,OAAhC,CAAnB;AACA,MAAIc,qBAAqBnO,KAAKD,MAAL,CAAY8B,MAAZ,IAAsBwL,OAAtB,IAAiC,CAACY,UAA3D;;AAEA,MAAI90B,EAAE7P,GAAF,KAAU,OAAV,IAAqB2kC,UAArB,IAAmCZ,OAAvC,EAAgD;AAC/CrN,QAAKT,OAAL,CAAaS,KAAK0F,MAAL,CAAY/8B,KAAzB,EAAgC,IAAhC,EAAsCwQ,EAAEI,MAAF,KAAaymB,KAAK6I,QAAlB,GAA6B7I,KAAKD,MAAL,CAAYqO,SAAzC,GAAqDpO,KAAKD,MAAL,CAAYsO,UAAvG;AACA,UAAOl1B,EAAEI,MAAF,CAASmrB,IAAT,EAAP;AACA,GAHD,MAGO,IAAIsJ,gBAAgBE,YAAhB,IAAgCC,kBAApC,EAAwD;AAC9D,OAAIG,YAAYtO,KAAKqG,aAAL,IAAsBrG,KAAKqG,aAAL,CAAmBjuB,QAAnB,CAA4Be,EAAEI,MAA9B,CAAtC;AACA,WAAQJ,EAAE7P,GAAV;AACC,SAAK,OAAL;AACC,SAAIglC,SAAJ,EAAe/L,cAAf,KAAkC0D,WAAW9sB,CAAX;;AAElC;;AAED,SAAK,QAAL;AACC;AACAA,OAAEsQ,cAAF;AACAuW,UAAKU,KAAL;AACA;;AAED,SAAK,WAAL;AACA,SAAK,YAAL;AACC,SAAI,CAAC4N,SAAL,EAAgB;AACfn1B,QAAEsQ,cAAF;;AAEA,UAAIuW,KAAK0C,aAAT,EAAwB;AACvB,WAAI6L,SAASp1B,EAAE7P,GAAF,KAAU,YAAV,GAAyB,CAAzB,GAA6B,CAAC,CAA3C;;AAEA,WAAI,CAAC6P,EAAEq1B,OAAP,EAAgB3E,WAAW1wB,EAAEI,MAAF,CAAS4vB,EAApB,EAAwBoF,MAAxB,EAAhB,KAAqDhO,YAAYgO,MAAZ,EAAoB,IAApB;AACrD,OAJD,MAIO,IAAIvO,KAAKD,MAAL,CAAYqC,UAAZ,IAA0B,CAACkM,SAA/B,EAA0CtO,KAAKX,WAAL,CAAiB4K,KAAjB;AACjD;;AAED;;AAED,SAAK,SAAL;AACA,SAAK,WAAL;AACC9wB,OAAEsQ,cAAF;AACA,SAAI+a,QAAQrrB,EAAE7P,GAAF,KAAU,WAAV,GAAwB,CAAxB,GAA4B,CAAC,CAAzC;;AAEA,SAAI02B,KAAK0C,aAAT,EAAwB;AACvB,UAAIvpB,EAAEq1B,OAAN,EAAe;AACdhO,kBAAWR,KAAKgH,WAAL,GAAmBxC,KAA9B;AACAqF,kBAAW1wB,EAAEI,MAAF,CAAS4vB,EAApB,EAAwB,CAAxB;AACA,OAHD,MAGO,IAAI,CAACmF,SAAL,EAAgBzE,WAAW1wB,EAAEI,MAAF,CAAS4vB,EAApB,EAAwB3E,QAAQ,CAAhC;AACvB,MALD,MAKO,IAAIxE,KAAKD,MAAL,CAAYqC,UAAhB,EAA4B;AAClC,UAAI,CAACkM,SAAL,EAAgBtO,KAAKX,WAAL,CAAiB4K,KAAjB;AAChBjH,iBAAW7pB,CAAX;AACA;;AAED;;AAED,SAAK,KAAL;AACC,SAAIA,EAAEI,MAAF,KAAaymB,KAAKX,WAAtB,EAAmC;AAClClmB,QAAEsQ,cAAF;AACAuW,WAAKV,aAAL,CAAmB1d,MAAnB;AACA,MAHD,MAGO,IAAIzI,EAAEI,MAAF,KAAaymB,KAAKV,aAAlB,KAAoCU,KAAK0D,aAAL,IAAsB1D,KAAKsD,IAA/D,CAAJ,EAA0E;AAChFnqB,QAAEsQ,cAAF;AACA,OAACuW,KAAK0D,aAAL,IAAsB1D,KAAKsD,IAA5B,EAAkC2G,KAAlC;AACA,MAHM,MAGA,IAAI9wB,EAAEI,MAAF,KAAaymB,KAAK0D,aAAtB,EAAqC;AAC3CvqB,QAAEsQ,cAAF;AACAuW,WAAKsD,IAAL,CAAU2G,KAAV;AACA;;AAED;;AAED,SAAK,GAAL;AACC,SAAI9wB,EAAEI,MAAF,KAAaymB,KAAKsD,IAAtB,EAA4B;AAC3BtD,WAAKsD,IAAL,CAAUK,WAAV,GAAwB,IAAxB;AACAR;AACAZ;AACA;AACD;;AAED,SAAK,GAAL;AACC,SAAIppB,EAAEI,MAAF,KAAaymB,KAAKsD,IAAtB,EAA4B;AAC3BtD,WAAKsD,IAAL,CAAUK,WAAV,GAAwB,IAAxB;AACAR;AACAZ;AACA;AACD;;AAED;AACC;;AA1EF;;AA8EAO,gBAAa,SAAb,EAAwB3pB,CAAxB;AACA;AACD;;AAED,UAASosB,WAAT,CAAqB1iB,IAArB,EAA2B;AAC1B,MAAImd,KAAKb,aAAL,CAAmB7uB,MAAnB,KAA8B,CAA9B,IAAmC,CAACuS,KAAKgJ,SAAL,CAAezT,QAAf,CAAwB,eAAxB,CAAxC,EAAkF;;AAElF,MAAIq2B,YAAY5rB,KAAKohB,OAArB;AAAA,MACIyK,cAAc1O,KAAKkB,SAAL,CAAelB,KAAKb,aAAL,CAAmB,CAAnB,CAAf,EAAsC,IAAtC,EAA4C,IAA5C,CADlB;AAAA,MAEIwP,iBAAiB/kB,KAAKlB,GAAL,CAAS+lB,UAAUV,OAAV,EAAT,EAA8B/N,KAAKb,aAAL,CAAmB,CAAnB,EAAsB4O,OAAtB,EAA9B,CAFrB;AAAA,MAGIa,eAAehlB,KAAKjB,GAAL,CAAS8lB,UAAUV,OAAV,EAAT,EAA8B/N,KAAKb,aAAL,CAAmB,CAAnB,EAAsB4O,OAAtB,EAA9B,CAHnB;AAAA,MAIIc,mBAAmB,KAJvB;;AAMA,OAAK,IAAIzuB,IAAIuuB,cAAb,EAA6BvuB,IAAIwuB,YAAjC,EAA+CxuB,KAAK4f,KAAKyK,KAAL,CAAWtf,QAAX,CAAoB2jB,GAAxE,EAA6E;AAC5E,OAAI,CAAClO,UAAU,IAAIuJ,IAAJ,CAAS/pB,CAAT,CAAV,CAAL,EAA6B;AAC5ByuB,uBAAmB,IAAnB;AACA;AACA;AACD;;AAED,MAAIE,QAAQ,SAASA,KAAT,CAAeC,SAAf,EAA0Bt5B,CAA1B,EAA6B;AACxC,OAAIu5B,aAAaD,YAAYhP,KAAKwJ,YAAL,CAAkBuE,OAAlB,EAAZ,IAA2CiB,YAAYhP,KAAKyJ,YAAL,CAAkBsE,OAAlB,EAAxE;AAAA,OACImB,UAAUlP,KAAK0G,IAAL,CAAUpJ,UAAV,CAAqB5nB,CAArB,CADd;;AAGA,OAAIu5B,UAAJ,EAAgB;AACfjP,SAAK0G,IAAL,CAAUpJ,UAAV,CAAqB5nB,CAArB,EAAwBmW,SAAxB,CAAkChd,GAAlC,CAAsC,YAAtC;AACA,KAAC,SAAD,EAAY,YAAZ,EAA0B,UAA1B,EAAsCqX,OAAtC,CAA8C,UAAU3V,CAAV,EAAa;AAC1D2+B,aAAQrjB,SAAR,CAAkBxN,MAAlB,CAAyB9N,CAAzB;AACA,KAFD;AAGA,WAAO,UAAP;AACA,IAND,MAMO,IAAIs+B,oBAAoB,CAACI,UAAzB,EAAqC,OAAO,UAAP;;AAE5C,IAAC,YAAD,EAAe,SAAf,EAA0B,UAA1B,EAAsC,YAAtC,EAAoD/oB,OAApD,CAA4D,UAAU3V,CAAV,EAAa;AACxE2+B,YAAQrjB,SAAR,CAAkBxN,MAAlB,CAAyB9N,CAAzB;AACA,IAFD;;AAIA,OAAIi5B,eAAe5f,KAAKjB,GAAL,CAASqX,KAAKwJ,YAAL,CAAkBuE,OAAlB,EAAT,EAAsCY,cAAtC,CAAnB;AAAA,OACIlF,eAAe7f,KAAKlB,GAAL,CAASsX,KAAKyJ,YAAL,CAAkBsE,OAAlB,EAAT,EAAsCa,YAAtC,CADnB;;AAGA/rB,QAAKgJ,SAAL,CAAehd,GAAf,CAAmB4/B,YAAYzO,KAAKb,aAAL,CAAmB,CAAnB,CAAZ,GAAoC,YAApC,GAAmD,UAAtE;;AAEA,OAAIuP,cAAcD,SAAd,IAA2BO,cAAcN,YAAYX,OAAZ,EAA7C,EAAoEmB,QAAQrjB,SAAR,CAAkBhd,GAAlB,CAAsB,YAAtB,EAApE,KAA6G,IAAI6/B,cAAcD,SAAd,IAA2BO,cAAcN,YAAYX,OAAZ,EAA7C,EAAoEmB,QAAQrjB,SAAR,CAAkBhd,GAAlB,CAAsB,UAAtB;;AAEjL,OAAImgC,aAAaxF,YAAb,IAA6BwF,aAAavF,YAA9C,EAA4DyF,QAAQrjB,SAAR,CAAkBhd,GAAlB,CAAsB,SAAtB;AAC5D,GAxBD;;AA0BA,OAAK,IAAImgC,YAAYhP,KAAK0G,IAAL,CAAUpJ,UAAV,CAAqB,CAArB,EAAwB2G,OAAxB,CAAgC8J,OAAhC,EAAhB,EAA2Dr4B,IAAI,CAApE,EAAuEA,IAAI,EAA3E,EAA+EA,KAAKs5B,aAAahP,KAAKyK,KAAL,CAAWtf,QAAX,CAAoB2jB,GAArH,EAA0H;AACzH,OAAIK,OAAOJ,MAAMC,SAAN,EAAiBt5B,CAAjB,CAAX;;AAEA,OAAIy5B,SAAS,UAAb,EAAyB;AACzB;AACD;;AAED,UAAS/J,QAAT,GAAoB;AACnB,MAAIpF,KAAK0B,MAAL,IAAe,CAAC1B,KAAKD,MAAL,CAAY0F,MAA5B,IAAsC,CAACzF,KAAKD,MAAL,CAAY8B,MAAvD,EAA+DgB;AAC/D;;AAED,UAAS/B,IAAT,CAAc3nB,CAAd,EAAiBi2B,eAAjB,EAAkC;AACjC,MAAIpP,KAAK2B,QAAT,EAAmB;AAClB,OAAIxoB,CAAJ,EAAO;AACNA,MAAEsQ,cAAF;AACAtQ,MAAEI,MAAF,CAASmrB,IAAT;AACA;;AAEDrZ,cAAW,YAAY;AACtB2U,SAAKiN,WAAL,CAAiBoC,KAAjB;AACA,IAFD,EAEG,CAFH;;AAIAvM,gBAAa,MAAb;AACA;AACA;;AAED,MAAI9C,KAAK0B,MAAL,IAAe1B,KAAK0F,MAAL,CAAYgG,QAA3B,IAAuC1L,KAAKD,MAAL,CAAY8B,MAAvD,EAA+D;;AAE/D7B,OAAK0B,MAAL,GAAc,IAAd;AACA1B,OAAKyC,iBAAL,CAAuB5W,SAAvB,CAAiChd,GAAjC,CAAqC,MAArC;AACAg0B,mBAAiBuM,eAAjB;AACApP,OAAK0F,MAAL,CAAY7Z,SAAZ,CAAsBhd,GAAtB,CAA0B,QAA1B;;AAEAi0B,eAAa,MAAb;AACA;;AAED,UAASwM,gBAAT,CAA0B9uB,IAA1B,EAAgC;AAC/B,SAAO,UAAU0jB,IAAV,EAAgB;AACtB,OAAID,UAAUjE,KAAKD,MAAL,CAAY,MAAMvf,IAAN,GAAa,MAAzB,IAAmCwf,KAAKkB,SAAL,CAAegD,IAAf,CAAjD;;AAEA,OAAIqL,iBAAiBvP,KAAKD,MAAL,CAAY,OAAOvf,SAAS,KAAT,GAAiB,KAAjB,GAAyB,KAAhC,IAAyC,MAArD,CAArB;AACA,OAAIgvB,cAActL,QAAQD,mBAAmBkG,IAA7C;;AAEA,OAAIqF,WAAJ,EAAiB;AAChBxP,SAAKxf,OAAO,aAAZ,IAA6ByjB,QAAQL,QAAR,MAAsBK,QAAQJ,UAAR,EAAtB,IAA8CI,QAAQE,UAAR,EAA3E;AACA;;AAED,OAAInE,KAAKb,aAAT,EAAwB;AACvBa,SAAKb,aAAL,GAAqBa,KAAKb,aAAL,CAAmBtf,MAAnB,CAA0B,UAAUiuB,CAAV,EAAa;AAC3D,YAAOlN,UAAUkN,CAAV,CAAP;AACA,KAFoB,CAArB;AAGA,QAAI,CAAC9N,KAAKb,aAAL,CAAmB7uB,MAApB,IAA8BkQ,SAAS,KAA3C,EAAkD8f,iBAAiB2D,OAAjB;AAClD1B;AACA;;AAED,OAAIvC,KAAK0C,aAAT,EAAwB;AACvB3B;;AAEA,QAAIyO,WAAJ,EAAiBxP,KAAKyE,kBAAL,CAAwBjkB,IAAxB,IAAgCyjB,QAAQgD,WAAR,EAAhC,CAAjB,KAA4EjH,KAAKyE,kBAAL,CAAwBr4B,eAAxB,CAAwCoU,IAAxC;;AAE5Ewf,SAAKyE,kBAAL,CAAwBiH,QAAxB,GAAmC6D,kBAAkBtL,OAAlB,IAA6BsL,eAAetI,WAAf,OAAiChD,QAAQgD,WAAR,EAAjG;AACA;AACD,GAzBD;AA0BA;;AAED,UAAS5F,WAAT,GAAuB;AACtB,MAAIoO,WAAW,CAAC,MAAD,EAAS,aAAT,EAAwB,YAAxB,EAAsC,YAAtC,EAAoD,WAApD,EAAiE,YAAjE,EAA+E,YAA/E,EAA6F,UAA7F,EAAyG,uBAAzG,EAAkI,QAAlI,EAA4I,QAA5I,EAAsJ,eAAtJ,EAAuK,eAAvK,CAAf;;AAEA,MAAIC,QAAQ,CAAC,UAAD,EAAa,SAAb,EAAwB,aAAxB,EAAuC,WAAvC,EAAoD,WAApD,EAAiE,eAAjE,EAAkF,QAAlF,EAA4F,eAA5F,EAA6G,SAA7G,EAAwH,eAAxH,EAAyI,cAAzI,CAAZ;;AAEA1P,OAAKD,MAAL,GAAcv2B,OAAOsP,MAAP,CAAc62B,UAAUC,aAAxB,CAAd;;AAEA,MAAIC,aAAapQ,SAAS,EAAT,EAAaO,KAAKiB,cAAlB,EAAkC9kB,KAAK2zB,KAAL,CAAW3zB,KAAKC,SAAL,CAAe4jB,KAAK/U,OAAL,CAAa8kB,OAAb,IAAwB,EAAvC,CAAX,CAAlC,CAAjB;;AAEA/P,OAAKD,MAAL,CAAYmB,SAAZ,GAAwB2O,WAAW3O,SAAnC;AACAlB,OAAKD,MAAL,CAAYoB,UAAZ,GAAyB0O,WAAW1O,UAApC;;AAEA33B,SAAOyK,cAAP,CAAsB+rB,KAAKD,MAA3B,EAAmC,QAAnC,EAA6C;AAC5C5rB,QAAK,SAASA,GAAT,GAAe;AACnB,WAAO6rB,KAAKD,MAAL,CAAYiQ,OAAZ,IAAuB,EAA9B;AACA,IAH2C;AAI5C97B,QAAK,SAASA,GAAT,CAAa+7B,KAAb,EAAoB;AACxB,WAAOjQ,KAAKD,MAAL,CAAYiQ,OAAZ,GAAsBE,eAAeD,KAAf,CAA7B;AACA;AAN2C,GAA7C;;AASAzmC,SAAOyK,cAAP,CAAsB+rB,KAAKD,MAA3B,EAAmC,SAAnC,EAA8C;AAC7C5rB,QAAK,SAASA,GAAT,GAAe;AACnB,WAAO6rB,KAAKD,MAAL,CAAYoQ,QAAZ,IAAwB,EAA/B;AACA,IAH4C;AAI7Cj8B,QAAK,SAASA,GAAT,CAAa+7B,KAAb,EAAoB;AACxB,WAAOjQ,KAAKD,MAAL,CAAYoQ,QAAZ,GAAuBD,eAAeD,KAAf,CAA9B;AACA;AAN4C,GAA9C;;AASAxQ,WAASO,KAAKD,MAAd,EAAsB8P,UAAtB;;AAEA,MAAI,CAACA,WAAWxB,UAAZ,IAA0BwB,WAAWzN,UAAzC,EAAqD;AACpDpC,QAAKD,MAAL,CAAYsO,UAAZ,GAAyBrO,KAAKD,MAAL,CAAYoC,UAAZ,GAAyB,SAASnC,KAAKD,MAAL,CAAY0D,aAAZ,GAA4B,IAA5B,GAAmC,EAA5C,CAAzB,GAA2EkM,UAAUC,aAAV,CAAwBvB,UAAxB,GAAqC,MAArC,IAA+CrO,KAAKD,MAAL,CAAY0D,aAAZ,GAA4B,IAA5B,GAAmC,EAAlF,CAApG;AACA;;AAED,MAAIoM,WAAWhH,QAAX,IAAuBgH,WAAWzN,UAAlC,IAAgD,CAACyN,WAAWzB,SAAhE,EAA2E;AAC1EpO,QAAKD,MAAL,CAAYqO,SAAZ,GAAwBpO,KAAKD,MAAL,CAAYoC,UAAZ,GAAyB,SAASnC,KAAKD,MAAL,CAAY0D,aAAZ,GAA4B,MAA5B,GAAqC,IAA9C,CAAzB,GAA+EkM,UAAUC,aAAV,CAAwBxB,SAAxB,IAAqC,UAAUpO,KAAKD,MAAL,CAAY0D,aAAZ,GAA4B,IAA5B,GAAmC,EAA7C,IAAmD,IAAxF,CAAvG;AACA;;AAEDj6B,SAAOyK,cAAP,CAAsB+rB,KAAKD,MAA3B,EAAmC,SAAnC,EAA8C;AAC7C5rB,QAAK,SAASA,GAAT,GAAe;AACnB,WAAO,KAAKi8B,QAAZ;AACA,IAH4C;AAI7Cl8B,QAAKo7B,iBAAiB,KAAjB;AAJwC,GAA9C;;AAOA9lC,SAAOyK,cAAP,CAAsB+rB,KAAKD,MAA3B,EAAmC,SAAnC,EAA8C;AAC7C5rB,QAAK,SAASA,GAAT,GAAe;AACnB,WAAO,KAAKk8B,QAAZ;AACA,IAH4C;AAI7Cn8B,QAAKo7B,iBAAiB,KAAjB;AAJwC,GAA9C;;AAOAtP,OAAKD,MAAL,CAAYuC,OAAZ,GAAsBuN,WAAWvN,OAAjC;AACAtC,OAAKD,MAAL,CAAYgE,OAAZ,GAAsB8L,WAAW9L,OAAjC;;AAEA,OAAK,IAAIruB,IAAI,CAAb,EAAgBA,IAAI+5B,SAASn/B,MAA7B,EAAqCoF,GAArC,EAA0C;AACzCsqB,QAAKD,MAAL,CAAY0P,SAAS/5B,CAAT,CAAZ,IAA2BsqB,KAAKD,MAAL,CAAY0P,SAAS/5B,CAAT,CAAZ,MAA6B,IAA7B,IAAqCsqB,KAAKD,MAAL,CAAY0P,SAAS/5B,CAAT,CAAZ,MAA6B,MAA7F;AACA,QAAK,IAAI46B,KAAKZ,MAAMp/B,MAApB,EAA4BggC,IAA5B,GAAmC;AACnC,OAAItQ,KAAKD,MAAL,CAAY2P,MAAMY,EAAN,CAAZ,MAA2BvoC,SAA/B,EAA0C;AACzCi4B,SAAKD,MAAL,CAAY2P,MAAMY,EAAN,CAAZ,IAAyBC,SAASvQ,KAAKD,MAAL,CAAY2P,MAAMY,EAAN,CAAZ,KAA0B,EAAnC,EAAuCrhC,GAAvC,CAA2C8zB,cAA3C,CAAzB;AACA;AACD;;AAED,OAAK,IAAIyN,MAAM,CAAf,EAAkBA,MAAMxQ,KAAKD,MAAL,CAAY0Q,OAAZ,CAAoBngC,MAA5C,EAAoDkgC,KAApD,EAA2D;AAC1D,OAAIE,aAAa1Q,KAAKD,MAAL,CAAY0Q,OAAZ,CAAoBD,GAApB,EAAyBxQ,IAAzB,KAAkC,EAAnD;AACA,QAAK,IAAI12B,GAAT,IAAgBonC,UAAhB,EAA4B;;AAE3B,QAAI1Q,KAAKD,MAAL,CAAYz2B,GAAZ,aAA4BH,KAA5B,IAAqC,CAACumC,MAAMl/B,OAAN,CAAclH,GAAd,CAA1C,EAA8D;AAC7D02B,UAAKD,MAAL,CAAYz2B,GAAZ,IAAmBinC,SAASG,WAAWpnC,GAAX,CAAT,EAA0B2F,GAA1B,CAA8B8zB,cAA9B,EAA8C5zB,MAA9C,CAAqD6wB,KAAKD,MAAL,CAAYz2B,GAAZ,CAArD,CAAnB;AACA,KAFD,MAEO,IAAI,OAAOumC,WAAWvmC,GAAX,CAAP,KAA2B,WAA/B,EAA4C02B,KAAKD,MAAL,CAAYz2B,GAAZ,IAAmBonC,WAAWpnC,GAAX,CAAnB;AACnD;AACD;;AAEDw5B,eAAa,aAAb;AACA;;AAED,UAASxB,WAAT,GAAuB;AACtB,MAAI3B,QAAQK,KAAKD,MAAL,CAAY4Q,MAApB,MAAgC,QAAhC,IAA4C,OAAOhB,UAAUiB,KAAV,CAAgB5Q,KAAKD,MAAL,CAAY4Q,MAA5B,CAAP,KAA+C,WAA/F,EAA4G17B,QAAQoyB,IAAR,CAAa,+BAA+BrH,KAAKD,MAAL,CAAY4Q,MAAxD;;AAE5G3Q,OAAKqK,IAAL,GAAY5K,SAASj2B,OAAOsP,MAAP,CAAc62B,UAAUiB,KAAV,CAAgBC,OAA9B,CAAT,EAAiDlR,QAAQK,KAAKD,MAAL,CAAY4Q,MAApB,MAAgC,QAAhC,GAA2C3Q,KAAKD,MAAL,CAAY4Q,MAAvD,GAAgE3Q,KAAKD,MAAL,CAAY4Q,MAAZ,KAAuB,SAAvB,GAAmChB,UAAUiB,KAAV,CAAgB5Q,KAAKD,MAAL,CAAY4Q,MAA5B,KAAuC,EAA1E,GAA+E,EAAhM,CAAZ;AACA;;AAED,UAAS9N,gBAAT,GAA4B;AAC3B,MAAIuM,kBAAkBx3B,UAAUtH,MAAV,GAAmB,CAAnB,IAAwBsH,UAAU,CAAV,MAAiB7P,SAAzC,GAAqD6P,UAAU,CAAV,CAArD,GAAoEooB,KAAK8Q,gBAA/F;;AAEA,MAAI9Q,KAAKyC,iBAAL,KAA2B16B,SAA/B,EAA0C;;AAE1C,MAAIgpC,iBAAiB/Q,KAAKyC,iBAAL,CAAuBuO,YAA5C;AAAA,MACIC,gBAAgBjR,KAAKyC,iBAAL,CAAuBE,WAD3C;AAAA,MAEIuO,YAAYlR,KAAKD,MAAL,CAAYoR,QAF5B;AAAA,MAGIC,cAAchC,gBAAgBnlB,qBAAhB,EAHlB;AAAA,MAIIonB,qBAAqBvpC,OAAOwpC,WAAP,GAAqBF,YAAYG,MAJ1D;AAAA,MAKIC,YAAYN,cAAc,OAAd,IAAyBA,cAAc,OAAd,IAAyBG,qBAAqBN,cAA9C,IAAgEK,YAAY5mB,GAAZ,GAAkBumB,cAL3H;;AAOA,MAAIvmB,MAAM1iB,OAAOskB,WAAP,GAAqBglB,YAAY5mB,GAAjC,IAAwC,CAACgnB,SAAD,GAAapC,gBAAgB4B,YAAhB,GAA+B,CAA5C,GAAgD,CAACD,cAAD,GAAkB,CAA1G,CAAV;;AAEArI,cAAY1I,KAAKyC,iBAAjB,EAAoC,UAApC,EAAgD,CAAC+O,SAAjD;AACA9I,cAAY1I,KAAKyC,iBAAjB,EAAoC,aAApC,EAAmD+O,SAAnD;;AAEA,MAAIxR,KAAKD,MAAL,CAAY8B,MAAhB,EAAwB;;AAExB,MAAIlX,OAAO7iB,OAAOkkB,WAAP,GAAqBolB,YAAYzmB,IAA5C;AACA,MAAI8mB,QAAQ3pC,OAAOU,QAAP,CAAgB6f,IAAhB,CAAqBsa,WAArB,GAAmCyO,YAAYK,KAA3D;AACA,MAAIC,YAAY/mB,OAAOsmB,aAAP,GAAuBnpC,OAAOU,QAAP,CAAgB6f,IAAhB,CAAqBsa,WAA5D;;AAEA+F,cAAY1I,KAAKyC,iBAAjB,EAAoC,WAApC,EAAiDiP,SAAjD;;AAEA,MAAI1R,KAAKD,MAAL,CAAY0F,MAAhB,EAAwB;;AAExBzF,OAAKyC,iBAAL,CAAuBx2B,KAAvB,CAA6Bue,GAA7B,GAAmCA,MAAM,IAAzC;;AAEA,MAAI,CAACknB,SAAL,EAAgB;AACf1R,QAAKyC,iBAAL,CAAuBx2B,KAAvB,CAA6B0e,IAA7B,GAAoCA,OAAO,IAA3C;AACAqV,QAAKyC,iBAAL,CAAuBx2B,KAAvB,CAA6BwlC,KAA7B,GAAqC,MAArC;AACA,GAHD,MAGO;AACNzR,QAAKyC,iBAAL,CAAuBx2B,KAAvB,CAA6B0e,IAA7B,GAAoC,MAApC;AACAqV,QAAKyC,iBAAL,CAAuBx2B,KAAvB,CAA6BwlC,KAA7B,GAAqCA,QAAQ,IAA7C;AACA;AACD;;AAED,UAAS1Q,MAAT,GAAkB;AACjB,MAAIf,KAAKD,MAAL,CAAYoC,UAAZ,IAA0BnC,KAAK2B,QAAnC,EAA6C;;AAE7C4G;AACAyC;AACAxC;AACA;;AAED,UAASvC,UAAT,CAAoB9sB,CAApB,EAAuB;AACtBA,IAAEsQ,cAAF;AACAtQ,IAAE2iB,eAAF;;AAEA,MAAI,CAAC3iB,EAAEI,MAAF,CAASsS,SAAT,CAAmBzT,QAAnB,CAA4B,eAA5B,CAAD,IAAiDe,EAAEI,MAAF,CAASsS,SAAT,CAAmBzT,QAAnB,CAA4B,UAA5B,CAAjD,IAA4Fe,EAAEI,MAAF,CAASsS,SAAT,CAAmBzT,QAAnB,CAA4B,YAA5B,CAAhG,EAA2I;;AAE3I,MAAIu5B,eAAe3R,KAAKqC,qBAAL,GAA6B,IAAI8H,IAAJ,CAAShxB,EAAEI,MAAF,CAAS0qB,OAAT,CAAiB8J,OAAjB,EAAT,CAAhD;;AAEA,MAAI6D,oBAAoBD,aAAaxK,QAAb,OAA4BnH,KAAKkH,YAAjC,IAAiDlH,KAAKD,MAAL,CAAYlX,IAAZ,KAAqB,OAA9F;;AAEAmX,OAAKuJ,gBAAL,GAAwBpwB,EAAEI,MAA1B;;AAEA,MAAIymB,KAAKD,MAAL,CAAYlX,IAAZ,KAAqB,QAAzB,EAAmCmX,KAAKb,aAAL,GAAqB,CAACwS,YAAD,CAArB,CAAnC,KAA4E,IAAI3R,KAAKD,MAAL,CAAYlX,IAAZ,KAAqB,UAAzB,EAAqC;AAChH,OAAIhH,gBAAgBynB,eAAeqI,YAAf,CAApB;AACA,OAAI9vB,aAAJ,EAAmBme,KAAKb,aAAL,CAAmB1nB,MAAnB,CAA0BoK,aAA1B,EAAyC,CAAzC,EAAnB,KAAoEme,KAAKb,aAAL,CAAmBpwB,IAAnB,CAAwB4iC,YAAxB;AACpE,GAH2E,MAGrE,IAAI3R,KAAKD,MAAL,CAAYlX,IAAZ,KAAqB,OAAzB,EAAkC;AACxC,OAAImX,KAAKb,aAAL,CAAmB7uB,MAAnB,KAA8B,CAAlC,EAAqC0vB,KAAKS,KAAL;;AAErCT,QAAKb,aAAL,CAAmBpwB,IAAnB,CAAwB4iC,YAAxB;;AAEA;AACA,OAAIvR,aAAauR,YAAb,EAA2B3R,KAAKb,aAAL,CAAmB,CAAnB,CAA3B,EAAkD,IAAlD,MAA4D,CAAhE,EAAmEa,KAAKb,aAAL,CAAmBpQ,IAAnB,CAAwB,UAAU/T,CAAV,EAAahH,CAAb,EAAgB;AAC1G,WAAOgH,EAAE+yB,OAAF,KAAc/5B,EAAE+5B,OAAF,EAArB;AACA,IAFkE;AAGnE;;AAED5K;;AAEA,MAAIyO,iBAAJ,EAAuB;AACtB,OAAIjE,YAAY3N,KAAKgH,WAAL,KAAqB2K,aAAa1K,WAAb,EAArC;AACAjH,QAAKgH,WAAL,GAAmB2K,aAAa1K,WAAb,EAAnB;AACAjH,QAAKkH,YAAL,GAAoByK,aAAaxK,QAAb,EAApB;;AAEA,OAAIwG,SAAJ,EAAe7K,aAAa,YAAb;;AAEfA,gBAAa,aAAb;AACA;;AAED0F;;AAEA,MAAIxI,KAAKkD,cAAL,IAAuBlD,KAAKD,MAAL,CAAYqC,UAAnC,IAAiDhC,aAAauR,YAAb,EAA2B3R,KAAKD,MAAL,CAAYuC,OAAvC,MAAoD,CAAzG,EAA4GhC,iBAAiBN,KAAKD,MAAL,CAAYuC,OAA7B;;AAE5GC;;AAEA,MAAIvC,KAAKD,MAAL,CAAYqC,UAAhB,EAA4B/W,WAAW,YAAY;AAClD,UAAO2U,KAAKwC,aAAL,GAAqB,IAA5B;AACA,GAF2B,EAEzB,EAFyB;;AAI5B,MAAIxC,KAAKD,MAAL,CAAYlX,IAAZ,KAAqB,OAAzB,EAAkC;AACjC,OAAImX,KAAKb,aAAL,CAAmB7uB,MAAnB,KAA8B,CAAlC,EAAqC;AACpCi1B,gBAAYpsB,EAAEI,MAAd;;AAEAymB,SAAK8K,mBAAL,GAA2B9K,KAAK8K,mBAAL,IAA4B9K,KAAKwJ,YAAL,GAAoBxJ,KAAK0G,IAAL,CAAUpJ,UAAV,CAAqB,CAArB,EAAwB2G,OAAnG;;AAEAjE,SAAK+K,mBAAL,GAA2B/K,KAAK+K,mBAAL,IAA4B/K,KAAKyJ,YAAL,GAAoB,IAAIU,IAAJ,CAASnK,KAAKgH,WAAd,EAA2BhH,KAAKkH,YAAL,GAAoB,CAA/C,EAAkD,CAAlD,CAA3E;AACA,IAND,MAMO8D;AACP;;AAEDlI,eAAa,QAAb;;AAEA;AACA,MAAI,CAAC8O,iBAAL,EAAwB/H,WAAW1wB,EAAEI,MAAF,CAAS4vB,EAApB,EAAwB,CAAxB,EAAxB,KAAwDlJ,aAAa,YAAY;AAChF,UAAOD,KAAKuJ,gBAAL,CAAsBU,KAAtB,EAAP;AACA,GAFuD;;AAIxD,MAAIjK,KAAKD,MAAL,CAAYqC,UAAhB,EAA4B/W,WAAW,YAAY;AAClD,UAAO2U,KAAKX,WAAL,CAAiBzd,MAAjB,EAAP;AACA,GAF2B,EAEzB,GAFyB;;AAI5B,MAAIoe,KAAKD,MAAL,CAAY8R,aAAhB,EAA+B;AAC9B,OAAIC,SAAS9R,KAAKD,MAAL,CAAYlX,IAAZ,KAAqB,QAArB,IAAiC,CAACmX,KAAKD,MAAL,CAAYqC,UAA3D;AACA,OAAI3Z,QAAQuX,KAAKD,MAAL,CAAYlX,IAAZ,KAAqB,OAArB,IAAgCmX,KAAKb,aAAL,CAAmB7uB,MAAnB,KAA8B,CAA9D,IAAmE,CAAC0vB,KAAKD,MAAL,CAAYqC,UAA5F;;AAEA,OAAI0P,UAAUrpB,KAAd,EAAqBuX,KAAKU,KAAL;AACrB;AACD;;AAED,UAASxsB,GAAT,CAAa69B,MAAb,EAAqBppC,KAArB,EAA4B;AAC3Bq3B,OAAKD,MAAL,CAAYgS,MAAZ,IAAsBppC,KAAtB;AACAq3B,OAAKe,MAAL;AACAF;AACA;;AAED,UAASmR,eAAT,CAAyBC,SAAzB,EAAoCrgB,MAApC,EAA4C;AAC3C,MAAIqgB,qBAAqB9oC,KAAzB,EAAgC62B,KAAKb,aAAL,GAAqB8S,UAAUhjC,GAAV,CAAc,UAAU6+B,CAAV,EAAa;AAC/E,UAAO9N,KAAKkB,SAAL,CAAe4M,CAAf,EAAkBlc,MAAlB,CAAP;AACA,GAFoD,CAArB,CAAhC,KAEQ,IAAIqgB,qBAAqB9H,IAArB,IAA6B,CAACrf,MAAMmnB,SAAN,CAAlC,EAAoDjS,KAAKb,aAAL,GAAqB,CAACa,KAAKkB,SAAL,CAAe+Q,SAAf,EAA0BrgB,MAA1B,CAAD,CAArB,CAApD,KAAkH,IAAIqgB,aAAaA,UAAU1T,SAA3B,EAAsC;AAC/J,WAAQyB,KAAKD,MAAL,CAAYlX,IAApB;AACC,SAAK,QAAL;AACCmX,UAAKb,aAAL,GAAqB,CAACa,KAAKkB,SAAL,CAAe+Q,SAAf,EAA0BrgB,MAA1B,CAAD,CAArB;AACA;;AAED,SAAK,UAAL;AACCoO,UAAKb,aAAL,GAAqB8S,UAAU9/B,KAAV,CAAgB,IAAhB,EAAsBlD,GAAtB,CAA0B,UAAUi1B,IAAV,EAAgB;AAC9D,aAAOlE,KAAKkB,SAAL,CAAegD,IAAf,EAAqBtS,MAArB,CAAP;AACA,MAFoB,CAArB;AAGA;;AAED,SAAK,OAAL;AACCoO,UAAKb,aAAL,GAAqB8S,UAAU9/B,KAAV,CAAgB6tB,KAAKqK,IAAL,CAAU6H,cAA1B,EAA0CjjC,GAA1C,CAA8C,UAAUi1B,IAAV,EAAgB;AAClF,aAAOlE,KAAKkB,SAAL,CAAegD,IAAf,EAAqBtS,MAArB,CAAP;AACA,MAFoB,CAArB;;AAIA;;AAED;AACC;AAnBF;AAqBA;;AAEDoO,OAAKb,aAAL,GAAqBa,KAAKb,aAAL,CAAmBtf,MAAnB,CAA0B,UAAUiuB,CAAV,EAAa;AAC3D,UAAOA,aAAa3D,IAAb,IAAqBvJ,UAAUkN,CAAV,EAAa,KAAb,CAA5B;AACA,GAFoB,CAArB;;AAIA9N,OAAKb,aAAL,CAAmBpQ,IAAnB,CAAwB,UAAU/T,CAAV,EAAahH,CAAb,EAAgB;AACvC,UAAOgH,EAAE+yB,OAAF,KAAc/5B,EAAE+5B,OAAF,EAArB;AACA,GAFD;AAGA;;AAED,UAASxO,OAAT,CAAiB2E,IAAjB,EAAuBmB,aAAvB,EAAsCzT,MAAtC,EAA8C;AAC7C,MAAIsS,SAAS,CAAT,IAAc,CAACA,IAAnB,EAAyB,OAAOlE,KAAKS,KAAL,CAAW4E,aAAX,CAAP;;AAEzB2M,kBAAgB9N,IAAhB,EAAsBtS,MAAtB;;AAEAoO,OAAKwC,aAAL,GAAqBxC,KAAKb,aAAL,CAAmB7uB,MAAnB,GAA4B,CAAjD;AACA0vB,OAAKqC,qBAAL,GAA6BrC,KAAKb,aAAL,CAAmB,CAAnB,CAA7B;;AAEAa,OAAKe,MAAL;AACAF;;AAEAP;AACAiC,cAAY8C,aAAZ;;AAEA,MAAIA,aAAJ,EAAmBvC,aAAa,QAAb;AACnB;;AAED,UAASoN,cAAT,CAAwBh+B,GAAxB,EAA6B;AAC5B,OAAK,IAAIwD,IAAIxD,IAAI5B,MAAjB,EAAyBoF,GAAzB,GAA+B;AAC9B,OAAI,OAAOxD,IAAIwD,CAAJ,CAAP,KAAkB,QAAlB,IAA8B,CAACxD,IAAIwD,CAAJ,CAAnC,EAA2CxD,IAAIwD,CAAJ,IAASsqB,KAAKkB,SAAL,CAAehvB,IAAIwD,CAAJ,CAAf,EAAuB,IAAvB,EAA6B,IAA7B,CAAT,CAA3C,KAA4F,IAAIxD,IAAIwD,CAAJ,KAAUxD,IAAIwD,CAAJ,EAAO6T,IAAjB,IAAyBrX,IAAIwD,CAAJ,EAAO4T,EAApC,EAAwC;AACnIpX,QAAIwD,CAAJ,EAAO6T,IAAP,GAAcyW,KAAKkB,SAAL,CAAehvB,IAAIwD,CAAJ,EAAO6T,IAAtB,CAAd;AACArX,QAAIwD,CAAJ,EAAO4T,EAAP,GAAY0W,KAAKkB,SAAL,CAAehvB,IAAIwD,CAAJ,EAAO4T,EAAtB,CAAZ;AACA;AACD;;AAED,SAAOpX,IAAI2N,MAAJ,CAAW,UAAU0K,CAAV,EAAa;AAC9B,UAAOA,CAAP;AACA,GAFM,CAAP,CAR4B,CAUxB;AACJ;;AAED,UAASiX,UAAT,GAAsB;AACrBxB,OAAKb,aAAL,GAAqB,EAArB;AACAa,OAAK1J,GAAL,GAAW,IAAI6T,IAAJ,EAAX;;AAEA,MAAIgI,gBAAgBnS,KAAKD,MAAL,CAAYqS,WAAZ,IAA2BpS,KAAKrC,KAAL,CAAWh1B,KAA1D;AACA,MAAIwpC,aAAJ,EAAmBH,gBAAgBG,aAAhB,EAA+BnS,KAAKD,MAAL,CAAYsO,UAA3C;;AAEnB,MAAIK,cAAc1O,KAAKb,aAAL,CAAmB7uB,MAAnB,GAA4B0vB,KAAKb,aAAL,CAAmB,CAAnB,CAA5B,GAAoDa,KAAKD,MAAL,CAAYuC,OAAZ,IAAuBtC,KAAKD,MAAL,CAAYuC,OAAZ,CAAoByL,OAApB,KAAgC/N,KAAK1J,GAA5D,GAAkE0J,KAAKD,MAAL,CAAYuC,OAA9E,GAAwFtC,KAAKD,MAAL,CAAYgE,OAAZ,IAAuB/D,KAAKD,MAAL,CAAYgE,OAAZ,CAAoBgK,OAApB,KAAgC/N,KAAK1J,GAA5D,GAAkE0J,KAAKD,MAAL,CAAYgE,OAA9E,GAAwF/D,KAAK1J,GAA3P;;AAEA0J,OAAKgH,WAAL,GAAmB0H,YAAYzH,WAAZ,EAAnB;AACAjH,OAAKkH,YAAL,GAAoBwH,YAAYvH,QAAZ,EAApB;;AAEA,MAAInH,KAAKb,aAAL,CAAmB7uB,MAAvB,EAA+B0vB,KAAKqC,qBAAL,GAA6BrC,KAAKb,aAAL,CAAmB,CAAnB,CAA7B;;AAE/Ba,OAAKkD,cAAL,GAAsBlD,KAAKD,MAAL,CAAYuC,OAAZ,KAAwBtC,KAAKD,MAAL,CAAYuC,OAAZ,CAAoBsB,QAApB,MAAkC5D,KAAKD,MAAL,CAAYuC,OAAZ,CAAoBuB,UAApB,EAAlC,IAAsE7D,KAAKD,MAAL,CAAYuC,OAAZ,CAAoB6B,UAApB,EAA9F,CAAtB;;AAEAnE,OAAK8D,cAAL,GAAsB9D,KAAKD,MAAL,CAAYgE,OAAZ,KAAwB/D,KAAKD,MAAL,CAAYgE,OAAZ,CAAoBH,QAApB,MAAkC5D,KAAKD,MAAL,CAAYgE,OAAZ,CAAoBF,UAApB,EAAlC,IAAsE7D,KAAKD,MAAL,CAAYgE,OAAZ,CAAoBI,UAApB,EAA9F,CAAtB;;AAEA36B,SAAOyK,cAAP,CAAsB+rB,IAAtB,EAA4B,uBAA5B,EAAqD;AACpD7rB,QAAK,SAASA,GAAT,GAAe;AACnB,WAAO6rB,KAAKqS,gBAAL,IAAyBrS,KAAKb,aAAL,CAAmBa,KAAKb,aAAL,CAAmB7uB,MAAnB,GAA4B,CAA/C,CAAhC;AACA,IAHmD;AAIpD4D,QAAK,SAASA,GAAT,CAAagwB,IAAb,EAAmB;AACvBlE,SAAKqS,gBAAL,GAAwBnO,IAAxB;AACA;AANmD,GAArD;;AASA,MAAI,CAAClE,KAAK2B,QAAV,EAAoB;AACnBn4B,UAAOyK,cAAP,CAAsB+rB,IAAtB,EAA4B,eAA5B,EAA6C;AAC5C7rB,SAAK,SAASA,GAAT,GAAe;AACnB,YAAO6rB,KAAKsS,cAAZ;AACA,KAH2C;AAI5Cp+B,SAAK,SAASA,GAAT,CAAaoI,IAAb,EAAmB;AACvB0jB,UAAKsS,cAAL,GAAsBh2B,IAAtB;AACA,SAAI0jB,KAAKyC,iBAAT,EAA4BiG,YAAY1I,KAAKyC,iBAAjB,EAAoC,eAApC,EAAqDnmB,IAArD;AAC5BumB;AACA;AAR2C,IAA7C;AAUA;AACD;;AAED,UAASpB,oBAAT,GAAgC;AAC/BzB,OAAKyK,KAAL,GAAa;AACZtf,aAAU;AACT2jB,SAAK;AADI,IADE;AAIZpE,mBAAgB,SAASA,cAAT,CAAwB6H,KAAxB,EAA+BC,EAA/B,EAAmC;AAClDD,YAAQ,OAAOA,KAAP,KAAiB,WAAjB,GAA+BvS,KAAKkH,YAApC,GAAmDqL,KAA3D;;AAEAC,SAAK,OAAOA,EAAP,KAAc,WAAd,GAA4BxS,KAAKgH,WAAjC,GAA+CwL,EAApD;;AAEA,QAAID,UAAU,CAAV,KAAgBC,KAAK,CAAL,KAAW,CAAX,IAAgBA,KAAK,GAAL,KAAa,CAA7B,IAAkCA,KAAK,GAAL,KAAa,CAA/D,CAAJ,EAAuE,OAAO,EAAP;;AAEvE,WAAOxS,KAAKqK,IAAL,CAAUM,WAAV,CAAsB4H,KAAtB,CAAP;AACA,IAZW;AAaZzF,eAAY,SAASA,UAAT,CAAoB2F,WAApB,EAAiC/F,SAAjC,EAA4C;AACvDA,gBAAY,OAAOA,SAAP,KAAqB,WAArB,GAAmC1M,KAAKD,MAAL,CAAY2S,qBAA/C,GAAuEhG,SAAnF;;AAEA,WAAO1M,KAAKqK,IAAL,CAAUsI,MAAV,CAAiB,CAACjG,YAAY,OAAZ,GAAsB,MAAvB,IAAiC,MAAlD,EAA0D+F,WAA1D,CAAP;AACA;AAjBW,GAAb;AAmBA;;AAED;AACA,UAASrR,YAAT,GAAwB;AACvBpB,OAAK4S,OAAL,GAAeppC,OAAOsP,MAAP,CAAcgnB,kBAAkB71B,SAAlB,CAA4B2oC,OAA1C,CAAf;AACA,GAAC,GAAD,EAAM,GAAN,EAAW,GAAX,EAAgB,GAAhB,EAAqB,GAArB,EAA0B,GAA1B,EAA+B1sB,OAA/B,CAAuC,UAAU0U,CAAV,EAAa;AACnDoF,QAAK4S,OAAL,CAAahY,CAAb,IAAkBkF,kBAAkB71B,SAAlB,CAA4B2oC,OAA5B,CAAoChY,CAApC,EAAuCnmB,IAAvC,CAA4CurB,IAA5C,CAAlB;AACA,GAFD;;AAIAA,OAAK6S,SAAL,CAAeC,CAAf,GAAmBhT,kBAAkB71B,SAAlB,CAA4B4oC,SAA5B,CAAsCC,CAAtC,CAAwCr+B,IAAxC,CAA6CurB,IAA7C,CAAnB;AACAA,OAAK6S,SAAL,CAAeE,CAAf,GAAmBjT,kBAAkB71B,SAAlB,CAA4B4oC,SAA5B,CAAsCE,CAAtC,CAAwCt+B,IAAxC,CAA6CurB,IAA7C,CAAnB;AACA;;AAED,UAASuB,WAAT,GAAuB;AACtBvB,OAAKrC,KAAL,GAAaqC,KAAKD,MAAL,CAAYiF,IAAZ,GAAmBhF,KAAK/U,OAAL,CAAa3gB,aAAb,CAA2B,cAA3B,CAAnB,GAAgE01B,KAAK/U,OAAlF;;AAEA;AACA,MAAI,CAAC+U,KAAKrC,KAAV,EAAiB,OAAO1oB,QAAQoyB,IAAR,CAAa,wCAAb,EAAuDrH,KAAKrC,KAA5D,CAAP;;AAEjBqC,OAAKrC,KAAL,CAAWuP,KAAX,GAAmBlN,KAAKrC,KAAL,CAAWnd,IAA9B;AACAwf,OAAKrC,KAAL,CAAWnd,IAAX,GAAkB,MAAlB;;AAEAwf,OAAKrC,KAAL,CAAW9R,SAAX,CAAqBhd,GAArB,CAAyB,iBAAzB;AACAmxB,OAAK0F,MAAL,GAAc1F,KAAKrC,KAAnB;;AAEA,MAAIqC,KAAKD,MAAL,CAAY8I,QAAhB,EAA0B;AACzB;AACA7I,QAAK6I,QAAL,GAAgB59B,cAAc+0B,KAAKrC,KAAL,CAAWvC,QAAzB,EAAmC4E,KAAKrC,KAAL,CAAWzS,SAAX,GAAuB,GAAvB,GAA6B8U,KAAKD,MAAL,CAAYiT,aAA5E,CAAhB;AACAhT,QAAK0F,MAAL,GAAc1F,KAAK6I,QAAnB;AACA7I,QAAK6I,QAAL,CAAc3pB,WAAd,GAA4B8gB,KAAKrC,KAAL,CAAWze,WAAvC;AACA8gB,QAAK6I,QAAL,CAAc6C,QAAd,GAAyB1L,KAAKrC,KAAL,CAAW+N,QAApC;AACA1L,QAAK6I,QAAL,CAAcoK,QAAd,GAAyBjT,KAAKrC,KAAL,CAAWsV,QAApC;AACAjT,QAAK6I,QAAL,CAAcroB,IAAd,GAAqB,MAArB;AACAwf,QAAKrC,KAAL,CAAWnd,IAAX,GAAkB,QAAlB;;AAEA,OAAI,CAACwf,KAAKD,MAAL,CAAY0F,MAAb,IAAuBzF,KAAKrC,KAAL,CAAWpwB,UAAtC,EAAkDyyB,KAAKrC,KAAL,CAAWpwB,UAAX,CAAsBD,YAAtB,CAAmC0yB,KAAK6I,QAAxC,EAAkD7I,KAAKrC,KAAL,CAAW3vB,WAA7D;AAClD;;AAED,MAAI,CAACgyB,KAAKD,MAAL,CAAYkO,UAAjB,EAA6BjO,KAAK0F,MAAL,CAAYz4B,YAAZ,CAAyB,UAAzB,EAAqC,UAArC;;AAE7B+yB,OAAK8Q,gBAAL,GAAwB9Q,KAAKD,MAAL,CAAYqP,eAAZ,IAA+BpP,KAAK0F,MAA5D;AACA;;AAED,UAAST,WAAT,GAAuB;AACtB,MAAIiO,YAAYlT,KAAKD,MAAL,CAAYqC,UAAZ,GAAyBpC,KAAKD,MAAL,CAAYoC,UAAZ,GAAyB,MAAzB,GAAkC,gBAA3D,GAA8E,MAA9F;;AAEAnC,OAAKiN,WAAL,GAAmBhiC,cAAc,OAAd,EAAuB+0B,KAAKrC,KAAL,CAAWzS,SAAX,GAAuB,mBAA9C,CAAnB;AACA8U,OAAKiN,WAAL,CAAiBte,IAAjB,GAAwB,KAAxB;AACAqR,OAAKiN,WAAL,CAAiB/E,QAAjB,GAA4B,CAA5B;AACAlI,OAAKiN,WAAL,CAAiBzsB,IAAjB,GAAwB0yB,SAAxB;AACAlT,OAAKiN,WAAL,CAAiBvB,QAAjB,GAA4B1L,KAAKrC,KAAL,CAAW+N,QAAvC;AACA1L,OAAKiN,WAAL,CAAiB/tB,WAAjB,GAA+B8gB,KAAKrC,KAAL,CAAWze,WAA1C;;AAEA8gB,OAAKmT,eAAL,GAAuBD,cAAc,gBAAd,GAAiC,eAAjC,GAAmDA,cAAc,MAAd,GAAuB,OAAvB,GAAiC,OAA3G;;AAEA,MAAIlT,KAAKb,aAAL,CAAmB7uB,MAAvB,EAA+B;AAC9B0vB,QAAKiN,WAAL,CAAiBmG,YAAjB,GAAgCpT,KAAKiN,WAAL,CAAiBtkC,KAAjB,GAAyBq3B,KAAKmB,UAAL,CAAgBnB,KAAKb,aAAL,CAAmB,CAAnB,CAAhB,EAAuCa,KAAKmT,eAA5C,CAAzD;AACA;;AAED,MAAInT,KAAKD,MAAL,CAAYuC,OAAhB,EAAyBtC,KAAKiN,WAAL,CAAiBvkB,GAAjB,GAAuBsX,KAAKmB,UAAL,CAAgBnB,KAAKD,MAAL,CAAYuC,OAA5B,EAAqC,OAArC,CAAvB;;AAEzB,MAAItC,KAAKD,MAAL,CAAYgE,OAAhB,EAAyB/D,KAAKiN,WAAL,CAAiBtkB,GAAjB,GAAuBqX,KAAKmB,UAAL,CAAgBnB,KAAKD,MAAL,CAAYgE,OAA5B,EAAqC,OAArC,CAAvB;;AAEzB/D,OAAKrC,KAAL,CAAWnd,IAAX,GAAkB,QAAlB;AACA,MAAIwf,KAAKD,MAAL,CAAY8I,QAAhB,EAA0B7I,KAAK6I,QAAL,CAAcroB,IAAd,GAAqB,QAArB;;AAE1B,MAAI;AACHwf,QAAKrC,KAAL,CAAWpwB,UAAX,CAAsBD,YAAtB,CAAmC0yB,KAAKiN,WAAxC,EAAqDjN,KAAKrC,KAAL,CAAW3vB,WAAhE;AACA,GAFD,CAEE,OAAOmL,CAAP,EAAU;AACX;AACA;;AAED6mB,OAAKiN,WAAL,CAAiB5yB,gBAAjB,CAAkC,QAAlC,EAA4C,UAAUlB,CAAV,EAAa;AACxD6mB,QAAKT,OAAL,CAAapmB,EAAEI,MAAF,CAAS5Q,KAAtB,EAA6B,KAA7B,EAAoCq3B,KAAKmT,eAAzC;AACArQ,gBAAa,QAAb;AACAA,gBAAa,OAAb;AACA,GAJD;AAKA;;AAED,UAAS9B,MAAT,GAAkB;AACjB,MAAIhB,KAAK0B,MAAT,EAAiB,OAAO1B,KAAKU,KAAL,EAAP;AACjBV,OAAKc,IAAL;AACA;;AAED,UAASgC,YAAT,CAAsBzrB,KAAtB,EAA6B9C,IAA7B,EAAmC;AAClC,MAAIm7B,QAAQ1P,KAAKD,MAAL,CAAY,OAAO1oB,KAAnB,CAAZ;;AAEA,MAAIq4B,UAAU3nC,SAAV,IAAuB2nC,MAAMp/B,MAAN,GAAe,CAA1C,EAA6C;AAC5C,QAAK,IAAIoF,IAAI,CAAb,EAAgBg6B,MAAMh6B,CAAN,KAAYA,IAAIg6B,MAAMp/B,MAAtC,EAA8CoF,GAA9C,EAAmD;AAClDg6B,UAAMh6B,CAAN,EAASsqB,KAAKb,aAAd,EAA6Ba,KAAKrC,KAAL,CAAWh1B,KAAxC,EAA+Cq3B,IAA/C,EAAqDzrB,IAArD;AACA;AACD;;AAED,MAAI8C,UAAU,QAAd,EAAwB;AACvB2oB,QAAKrC,KAAL,CAAW8J,aAAX,CAAyBD,YAAY,QAAZ,CAAzB;;AAEA;AACAxH,QAAKrC,KAAL,CAAW8J,aAAX,CAAyBD,YAAY,OAAZ,CAAzB;AACA;AACD;;AAED;;;;;AAKA,UAASA,WAAT,CAAqBz8B,IAArB,EAA2B;AAC1B,MAAIi1B,KAAKqT,eAAT,EAA0B,OAAO,IAAIC,KAAJ,CAAUvoC,IAAV,EAAgB,EAAEwoC,SAAS,IAAX,EAAhB,CAAP;;AAE1BvT,OAAKlqB,CAAL,CAAO/K,OAAO,OAAd,IAAyBvC,SAASg/B,WAAT,CAAqB,OAArB,CAAzB;AACAxH,OAAKlqB,CAAL,CAAO/K,OAAO,OAAd,EAAuByoC,SAAvB,CAAiCzoC,IAAjC,EAAuC,IAAvC,EAA6C,IAA7C;AACA,SAAOi1B,KAAKlqB,CAAL,CAAO/K,OAAO,OAAd,CAAP;AACA;;AAED,UAASu+B,cAAT,CAAwBpF,IAAxB,EAA8B;AAC7B,OAAK,IAAIxuB,IAAI,CAAb,EAAgBA,IAAIsqB,KAAKb,aAAL,CAAmB7uB,MAAvC,EAA+CoF,GAA/C,EAAoD;AACnD,OAAI0qB,aAAaJ,KAAKb,aAAL,CAAmBzpB,CAAnB,CAAb,EAAoCwuB,IAApC,MAA8C,CAAlD,EAAqD,OAAO,KAAKxuB,CAAZ;AACrD;;AAED,SAAO,KAAP;AACA;;AAED,UAASg0B,aAAT,CAAuBxF,IAAvB,EAA6B;AAC5B,MAAIlE,KAAKD,MAAL,CAAYlX,IAAZ,KAAqB,OAArB,IAAgCmX,KAAKb,aAAL,CAAmB7uB,MAAnB,GAA4B,CAAhE,EAAmE,OAAO,KAAP;AACnE,SAAO8vB,aAAa8D,IAAb,EAAmBlE,KAAKb,aAAL,CAAmB,CAAnB,CAAnB,KAA6C,CAA7C,IAAkDiB,aAAa8D,IAAb,EAAmBlE,KAAKb,aAAL,CAAmB,CAAnB,CAAnB,KAA6C,CAAtG;AACA;;AAED,UAAS6L,4BAAT,GAAwC;AACvC,MAAIhL,KAAKD,MAAL,CAAYoC,UAAZ,IAA0BnC,KAAK2B,QAA/B,IAA2C,CAAC3B,KAAK8F,QAArD,EAA+D;;AAE/D9F,OAAKsL,mBAAL,CAAyB3H,WAAzB,GAAuC3D,KAAKyK,KAAL,CAAWqC,UAAX,CAAsB9M,KAAKkH,YAA3B,IAA2C,GAAlF;AACAlH,OAAKyE,kBAAL,CAAwB97B,KAAxB,GAAgCq3B,KAAKgH,WAArC;;AAEAhH,OAAK8K,mBAAL,GAA2B9K,KAAKD,MAAL,CAAYuC,OAAZ,KAAwBtC,KAAKgH,WAAL,KAAqBhH,KAAKD,MAAL,CAAYuC,OAAZ,CAAoB2E,WAApB,EAArB,GAAyDjH,KAAKkH,YAAL,IAAqBlH,KAAKD,MAAL,CAAYuC,OAAZ,CAAoB6E,QAApB,EAA9E,GAA+GnH,KAAKgH,WAAL,GAAmBhH,KAAKD,MAAL,CAAYuC,OAAZ,CAAoB2E,WAApB,EAA1J,CAA3B;;AAEAjH,OAAK+K,mBAAL,GAA2B/K,KAAKD,MAAL,CAAYgE,OAAZ,KAAwB/D,KAAKgH,WAAL,KAAqBhH,KAAKD,MAAL,CAAYgE,OAAZ,CAAoBkD,WAApB,EAArB,GAAyDjH,KAAKkH,YAAL,GAAoB,CAApB,GAAwBlH,KAAKD,MAAL,CAAYgE,OAAZ,CAAoBoD,QAApB,EAAjF,GAAkHnH,KAAKgH,WAAL,GAAmBhH,KAAKD,MAAL,CAAYgE,OAAZ,CAAoBkD,WAApB,EAA7J,CAA3B;AACA;;AAED;;;;AAIA,UAAS1E,WAAT,CAAqB8C,aAArB,EAAoC;AACnC,MAAI,CAACrF,KAAKb,aAAL,CAAmB7uB,MAAxB,EAAgC,OAAO0vB,KAAKS,KAAL,CAAW4E,aAAX,CAAP;;AAEhC,MAAIrF,KAAK2B,QAAT,EAAmB;AAClB3B,QAAKiN,WAAL,CAAiBtkC,KAAjB,GAAyBq3B,KAAKb,aAAL,CAAmB7uB,MAAnB,GAA4B0vB,KAAKmB,UAAL,CAAgBnB,KAAKqC,qBAArB,EAA4CrC,KAAKmT,eAAjD,CAA5B,GAAgG,EAAzH;AACA;;AAED,MAAIM,WAAWzT,KAAKD,MAAL,CAAYlX,IAAZ,KAAqB,OAArB,GAA+B,IAA/B,GAAsCmX,KAAKqK,IAAL,CAAU6H,cAA/D;;AAEAlS,OAAKrC,KAAL,CAAWh1B,KAAX,GAAmBq3B,KAAKb,aAAL,CAAmBlwB,GAAnB,CAAuB,UAAUykC,IAAV,EAAgB;AACzD,UAAO1T,KAAKmB,UAAL,CAAgBuS,IAAhB,EAAsB1T,KAAKD,MAAL,CAAYsO,UAAlC,CAAP;AACA,GAFkB,EAEhBj/B,IAFgB,CAEXqkC,QAFW,CAAnB;;AAIA,MAAIzT,KAAKD,MAAL,CAAY8I,QAAhB,EAA0B;AACzB7I,QAAK6I,QAAL,CAAclgC,KAAd,GAAsBq3B,KAAKb,aAAL,CAAmBlwB,GAAnB,CAAuB,UAAUykC,IAAV,EAAgB;AAC5D,WAAO1T,KAAKmB,UAAL,CAAgBuS,IAAhB,EAAsB1T,KAAKD,MAAL,CAAYqO,SAAlC,CAAP;AACA,IAFqB,EAEnBh/B,IAFmB,CAEdqkC,QAFc,CAAtB;AAGA;;AAED,MAAIpO,kBAAkB,KAAtB,EAA6BvC,aAAa,aAAb;AAC7B;;AAED,UAAS6Q,UAAT,CAAoBx6B,CAApB,EAAuB;AACtB,SAAOyQ,KAAKjB,GAAL,CAAS,CAAC,CAAV,EAAaiB,KAAKlB,GAAL,CAAS,CAAT,EAAYvP,EAAEy6B,UAAF,IAAgB,CAACz6B,EAAE06B,MAA/B,CAAb,CAAP;AACA;;AAED,UAAS9N,gBAAT,CAA0B5sB,CAA1B,EAA6B;AAC5BA,IAAEsQ,cAAF;AACA,MAAIqqB,SAAS9T,KAAKyE,kBAAL,CAAwBl3B,UAAxB,CAAmC6K,QAAnC,CAA4Ce,EAAEI,MAA9C,CAAb;;AAEA,MAAIJ,EAAEI,MAAF,KAAaymB,KAAKsL,mBAAlB,IAAyCwI,MAA7C,EAAqD;;AAEpD,OAAItP,QAAQmP,WAAWx6B,CAAX,CAAZ;;AAEA,OAAI26B,MAAJ,EAAY;AACXtT,eAAWR,KAAKgH,WAAL,GAAmBxC,KAA9B;AACArrB,MAAEI,MAAF,CAAS5Q,KAAT,GAAiBq3B,KAAKgH,WAAtB;AACA,IAHD,MAGOhH,KAAKO,WAAL,CAAiBiE,KAAjB,EAAwB,IAAxB,EAA8B,KAA9B;AACP;AACD;;AAED,UAASwB,eAAT,CAAyB7sB,CAAzB,EAA4B;AAC3B,MAAI46B,cAAc/T,KAAKoL,YAAL,CAAkBhzB,QAAlB,CAA2Be,EAAEI,MAA7B,CAAlB;AACA,MAAIy6B,cAAchU,KAAK2L,YAAL,CAAkBvzB,QAAlB,CAA2Be,EAAEI,MAA7B,CAAlB;;AAEA,MAAIw6B,eAAeC,WAAnB,EAAgCzT,YAAYwT,cAAc,CAAC,CAAf,GAAmB,CAA/B,EAAhC,KAAuE,IAAI56B,EAAEI,MAAF,KAAaymB,KAAKyE,kBAAtB,EAA0C;AAChHtrB,KAAEsQ,cAAF;AACAuW,QAAKyE,kBAAL,CAAwB7iB,MAAxB;AACA,GAHsE,MAGhE,IAAIzI,EAAEI,MAAF,CAAS2R,SAAT,KAAuB,SAA3B,EAAsC8U,KAAKQ,UAAL,CAAgBR,KAAKgH,WAAL,GAAmB,CAAnC,EAAtC,KAAiF,IAAI7tB,EAAEI,MAAF,CAAS2R,SAAT,KAAuB,WAA3B,EAAwC8U,KAAKQ,UAAL,CAAgBR,KAAKgH,WAAL,GAAmB,CAAnC;AAChI;;AAED;;;;;;;AAOA,UAAS/7B,aAAT,CAAuBgP,GAAvB,EAA4BiR,SAA5B,EAAuC+oB,OAAvC,EAAgD;AAC/C,MAAI96B,IAAIrR,OAAOU,QAAP,CAAgByC,aAAhB,CAA8BgP,GAA9B,CAAR;AACAiR,cAAYA,aAAa,EAAzB;AACA+oB,YAAUA,WAAW,EAArB;;AAEA96B,IAAE+R,SAAF,GAAcA,SAAd;;AAEA,MAAI+oB,YAAYlsC,SAAhB,EAA2BoR,EAAEwqB,WAAF,GAAgBsQ,OAAhB;;AAE3B,SAAO96B,CAAP;AACA;;AAED,UAASo3B,QAAT,CAAkBlnC,GAAlB,EAAuB;AACtB,MAAIA,eAAeF,KAAnB,EAA0B,OAAOE,GAAP;AAC1B,SAAO,CAACA,GAAD,CAAP;AACA;;AAED,UAASq/B,WAAT,CAAqB7lB,IAArB,EAA2BqI,SAA3B,EAAsC5O,IAAtC,EAA4C;AAC3C,MAAIA,IAAJ,EAAU,OAAOuG,KAAKgJ,SAAL,CAAehd,GAAf,CAAmBqc,SAAnB,CAAP;AACVrI,OAAKgJ,SAAL,CAAexN,MAAf,CAAsB6M,SAAtB;AACA;;AAED;AACA,UAASia,QAAT,CAAkB+O,IAAlB,EAAwBC,IAAxB,EAA8BC,SAA9B,EAAyC;AACxC,MAAIC,UAAU,KAAK,CAAnB;AACA,SAAO,YAAY;AAClB,OAAIxmC,UAAU,IAAd;AAAA,OACImK,OAAOJ,SADX;AAEA08B,gBAAaD,OAAb;AACAA,aAAUhpB,WAAW,YAAY;AAChCgpB,cAAU,IAAV;AACA,QAAI,CAACD,SAAL,EAAgBF,KAAKv8B,KAAL,CAAW9J,OAAX,EAAoBmK,IAApB;AAChB,IAHS,EAGPm8B,IAHO,CAAV;AAIA,OAAIC,aAAa,CAACC,OAAlB,EAA2BH,KAAKv8B,KAAL,CAAW9J,OAAX,EAAoBmK,IAApB;AAC3B,GATD;AAUA;;AAED;;;;;;;AAOA,UAASooB,YAAT,CAAsBmU,KAAtB,EAA6BC,KAA7B,EAAoC5G,QAApC,EAA8C;AAC7C,MAAI,EAAE2G,iBAAiBpK,IAAnB,KAA4B,EAAEqK,iBAAiBrK,IAAnB,CAAhC,EAA0D,OAAO,KAAP;;AAE1D,MAAIyD,aAAa,KAAjB,EAAwB;AACvB,UAAO,IAAIzD,IAAJ,CAASoK,MAAMxG,OAAN,EAAT,EAA0B/J,QAA1B,CAAmC,CAAnC,EAAsC,CAAtC,EAAyC,CAAzC,EAA4C,CAA5C,IAAiD,IAAImG,IAAJ,CAASqK,MAAMzG,OAAN,EAAT,EAA0B/J,QAA1B,CAAmC,CAAnC,EAAsC,CAAtC,EAAyC,CAAzC,EAA4C,CAA5C,CAAxD;AACA;;AAED,SAAOuQ,MAAMxG,OAAN,KAAkByG,MAAMzG,OAAN,EAAzB;AACA;;AAED,UAAS9K,WAAT,CAAqB9pB,CAArB,EAAwB;AACvBA,IAAEsQ,cAAF;;AAEA,MAAIgrB,YAAYt7B,EAAEqH,IAAF,KAAW,SAA3B;AAAA,MACIk0B,UAAUv7B,EAAEqH,IAAF,KAAW,OADzB;AAAA,MAEIm0B,cAAcx7B,EAAEqH,IAAF,KAAW,WAF7B;AAAA,MAGImd,QAAQxkB,EAAEI,MAHd;;AAKA,MAAIymB,KAAKsD,IAAL,IAAanqB,EAAEI,MAAF,KAAaymB,KAAKsD,IAAnC,EAAyC,OAAOnqB,EAAEI,MAAF,CAASoqB,WAAT,GAAuB,CAAC,IAAD,EAAO,IAAP,EAAaxqB,EAAEI,MAAF,CAASoqB,WAAT,KAAyB,IAAzB,GAAgC,CAA7C,CAA9B;;AAEzC,MAAIjb,MAAM+F,OAAOkP,MAAMjV,GAAb,CAAV;AAAA,MACIC,MAAM8F,OAAOkP,MAAMhV,GAAb,CADV;AAAA,MAEIgG,OAAOF,OAAOkP,MAAMhP,IAAb,CAFX;AAAA,MAGIimB,WAAWvR,SAAS1F,MAAMh1B,KAAf,EAAsB,EAAtB,CAHf;AAAA,MAII67B,QAAQrrB,EAAEqrB,KAAF,KAAY,CAACiQ,SAAD,GAAa7qB,KAAKjB,GAAL,CAAS,CAAC,CAAV,EAAaiB,KAAKlB,GAAL,CAAS,CAAT,EAAYvP,EAAEy6B,UAAF,IAAgB,CAACz6B,EAAE06B,MAA/B,CAAb,KAAwD,CAArE,GAAyE16B,EAAEM,KAAF,KAAY,EAAZ,GAAiB,CAAjB,GAAqB,CAAC,CAA3G,CAJZ;;AAMA,MAAIo7B,WAAWD,WAAWjmB,OAAO6V,KAAjC;;AAEA,MAAI,OAAO7G,MAAMh1B,KAAb,KAAuB,WAAvB,IAAsCg1B,MAAMh1B,KAAN,CAAY2H,MAAZ,KAAuB,CAAjE,EAAoE;AACnE,OAAIwkC,aAAanX,UAAUqC,KAAKX,WAAhC;AAAA,OACI0V,eAAepX,UAAUqC,KAAKV,aADlC;;AAGA,OAAIuV,WAAWnsB,GAAf,EAAoB;AACnBmsB,eAAWlsB,MAAMksB,QAAN,GAAiB,CAACC,UAAlB,IAAgCA,cAAc,CAAC9U,KAAKsD,IAApD,CAAX;;AAEA,QAAIyR,YAAJ,EAAkBzN,kBAAkB,IAAlB,EAAwB,CAAC,CAAzB,EAA4BtH,KAAKX,WAAjC;AAClB,IAJD,MAIO,IAAIwV,WAAWlsB,GAAf,EAAoB;AAC1BksB,eAAWlX,UAAUqC,KAAKX,WAAf,GAA6BwV,WAAWlsB,GAAX,GAAiB,CAACqX,KAAKsD,IAApD,GAA2D5a,GAAtE;;AAEA,QAAIqsB,YAAJ,EAAkBzN,kBAAkB,IAAlB,EAAwB,CAAxB,EAA2BtH,KAAKX,WAAhC;AAClB;;AAED,OAAIW,KAAKsD,IAAL,IAAawR,UAAb,KAA4BnmB,SAAS,CAAT,GAAakmB,WAAWD,QAAX,KAAwB,EAArC,GAA0ChrB,KAAKuD,GAAL,CAAS0nB,WAAWD,QAApB,IAAgCjmB,IAAtG,CAAJ,EAAiHqR,KAAKsD,IAAL,CAAUK,WAAV,GAAwB3D,KAAKsD,IAAL,CAAUK,WAAV,KAA0B,IAA1B,GAAiC,IAAjC,GAAwC,IAAhE;;AAEjHhG,SAAMh1B,KAAN,GAAcq3B,KAAKoE,GAAL,CAASyQ,QAAT,CAAd;AACA;AACD;;AAED/3B;AACA,QAAOkjB,IAAP;AACA;;AAEDF,kBAAkB71B,SAAlB,GAA8B;AAC7B2oC,UAAS;AACR;AACAoC,KAAG,SAASA,CAAT,CAAW9Q,IAAX,EAAiB;AACnB,UAAOA,KAAK+Q,WAAL,EAAP;AACA,GAJO;;AAMR;AACAC,KAAG,SAASA,CAAT,CAAWhR,IAAX,EAAiB;AACnB,UAAO,KAAKmG,IAAL,CAAUoC,QAAV,CAAmBC,SAAnB,CAA6B,KAAKkG,OAAL,CAAajjC,CAAb,CAAeu0B,IAAf,CAA7B,CAAP;AACA,GATO;;AAWR;AACA4O,KAAG,SAASA,CAAT,CAAW5O,IAAX,EAAiB;AACnB,UAAO,KAAKuG,KAAL,CAAWqC,UAAX,CAAsB,KAAK8F,OAAL,CAAaxkB,CAAb,CAAe8V,IAAf,IAAuB,CAA7C,EAAgD,KAAhD,CAAP;AACA,GAdO;;AAgBR;AACAiR,KAAG,SAASA,CAAT,CAAWjR,IAAX,EAAiB;AACnB,UAAOpE,kBAAkB71B,SAAlB,CAA4Bm6B,GAA5B,CAAgCtE,kBAAkB71B,SAAlB,CAA4B2oC,OAA5B,CAAoCpV,CAApC,CAAsC0G,IAAtC,CAAhC,CAAP;AACA,GAnBO;;AAqBR;AACAkR,KAAG,SAASA,CAAT,CAAWlR,IAAX,EAAiB;AACnB,UAAOpE,kBAAkB71B,SAAlB,CAA4Bm6B,GAA5B,CAAgCF,KAAKN,QAAL,EAAhC,CAAP;AACA,GAxBO;;AA0BR;AACAyR,KAAG,SAASA,CAAT,CAAWnR,IAAX,EAAiB;AACnB,UAAOA,KAAKgF,OAAL,KAAiB,KAAKmB,IAAL,CAAUiL,OAAV,CAAkBpR,KAAKgF,OAAL,EAAlB,CAAxB;AACA,GA7BO;;AA+BR;AACAqM,KAAG,SAASA,CAAT,CAAWrR,IAAX,EAAiB;AACnB,UAAOA,KAAKN,QAAL,KAAkB,EAAlB,GAAuB,IAAvB,GAA8B,IAArC;AACA,GAlCO;;AAoCR;AACAmP,KAAG,SAASA,CAAT,CAAW7O,IAAX,EAAiB;AACnB,UAAO,KAAKuG,KAAL,CAAWqC,UAAX,CAAsB5I,KAAKiD,QAAL,EAAtB,EAAuC,IAAvC,CAAP;AACA,GAvCO;;AAyCR;AACAqO,KAAG,SAASA,CAAT,CAAWtR,IAAX,EAAiB;AACnB,UAAOpE,kBAAkB71B,SAAlB,CAA4Bm6B,GAA5B,CAAgCF,KAAKC,UAAL,EAAhC,CAAP;AACA,GA5CO;;AA8CR;AACAsR,KAAG,SAASA,CAAT,CAAWvR,IAAX,EAAiB;AACnB,UAAOA,KAAK6J,OAAL,KAAiB,IAAxB;AACA,GAjDO;;AAmDR2H,KAAG,SAASA,CAAT,CAAWxR,IAAX,EAAiB;AACnB,UAAO,KAAKnE,MAAL,CAAY6J,OAAZ,CAAoB1F,IAApB,CAAP;AACA,GArDO;;AAuDR;AACAyR,KAAG,SAASA,CAAT,CAAWzR,IAAX,EAAiB;AACnB,UAAOA,KAAK+C,WAAL,EAAP;AACA,GA1DO;;AA4DR;AACA6G,KAAG,SAASA,CAAT,CAAW5J,IAAX,EAAiB;AACnB,UAAOpE,kBAAkB71B,SAAlB,CAA4Bm6B,GAA5B,CAAgCF,KAAKgF,OAAL,EAAhC,CAAP;AACA,GA/DO;;AAiER;AACA1L,KAAG,SAASA,CAAT,CAAW0G,IAAX,EAAiB;AACnB,UAAOA,KAAKN,QAAL,KAAkB,EAAlB,GAAuBM,KAAKN,QAAL,KAAkB,EAAzC,GAA8C,EAArD;AACA,GApEO;;AAsER;AACAluB,KAAG,SAASA,CAAT,CAAWwuB,IAAX,EAAiB;AACnB,UAAOpE,kBAAkB71B,SAAlB,CAA4Bm6B,GAA5B,CAAgCF,KAAKL,UAAL,EAAhC,CAAP;AACA,GAzEO;;AA2ER;AACAluB,KAAG,SAASA,CAAT,CAAWuuB,IAAX,EAAiB;AACnB,UAAOA,KAAKgF,OAAL,EAAP;AACA,GA9EO;;AAgFR;AACA3L,KAAG,SAASA,CAAT,CAAW2G,IAAX,EAAiB;AACnB,UAAO,KAAKmG,IAAL,CAAUoC,QAAV,CAAmBmJ,QAAnB,CAA4B1R,KAAKkG,MAAL,EAA5B,CAAP;AACA,GAnFO;;AAqFR;AACA18B,KAAG,SAASA,CAAT,CAAWw2B,IAAX,EAAiB;AACnB,UAAOpE,kBAAkB71B,SAAlB,CAA4Bm6B,GAA5B,CAAgCF,KAAKiD,QAAL,KAAkB,CAAlD,CAAP;AACA,GAxFO;;AA0FR;AACA/Y,KAAG,SAASA,CAAT,CAAW8V,IAAX,EAAiB;AACnB,UAAOA,KAAKiD,QAAL,KAAkB,CAAzB;AACA,GA7FO;;AA+FR;AACAz3B,KAAG,SAASA,CAAT,CAAWw0B,IAAX,EAAiB;AACnB,UAAOA,KAAKC,UAAL,EAAP;AACA,GAlGO;;AAoGR;AACAx0B,KAAG,SAASA,CAAT,CAAWu0B,IAAX,EAAiB;AACnB,UAAOA,KAAKkG,MAAL,EAAP;AACA,GAvGO;;AAyGR;AACA3f,KAAG,SAASA,CAAT,CAAWyZ,IAAX,EAAiB;AACnB,UAAOvY,OAAOuY,KAAK+C,WAAL,EAAP,EAA2B1I,SAA3B,CAAqC,CAArC,CAAP;AACA;AA5GO,EADoB;;AAgH7B;;;;;;AAMA4C,aAAY,SAASA,UAAT,CAAoB8C,OAApB,EAA6B4R,IAA7B,EAAmC;AAC9C,MAAIC,QAAQ,IAAZ;;AAEA,MAAI,KAAK/V,MAAL,KAAgBh4B,SAAhB,IAA6B,KAAKg4B,MAAL,CAAYoB,UAAZ,KAA2Bp5B,SAA5D,EAAuE,OAAO,KAAKg4B,MAAL,CAAYoB,UAAZ,CAAuB8C,OAAvB,EAAgC4R,IAAhC,CAAP;;AAEvE,SAAOA,KAAK1jC,KAAL,CAAW,EAAX,EAAelD,GAAf,CAAmB,UAAUsB,CAAV,EAAamF,CAAb,EAAgBxD,GAAhB,EAAqB;AAC9C,UAAO4jC,MAAMlD,OAAN,CAAcriC,CAAd,KAAoB2B,IAAIwD,IAAI,CAAR,MAAe,IAAnC,GAA0CogC,MAAMlD,OAAN,CAAcriC,CAAd,EAAiB0zB,OAAjB,CAA1C,GAAsE1zB,MAAM,IAAN,GAAaA,CAAb,GAAiB,EAA9F;AACA,GAFM,EAEJnB,IAFI,CAEC,EAFD,CAAP;AAGA,EA9H4B;;AAiI7ByjC,YAAW;AACVqC,KAAG,SAASA,CAAT,GAAa,CAAE,CADR;AAEVpC,KAAG,SAASA,CAAT,CAAW7O,OAAX,EAAoB8R,SAApB,EAA+B;AACjC9R,WAAQ+R,QAAR,CAAiB,KAAK3L,IAAL,CAAUsI,MAAV,CAAiBiD,QAAjB,CAA0BplC,OAA1B,CAAkCulC,SAAlC,CAAjB;AACA,GAJS;AAKVZ,KAAG,SAASA,CAAT,CAAWlR,OAAX,EAAoBgS,IAApB,EAA0B;AAC5BhS,WAAQD,QAAR,CAAiB1b,WAAW2tB,IAAX,CAAjB;AACA,GAPS;AAQVb,KAAG,SAASA,CAAT,CAAWnR,OAAX,EAAoBgS,IAApB,EAA0B;AAC5BhS,WAAQD,QAAR,CAAiB1b,WAAW2tB,IAAX,CAAjB;AACA,GAVS;AAWVZ,KAAG,SAASA,CAAT,CAAWpR,OAAX,EAAoBiS,GAApB,EAAyB;AAC3BjS,WAAQ1E,OAAR,CAAgBjX,WAAW4tB,GAAX,CAAhB;AACA,GAbS;AAcVX,KAAG,SAASA,CAAT,CAAWtR,OAAX,EAAoBX,IAApB,EAA0B;AAC5B,OAAIF,QAAQa,QAAQL,QAAR,EAAZ;;AAEA,OAAIR,UAAU,EAAd,EAAkBa,QAAQD,QAAR,CAAiBZ,QAAQ,EAAR,GAAa,KAAK,MAAMx6B,IAAN,CAAW06B,IAAX,CAAnC;AAClB,GAlBS;AAmBVyP,KAAG,SAASA,CAAT,CAAW9O,OAAX,EAAoBkS,UAApB,EAAgC;AAClClS,WAAQ+R,QAAR,CAAiB,KAAK3L,IAAL,CAAUsI,MAAV,CAAiBjG,SAAjB,CAA2Bl8B,OAA3B,CAAmC2lC,UAAnC,CAAjB;AACA,GArBS;AAsBVX,KAAG,SAASA,CAAT,CAAWvR,OAAX,EAAoBT,OAApB,EAA6B;AAC/BS,WAAQmS,UAAR,CAAmB5S,OAAnB;AACA,GAxBS;AAyBViS,KAAG,SAASA,CAAT,CAAWxR,OAAX,EAAoBoS,WAApB,EAAiC;AACnC,UAAO,IAAIlM,IAAJ,CAAS7hB,WAAW+tB,WAAX,IAA0B,IAAnC,CAAP;AACA,GA3BS;;AA6BVX,KAAG,SAASA,CAAT,CAAWzR,OAAX,EAAoBqS,UAApB,EAAgC;AAClCA,gBAAajT,SAASiT,UAAT,CAAb;AACA,UAAO,IAAInM,IAAJ,CAASlG,QAAQgD,WAAR,EAAT,EAAgC,CAAhC,EAAmC,IAAI,CAACqP,aAAa,CAAd,IAAmB,CAA1D,EAA6D,CAA7D,EAAgE,CAAhE,EAAmE,CAAnE,EAAsE,CAAtE,EAAyE,CAAzE,CAAP;AACA,GAhCS;AAiCVX,KAAG,SAASA,CAAT,CAAW1R,OAAX,EAAoBM,IAApB,EAA0B;AAC5BN,WAAQsS,WAAR,CAAoBhS,IAApB;AACA,GAnCS;AAoCVyQ,KAAG,SAASA,CAAT,CAAW/Q,OAAX,EAAoBuS,OAApB,EAA6B;AAC/B,UAAO,IAAIrM,IAAJ,CAASqM,OAAT,CAAP;AACA,GAtCS;;AAwCV1I,KAAG,SAASA,CAAT,CAAW7J,OAAX,EAAoBiS,GAApB,EAAyB;AAC3BjS,WAAQ1E,OAAR,CAAgBjX,WAAW4tB,GAAX,CAAhB;AACA,GA1CS;AA2CV1Y,KAAG,SAASA,CAAT,CAAWyG,OAAX,EAAoBgS,IAApB,EAA0B;AAC5BhS,WAAQD,QAAR,CAAiB1b,WAAW2tB,IAAX,CAAjB;AACA,GA7CS;AA8CVvgC,KAAG,SAASA,CAAT,CAAWuuB,OAAX,EAAoBV,OAApB,EAA6B;AAC/BU,WAAQwS,UAAR,CAAmBnuB,WAAWib,OAAX,CAAnB;AACA,GAhDS;AAiDV5tB,KAAG,SAASA,CAAT,CAAWsuB,OAAX,EAAoBiS,GAApB,EAAyB;AAC3BjS,WAAQ1E,OAAR,CAAgBjX,WAAW4tB,GAAX,CAAhB;AACA,GAnDS;AAoDV3Y,KAAG,SAASA,CAAT,GAAa,CAAE,CApDR;AAqDV7vB,KAAG,SAASA,CAAT,CAAWu2B,OAAX,EAAoBsO,KAApB,EAA2B;AAC7BtO,WAAQ+R,QAAR,CAAiB1tB,WAAWiqB,KAAX,IAAoB,CAArC;AACA,GAvDS;AAwDVnkB,KAAG,SAASA,CAAT,CAAW6V,OAAX,EAAoBsO,KAApB,EAA2B;AAC7BtO,WAAQ+R,QAAR,CAAiB1tB,WAAWiqB,KAAX,IAAoB,CAArC;AACA,GA1DS;AA2DV7iC,KAAG,SAASA,CAAT,CAAWu0B,OAAX,EAAoBT,OAApB,EAA6B;AAC/BS,WAAQmS,UAAR,CAAmB9tB,WAAWkb,OAAX,CAAnB;AACA,GA7DS;AA8DV7zB,KAAG,SAASA,CAAT,GAAa,CAAE,CA9DR;AA+DV8a,KAAG,SAASA,CAAT,CAAWwZ,OAAX,EAAoBM,IAApB,EAA0B;AAC5BN,WAAQsS,WAAR,CAAoB,OAAOjuB,WAAWic,IAAX,CAA3B;AACA;AAjES,EAjIkB;;AAqM7BmS,aAAY;AACXxB,KAAG,QADQ;AAEXpC,KAAG,QAFQ;AAGXqC,KAAG,cAHQ;AAIXC,KAAG,cAJQ;AAKXC,KAAG,kBALQ;AAMXE,KAAG,2BANQ;AAOXxC,KAAG,QAPQ;AAQXyC,KAAG,cARQ;AASXC,KAAG,MATQ;AAUXC,KAAG,cAVQ;AAWXC,KAAG,UAXQ;AAYXX,KAAG,MAZQ;AAaXlH,KAAG,cAbQ;AAcXtQ,KAAG,cAdQ;AAeX9nB,KAAG,cAfQ;AAgBXC,KAAG,cAhBQ;AAiBX4nB,KAAG,QAjBQ;AAkBX7vB,KAAG,cAlBQ;AAmBX0gB,KAAG,cAnBQ;AAoBX1e,KAAG,cApBQ;AAqBXC,KAAG,cArBQ;AAsBX8a,KAAG;AAtBQ,EArMiB;;AA8N7B2Z,MAAK,SAASA,GAAT,CAAauS,MAAb,EAAqB;AACzB,SAAO,CAAC,MAAMA,MAAP,EAAezsC,KAAf,CAAqB,CAAC,CAAtB,CAAP;AACA,EAhO4B;;AAkO7B;;;;;;;AAOAg3B,YAAW,SAASA,SAAT,CAAmBgD,IAAnB,EAAyB0S,WAAzB,EAAsChJ,QAAtC,EAAgD;AAC1D,MAAI1J,SAAS,CAAT,IAAc,CAACA,IAAnB,EAAyB,OAAO,IAAP;;AAEzB,MAAI2S,YAAY3S,IAAhB;;AAEA,MAAIA,gBAAgBiG,IAApB,EAA0BjG,OAAO,IAAIiG,IAAJ,CAASjG,KAAK6J,OAAL,EAAT,CAAP,CAA1B,CAA2D;;AAA3D,OAEK,IAAI7J,KAAKxV,OAAL,KAAiB3mB,SAArB,EAAgC;AACnCm8B,WAAO,IAAIiG,IAAJ,CAASjG,IAAT,CAAP,CADG,KACwB;AAC3B;AACA,QAAItS,SAASglB,eAAe,CAAC,KAAK7W,MAAL,IAAe4P,UAAUC,aAA1B,EAAyCvB,UAArE;AACAnK,WAAOvY,OAAOuY,IAAP,EAAavwB,IAAb,EAAP;;AAEA,QAAIuwB,SAAS,OAAb,EAAsB;AACrBA,YAAO,IAAIiG,IAAJ,EAAP;AACAyD,gBAAW,IAAX;AACA,KAHD,MAGO,IAAI,KAAKhlC,IAAL,CAAUs7B,IAAV,KAAmB,OAAOt7B,IAAP,CAAYs7B,IAAZ,CAAvB,EAA0C;AAChDA,YAAO,IAAIiG,IAAJ,CAASjG,IAAT,CAAP,CADM,KACqB,IAAI,KAAKnE,MAAL,IAAe,KAAKA,MAAL,CAAYmB,SAA/B,EAA0CgD,OAAO,KAAKnE,MAAL,CAAYmB,SAAZ,CAAsBgD,IAAtB,EAA4BtS,MAA5B,CAAP,CAA1C,KAA0F;AACrH,SAAIklB,aAAa,CAAC,KAAK/W,MAAN,IAAgB,CAAC,KAAKA,MAAL,CAAYoC,UAA7B,GAA0C,IAAIgI,IAAJ,CAAS,IAAIA,IAAJ,GAAWlD,WAAX,EAAT,EAAmC,CAAnC,EAAsC,CAAtC,EAAyC,CAAzC,EAA4C,CAA5C,EAA+C,CAA/C,EAAkD,CAAlD,CAA1C,GAAiG,IAAIkD,IAAJ,CAAS,IAAIA,IAAJ,GAAWnG,QAAX,CAAoB,CAApB,EAAuB,CAAvB,EAA0B,CAA1B,EAA6B,CAA7B,CAAT,CAAlH;;AAEA,SAAI+S,UAAU,KAAK,CAAnB;;AAEA,UAAK,IAAIrhC,IAAI,CAAR,EAAWshC,aAAa,CAAxB,EAA2BC,WAAW,EAA3C,EAA+CvhC,IAAIkc,OAAOthB,MAA1D,EAAkEoF,GAAlE,EAAuE;AACtE,UAAIwhC,QAAQtlB,OAAOlc,CAAP,CAAZ;AACA,UAAIyhC,cAAcD,UAAU,IAA5B;AACA,UAAIE,UAAUxlB,OAAOlc,IAAI,CAAX,MAAkB,IAAlB,IAA0ByhC,WAAxC;;AAEA,UAAI,KAAKT,UAAL,CAAgBQ,KAAhB,KAA0B,CAACE,OAA/B,EAAwC;AACvCH,mBAAY,KAAKP,UAAL,CAAgBQ,KAAhB,CAAZ;AACA,WAAI7mC,QAAQ,IAAIa,MAAJ,CAAW+lC,QAAX,EAAqBlqC,IAArB,CAA0Bm3B,IAA1B,CAAZ;AACA,WAAI7zB,UAAU0mC,UAAU,IAApB,CAAJ,EAA+B;AAC9BD,qBAAa,KAAKjE,SAAL,CAAeqE,KAAf,EAAsBJ,UAAtB,EAAkCzmC,MAAM,EAAE2mC,UAAR,CAAlC,KAA0DF,UAAvE;AACA;AACD,OAND,MAMO,IAAI,CAACK,WAAL,EAAkBF,YAAY,GAAZ,CAX6C,CAW5B;AAC1C;;AAED/S,YAAO6S,UAAUD,UAAV,GAAuB,IAA9B;AACA;AACD;;AAEF;AACA,MAAI,EAAE5S,gBAAgBiG,IAAlB,CAAJ,EAA6B;AAC5Bl1B,WAAQoyB,IAAR,CAAa,6BAA6BwP,SAA1C;AACA5hC,WAAQoiC,IAAR,CAAa,KAAKpsB,OAAlB;AACA,UAAO,IAAP;AACA;;AAED,MAAI2iB,aAAa,IAAjB,EAAuB1J,KAAKF,QAAL,CAAc,CAAd,EAAiB,CAAjB,EAAoB,CAApB,EAAuB,CAAvB;;AAEvB,SAAOE,IAAP;AACA;AA3R4B,CAA9B;;AA8RA;AACA,SAASoT,UAAT,CAAoBp0B,QAApB,EAA8B6c,MAA9B,EAAsC;AACrC,KAAIwX,QAAQpuC,MAAMc,SAAN,CAAgBC,KAAhB,CAAsBC,IAAtB,CAA2B+Y,QAA3B,CAAZ,CADqC,CACa;AAClD,KAAIs0B,YAAY,EAAhB;AACA,MAAK,IAAI9hC,IAAI,CAAb,EAAgBA,IAAI6hC,MAAMjnC,MAA1B,EAAkCoF,GAAlC,EAAuC;AACtC,MAAI;AACH,OAAI6hC,MAAM7hC,CAAN,EAAS/I,YAAT,CAAsB,cAAtB,MAA0C,IAA9C,EAAoD;;AAEpD,OAAI4qC,MAAM7hC,CAAN,EAAS4hC,UAAb,EAAyB;AACxBC,UAAM7hC,CAAN,EAAS4hC,UAAT,CAAoBtZ,OAApB;AACAuZ,UAAM7hC,CAAN,EAAS4hC,UAAT,GAAsB,IAAtB;AACA;;AAEDC,SAAM7hC,CAAN,EAAS4hC,UAAT,GAAsB,IAAIxX,iBAAJ,CAAsByX,MAAM7hC,CAAN,CAAtB,EAAgCqqB,UAAU,EAA1C,CAAtB;AACAyX,aAAUzoC,IAAV,CAAewoC,MAAM7hC,CAAN,EAAS4hC,UAAxB;AACA,GAVD,CAUE,OAAOn+B,CAAP,EAAU;AACXlE,WAAQoyB,IAAR,CAAaluB,CAAb,EAAgBA,EAAEiuB,KAAlB;AACA;AACD;;AAED,QAAOoQ,UAAUlnC,MAAV,KAAqB,CAArB,GAAyBknC,UAAU,CAAV,CAAzB,GAAwCA,SAA/C;AACA;;AAED;AACA,IAAI,OAAOC,WAAP,KAAuB,WAA3B,EAAwC;AACvC;AACAC,gBAAeztC,SAAf,CAAyB0lC,SAAzB,GAAqCgI,SAAS1tC,SAAT,CAAmB0lC,SAAnB,GAA+B,UAAU5P,MAAV,EAAkB;AACrF,SAAOuX,WAAW,IAAX,EAAiBvX,MAAjB,CAAP;AACA,EAFD;;AAIA0X,aAAYxtC,SAAZ,CAAsB0lC,SAAtB,GAAkC,UAAU5P,MAAV,EAAkB;AACnD,SAAOuX,WAAW,CAAC,IAAD,CAAX,EAAmBvX,MAAnB,CAAP;AACA,EAFD;AAGA;;AAED;AACA,SAAS4P,SAAT,CAAmB5lC,QAAnB,EAA6Bg2B,MAA7B,EAAqC;AACpC,KAAIh2B,oBAAoB4tC,QAAxB,EAAkC,OAAOL,WAAWvtC,QAAX,EAAqBg2B,MAArB,CAAP,CAAlC,KAA2E,IAAI,EAAEh2B,oBAAoB0tC,WAAtB,CAAJ,EAAwC,OAAOH,WAAWxvC,OAAOU,QAAP,CAAgB4B,gBAAhB,CAAiCL,QAAjC,CAAX,EAAuDg2B,MAAvD,CAAP;;AAEnH,QAAOuX,WAAW,CAACvtC,QAAD,CAAX,EAAuBg2B,MAAvB,CAAP;AACA;;AAED;AACA4P,UAAUC,aAAV,GAA0B9P,kBAAkB8P,aAAlB,GAAkC;AAC3D/mB,OAAM,QADqD;;AAG3DsoB,WAAU,MAHiD;;AAK3DhhB,UAASroB,OAAOuiB,SAAP,CAAiBC,SAAjB,CAA2B9Z,OAA3B,CAAmC,MAAnC,MAA+C,CAAC,CALE;;AAO3D;AACAw0B,OAAM,KARqD;;AAU3D;AACAhD,cAAa,KAX8C;;AAa3D;AACAiM,aAAY,KAd+C;;AAgB3D;;;;AAIApI,aAAY,IApB+C;;AAsB3D;;;;AAIAgM,gBAAe,IA1B4C;;AA4B3D;AACAxN,YAAW,KA7BgD;;AA+B3D;AACAjC,aAAY,KAhC+C;;AAkC3D;AACAD,aAAY,KAnC+C;;AAqC3D;AACAkM,aAAY,OAtC+C;;AAwC3D;AACAjF,iBAAgB,QAzC2C;;AA2C3D;AACAP,WAAU,KA5CiD;;AA8C3D;AACAmK,gBAAe,oBA/C4C;;AAiD3D;AACA5E,YAAW,QAlDgD,EAkDtC;;AAErB;AACAgE,cAAa,IArD8C;;AAuD3D;AACA9P,UAAS,IAxDkD;;AA0D3D;AACAyB,UAAS,IA3DkD;;AA6D3D;AACA7C,YAAW,IA9DgD;;AAgE3D;AACAC,aAAY,IAjE+C;;AAmE3DyI,UAAS,SAASA,OAAT,CAAiBgO,SAAjB,EAA4B;AACpC,MAAI1T,OAAO,IAAIiG,IAAJ,CAASyN,UAAU7J,OAAV,EAAT,CAAX;AACA,MAAI8J,SAAS,IAAI1N,IAAJ,CAASjG,KAAK+C,WAAL,EAAT,EAA6B,CAA7B,EAAgC,CAAhC,CAAb;AACA,SAAOrd,KAAK4E,IAAL,CAAU,CAAC,CAAC0V,OAAO2T,MAAR,IAAkB,QAAlB,GAA6BA,OAAOzN,MAAP,EAA7B,GAA+C,CAAhD,IAAqD,CAA/D,CAAP;AACA,EAvE0D;;AA0E3D;AACArI,SAAQ,EA3EmD;;AA6E3D;AACAD,UAAS,EA9EkD;;AAgF3D;AACA4Q,wBAAuB,KAjFoC;;AAmF3D;AACA7Q,SAAQ,KApFmD;;AAsF3D;AACA;AACA,WAAU,KAxFiD;;AA0F3D;AACA+G,WAAU,IA3FiD;;AA6F3D;AACAyC,YAAW,sOA9FgD;AA+F3DO,YAAW,wOA/FgD;;AAiG3D;AACAnI,gBAAe,KAlG4C;;AAoG3D;AACA2I,gBAAe,CArG4C;;AAuG3D;AACAC,kBAAiB,CAxG0C;;AA0G3D;AACAH,cAAa,EA3G8C;;AA6G3D;AACAC,gBAAe,CA9G4C;;AAgH3D;AACAvK,gBAAe,KAjH4C;;AAmH3D;AACA+O,SAAQ,SApHmD;;AAsH3DF,UAAS,EAtHkD;;AAwH3DjD,uBAAsB,EAxHqC;;AA0H3D;AACAsK,UAAS/vC,SA3HkD,EA2HvC;;AAEpB;AACAm3B,WAAUn3B,SA9HiD,EA8HtC;;AAErB;AACAgwC,cAAahwC,SAjI8C;;AAmI3D;AACAiwC,gBAAejwC,SApI4C;;AAsI3D;AACAq3B,SAAQr3B,SAvImD,EAuIxC;;AAEnB;AACAkwC,gBAAelwC,SA1I4C;;AA4I3D;AACAmwC,UAASnwC,SA7IkD,EA6IvC;;AAEpB;AACAowC,gBAAepwC,SAhJ4C;;AAkJ3D;AACAqwC,eAAcrwC,SAnJ6C;;AAqJ3Dy9B,YAAWz9B,SArJgD;;AAuJ3DswC,YAAWtwC;AAvJgD,CAA5D;;AA0JA;AACA4nC,UAAUiB,KAAV,GAAkB;AACjB0H,KAAI;AACH7L,YAAU;AACTC,cAAW,CAAC,KAAD,EAAQ,KAAR,EAAe,KAAf,EAAsB,KAAtB,EAA6B,KAA7B,EAAoC,KAApC,EAA2C,KAA3C,CADF;AAETkJ,aAAU,CAAC,QAAD,EAAW,QAAX,EAAqB,SAArB,EAAgC,WAAhC,EAA6C,UAA7C,EAAyD,QAAzD,EAAmE,UAAnE;AAFD,GADP;AAKHjD,UAAQ;AACPjG,cAAW,CAAC,KAAD,EAAQ,KAAR,EAAe,KAAf,EAAsB,KAAtB,EAA6B,KAA7B,EAAoC,KAApC,EAA2C,KAA3C,EAAkD,KAAlD,EAAyD,KAAzD,EAAgE,KAAhE,EAAuE,KAAvE,EAA8E,KAA9E,CADJ;AAEPkJ,aAAU,CAAC,SAAD,EAAY,UAAZ,EAAwB,OAAxB,EAAiC,OAAjC,EAA0C,KAA1C,EAAiD,MAAjD,EAAyD,MAAzD,EAAiE,QAAjE,EAA2E,WAA3E,EAAwF,SAAxF,EAAmG,UAAnG,EAA+G,UAA/G;AAFH,GALL;AASHjL,eAAa,CAAC,EAAD,EAAK,EAAL,EAAS,EAAT,EAAa,EAAb,EAAiB,EAAjB,EAAqB,EAArB,EAAyB,EAAzB,EAA6B,EAA7B,EAAiC,EAAjC,EAAqC,EAArC,EAAyC,EAAzC,EAA6C,EAA7C,CATV;AAUHL,kBAAgB,CAVb;AAWHgL,WAAS,SAASA,OAAT,CAAiBiD,GAAjB,EAAsB;AAC9B,OAAI7oC,IAAI6oC,MAAM,GAAd;AACA,OAAI7oC,IAAI,CAAJ,IAASA,IAAI,EAAjB,EAAqB,OAAO,IAAP;AACrB,WAAQA,IAAI,EAAZ;AACC,SAAK,CAAL;AACC,YAAO,IAAP;AACD,SAAK,CAAL;AACC,YAAO,IAAP;AACD,SAAK,CAAL;AACC,YAAO,IAAP;AACD;AACC,YAAO,IAAP;AARF;AAUA,GAxBE;AAyBHwiC,kBAAgB,MAzBb;AA0BHvF,oBAAkB,IA1Bf;AA2BHnB,eAAa,qBA3BV;AA4BHe,eAAa;AA5BV;AADa,CAAlB;;AAiCAoD,UAAUiB,KAAV,CAAgBC,OAAhB,GAA0BrnC,OAAOsP,MAAP,CAAc62B,UAAUiB,KAAV,CAAgB0H,EAA9B,CAA1B;AACA3I,UAAU6I,QAAV,GAAqB,UAAUnO,IAAV,EAAgB;AACpC,QAAO5K,SAASkQ,UAAUiB,KAAV,CAAgBC,OAAzB,EAAkCxG,QAAQ,EAA1C,CAAP;AACA,CAFD;AAGAsF,UAAU8I,WAAV,GAAwB,UAAU1Y,MAAV,EAAkB;AACzC,QAAON,SAASkQ,UAAUC,aAAnB,EAAkC7P,UAAU,EAA5C,CAAP;AACA,CAFD;;AAIA;AACA,IAAI,OAAO2Y,MAAP,KAAkB,WAAtB,EAAmC;AAClCA,QAAOjrC,EAAP,CAAUkiC,SAAV,GAAsB,UAAU5P,MAAV,EAAkB;AACvC,SAAOuX,WAAW,IAAX,EAAiBvX,MAAjB,CAAP;AACA,EAFD;AAGA;;AAEDoK,KAAKlgC,SAAL,CAAe0uC,OAAf,GAAyB,UAAUjS,IAAV,EAAgB;AACxC,QAAO,IAAIyD,IAAJ,CAAS,KAAKlD,WAAL,EAAT,EAA6B,KAAKE,QAAL,EAA7B,EAA8C,KAAK+B,OAAL,KAAiB7F,SAASqD,IAAT,EAAe,EAAf,CAA/D,CAAP;AACA,CAFD;;AAIA,IAAI,IAAJ,EAAmClgC,OAAOD,OAAP,GAAiBopC,SAAjB,C","file":"main.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 2);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 4d60f70ff15167ad8401","/* Riot v3.6.0, @license MIT */\n(function (global, factory) {\n\ttypeof exports === 'object' && typeof module !== 'undefined' ? factory(exports) :\n\ttypeof define === 'function' && define.amd ? define(['exports'], factory) :\n\t(factory((global.riot = global.riot || {})));\n}(this, (function (exports) { 'use strict';\n\nvar __TAGS_CACHE = [];\nvar __TAG_IMPL = {};\nvar GLOBAL_MIXIN = '__global_mixin';\nvar ATTRS_PREFIX = 'riot-';\nvar REF_DIRECTIVES = ['ref', 'data-ref'];\nvar IS_DIRECTIVE = 'data-is';\nvar CONDITIONAL_DIRECTIVE = 'if';\nvar LOOP_DIRECTIVE = 'each';\nvar LOOP_NO_REORDER_DIRECTIVE = 'no-reorder';\nvar SHOW_DIRECTIVE = 'show';\nvar HIDE_DIRECTIVE = 'hide';\nvar RIOT_EVENTS_KEY = '__riot-events__';\nvar T_STRING = 'string';\nvar T_OBJECT = 'object';\nvar T_UNDEF  = 'undefined';\nvar T_FUNCTION = 'function';\nvar XLINK_NS = 'http://www.w3.org/1999/xlink';\nvar SVG_NS = 'http://www.w3.org/2000/svg';\nvar XLINK_REGEX = /^xlink:(\\w+)/;\nvar WIN = typeof window === T_UNDEF ? undefined : window;\nvar RE_SPECIAL_TAGS = /^(?:t(?:body|head|foot|[rhd])|caption|col(?:group)?|opt(?:ion|group))$/;\nvar RE_SPECIAL_TAGS_NO_OPTION = /^(?:t(?:body|head|foot|[rhd])|caption|col(?:group)?)$/;\nvar RE_EVENTS_PREFIX = /^on/;\nvar RE_RESERVED_NAMES = /^(?:_(?:item|id|parent)|update|root|(?:un)?mount|mixin|is(?:Mounted|Loop)|tags|refs|parent|opts|trigger|o(?:n|ff|ne))$/;\nvar RE_HTML_ATTRS = /([-\\w]+) ?= ?(?:\"([^\"]*)|'([^']*)|({[^}]*}))/g;\nvar CASE_SENSITIVE_ATTRIBUTES = { 'viewbox': 'viewBox' };\nvar RE_BOOL_ATTRS = /^(?:disabled|checked|readonly|required|allowfullscreen|auto(?:focus|play)|compact|controls|default|formnovalidate|hidden|ismap|itemscope|loop|multiple|muted|no(?:resize|shade|validate|wrap)?|open|reversed|seamless|selected|sortable|truespeed|typemustmatch)$/;\nvar IE_VERSION = (WIN && WIN.document || {}).documentMode | 0;\n\n/**\n * Check Check if the passed argument is undefined\n * @param   { String } value -\n * @returns { Boolean } -\n */\nfunction isBoolAttr(value) {\n  return RE_BOOL_ATTRS.test(value)\n}\n\n/**\n * Check if passed argument is a function\n * @param   { * } value -\n * @returns { Boolean } -\n */\nfunction isFunction(value) {\n  return typeof value === T_FUNCTION\n}\n\n/**\n * Check if passed argument is an object, exclude null\n * NOTE: use isObject(x) && !isArray(x) to excludes arrays.\n * @param   { * } value -\n * @returns { Boolean } -\n */\nfunction isObject(value) {\n  return value && typeof value === T_OBJECT // typeof null is 'object'\n}\n\n/**\n * Check if passed argument is undefined\n * @param   { * } value -\n * @returns { Boolean } -\n */\nfunction isUndefined(value) {\n  return typeof value === T_UNDEF\n}\n\n/**\n * Check if passed argument is a string\n * @param   { * } value -\n * @returns { Boolean } -\n */\nfunction isString(value) {\n  return typeof value === T_STRING\n}\n\n/**\n * Check if passed argument is empty. Different from falsy, because we dont consider 0 or false to be blank\n * @param { * } value -\n * @returns { Boolean } -\n */\nfunction isBlank(value) {\n  return isUndefined(value) || value === null || value === ''\n}\n\n/**\n * Check if passed argument is a kind of array\n * @param   { * } value -\n * @returns { Boolean } -\n */\nfunction isArray(value) {\n  return Array.isArray(value) || value instanceof Array\n}\n\n/**\n * Check whether object's property could be overridden\n * @param   { Object }  obj - source object\n * @param   { String }  key - object property\n * @returns { Boolean } -\n */\nfunction isWritable(obj, key) {\n  var descriptor = Object.getOwnPropertyDescriptor(obj, key);\n  return isUndefined(obj[key]) || descriptor && descriptor.writable\n}\n\n/**\n * Check if passed argument is a reserved name\n * @param   { String } value -\n * @returns { Boolean } -\n */\nfunction isReservedName(value) {\n  return RE_RESERVED_NAMES.test(value)\n}\n\nvar check = Object.freeze({\n\tisBoolAttr: isBoolAttr,\n\tisFunction: isFunction,\n\tisObject: isObject,\n\tisUndefined: isUndefined,\n\tisString: isString,\n\tisBlank: isBlank,\n\tisArray: isArray,\n\tisWritable: isWritable,\n\tisReservedName: isReservedName\n});\n\n/**\n * Shorter and fast way to select multiple nodes in the DOM\n * @param   { String } selector - DOM selector\n * @param   { Object } ctx - DOM node where the targets of our search will is located\n * @returns { Object } dom nodes found\n */\nfunction $$(selector, ctx) {\n  return Array.prototype.slice.call((ctx || document).querySelectorAll(selector))\n}\n\n/**\n * Shorter and fast way to select a single node in the DOM\n * @param   { String } selector - unique dom selector\n * @param   { Object } ctx - DOM node where the target of our search will is located\n * @returns { Object } dom node found\n */\nfunction $(selector, ctx) {\n  return (ctx || document).querySelector(selector)\n}\n\n/**\n * Create a document fragment\n * @returns { Object } document fragment\n */\nfunction createFrag() {\n  return document.createDocumentFragment()\n}\n\n/**\n * Create a document text node\n * @returns { Object } create a text node to use as placeholder\n */\nfunction createDOMPlaceholder() {\n  return document.createTextNode('')\n}\n\n/**\n * Check if a DOM node is an svg tag\n * @param   { HTMLElement }  el - node we want to test\n * @returns {Boolean} true if it's an svg node\n */\nfunction isSvg(el) {\n  return !!el.ownerSVGElement\n}\n\n/**\n * Create a generic DOM node\n * @param   { String } name - name of the DOM node we want to create\n * @param   { Boolean } isSvg - true if we need to use an svg node\n * @returns { Object } DOM node just created\n */\nfunction mkEl(name) {\n  return name === 'svg' ? document.createElementNS(SVG_NS, name) : document.createElement(name)\n}\n\n/**\n * Set the inner html of any DOM node SVGs included\n * @param { Object } container - DOM node where we'll inject new html\n * @param { String } html - html to inject\n */\n/* istanbul ignore next */\nfunction setInnerHTML(container, html) {\n  if (!isUndefined(container.innerHTML))\n    { container.innerHTML = html; }\n    // some browsers do not support innerHTML on the SVGs tags\n  else {\n    var doc = new DOMParser().parseFromString(html, 'application/xml');\n    var node = container.ownerDocument.importNode(doc.documentElement, true);\n    container.appendChild(node);\n  }\n}\n\n/**\n * Toggle the visibility of any DOM node\n * @param   { Object }  dom - DOM node we want to hide\n * @param   { Boolean } show - do we want to show it?\n */\n\nfunction toggleVisibility(dom, show) {\n  dom.style.display = show ? '' : 'none';\n  dom['hidden'] = show ? false : true;\n}\n\n/**\n * Remove any DOM attribute from a node\n * @param   { Object } dom - DOM node we want to update\n * @param   { String } name - name of the property we want to remove\n */\nfunction remAttr(dom, name) {\n  dom.removeAttribute(name);\n}\n\n/**\n * Convert a style object to a string\n * @param   { Object } style - style object we need to parse\n * @returns { String } resulting css string\n * @example\n * styleObjectToString({ color: 'red', height: '10px'}) // => 'color: red; height: 10px'\n */\nfunction styleObjectToString(style) {\n  return Object.keys(style).reduce(function (acc, prop) {\n    return (acc + \" \" + prop + \": \" + (style[prop]) + \";\")\n  }, '')\n}\n\n/**\n * Get the value of any DOM attribute on a node\n * @param   { Object } dom - DOM node we want to parse\n * @param   { String } name - name of the attribute we want to get\n * @returns { String | undefined } name of the node attribute whether it exists\n */\nfunction getAttr(dom, name) {\n  return dom.getAttribute(name)\n}\n\n/**\n * Set any DOM attribute\n * @param { Object } dom - DOM node we want to update\n * @param { String } name - name of the property we want to set\n * @param { String } val - value of the property we want to set\n */\nfunction setAttr(dom, name, val) {\n  var xlink = XLINK_REGEX.exec(name);\n  if (xlink && xlink[1])\n    { dom.setAttributeNS(XLINK_NS, xlink[1], val); }\n  else\n    { dom.setAttribute(name, val); }\n}\n\n/**\n * Insert safely a tag to fix #1962 #1649\n * @param   { HTMLElement } root - children container\n * @param   { HTMLElement } curr - node to insert\n * @param   { HTMLElement } next - node that should preceed the current node inserted\n */\nfunction safeInsert(root, curr, next) {\n  root.insertBefore(curr, next.parentNode && next);\n}\n\n/**\n * Minimize risk: only zero or one _space_ between attr & value\n * @param   { String }   html - html string we want to parse\n * @param   { Function } fn - callback function to apply on any attribute found\n */\nfunction walkAttrs(html, fn) {\n  if (!html)\n    { return }\n  var m;\n  while (m = RE_HTML_ATTRS.exec(html))\n    { fn(m[1].toLowerCase(), m[2] || m[3] || m[4]); }\n}\n\n/**\n * Walk down recursively all the children tags starting dom node\n * @param   { Object }   dom - starting node where we will start the recursion\n * @param   { Function } fn - callback to transform the child node just found\n * @param   { Object }   context - fn can optionally return an object, which is passed to children\n */\nfunction walkNodes(dom, fn, context) {\n  if (dom) {\n    var res = fn(dom, context);\n    var next;\n    // stop the recursion\n    if (res === false) { return }\n\n    dom = dom.firstChild;\n\n    while (dom) {\n      next = dom.nextSibling;\n      walkNodes(dom, fn, res);\n      dom = next;\n    }\n  }\n}\n\nvar dom = Object.freeze({\n\t$$: $$,\n\t$: $,\n\tcreateFrag: createFrag,\n\tcreateDOMPlaceholder: createDOMPlaceholder,\n\tisSvg: isSvg,\n\tmkEl: mkEl,\n\tsetInnerHTML: setInnerHTML,\n\ttoggleVisibility: toggleVisibility,\n\tremAttr: remAttr,\n\tstyleObjectToString: styleObjectToString,\n\tgetAttr: getAttr,\n\tsetAttr: setAttr,\n\tsafeInsert: safeInsert,\n\twalkAttrs: walkAttrs,\n\twalkNodes: walkNodes\n});\n\nvar styleNode;\nvar cssTextProp;\nvar byName = {};\nvar remainder = [];\nvar needsInject = false;\n\n// skip the following code on the server\nif (WIN) {\n  styleNode = (function () {\n    // create a new style element with the correct type\n    var newNode = mkEl('style');\n    setAttr(newNode, 'type', 'text/css');\n\n    // replace any user node or insert the new one into the head\n    var userNode = $('style[type=riot]');\n    /* istanbul ignore next */\n    if (userNode) {\n      if (userNode.id) { newNode.id = userNode.id; }\n      userNode.parentNode.replaceChild(newNode, userNode);\n    }\n    else { document.getElementsByTagName('head')[0].appendChild(newNode); }\n\n    return newNode\n  })();\n  cssTextProp = styleNode.styleSheet;\n}\n\n/**\n * Object that will be used to inject and manage the css of every tag instance\n */\nvar styleManager = {\n  styleNode: styleNode,\n  /**\n   * Save a tag style to be later injected into DOM\n   * @param { String } css - css string\n   * @param { String } name - if it's passed we will map the css to a tagname\n   */\n  add: function add(css, name) {\n    if (name) { byName[name] = css; }\n    else { remainder.push(css); }\n    needsInject = true;\n  },\n  /**\n   * Inject all previously saved tag styles into DOM\n   * innerHTML seems slow: http://jsperf.com/riot-insert-style\n   */\n  inject: function inject() {\n    if (!WIN || !needsInject) { return }\n    needsInject = false;\n    var style = Object.keys(byName)\n      .map(function(k) { return byName[k] })\n      .concat(remainder).join('\\n');\n    /* istanbul ignore next */\n    if (cssTextProp) { cssTextProp.cssText = style; }\n    else { styleNode.innerHTML = style; }\n  }\n};\n\n/**\n * The riot template engine\n * @version v3.0.8\n */\n\nvar skipRegex = (function () { //eslint-disable-line no-unused-vars\n\n  var beforeReChars = '[{(,;:?=|&!^~>%*/';\n\n  var beforeReWords = [\n    'case',\n    'default',\n    'do',\n    'else',\n    'in',\n    'instanceof',\n    'prefix',\n    'return',\n    'typeof',\n    'void',\n    'yield'\n  ];\n\n  var wordsLastChar = beforeReWords.reduce(function (s, w) {\n    return s + w.slice(-1)\n  }, '');\n\n  var RE_REGEX = /^\\/(?=[^*>/])[^[/\\\\]*(?:(?:\\\\.|\\[(?:\\\\.|[^\\]\\\\]*)*\\])[^[\\\\/]*)*?\\/[gimuy]*/;\n  var RE_VN_CHAR = /[$\\w]/;\n\n  function prev (code, pos) {\n    while (--pos >= 0 && /\\s/.test(code[pos])){  }\n    return pos\n  }\n\n  function _skipRegex (code, start) {\n\n    var re = /.*/g;\n    var pos = re.lastIndex = start++;\n    var match = re.exec(code)[0].match(RE_REGEX);\n\n    if (match) {\n      var next = pos + match[0].length;\n\n      pos = prev(code, pos);\n      var c = code[pos];\n\n      if (pos < 0 || ~beforeReChars.indexOf(c)) {\n        return next\n      }\n\n      if (c === '.') {\n\n        if (code[pos - 1] === '.') {\n          start = next;\n        }\n\n      } else if (c === '+' || c === '-') {\n\n        if (code[--pos] !== c ||\n            (pos = prev(code, pos)) < 0 ||\n            !RE_VN_CHAR.test(code[pos])) {\n          start = next;\n        }\n\n      } else if (~wordsLastChar.indexOf(c)) {\n\n        var end = pos + 1;\n\n        while (--pos >= 0 && RE_VN_CHAR.test(code[pos])){  }\n        if (~beforeReWords.indexOf(code.slice(pos + 1, end))) {\n          start = next;\n        }\n      }\n    }\n\n    return start\n  }\n\n  return _skipRegex\n\n})();\n\n/**\n * riot.util.brackets\n *\n * - `brackets    ` - Returns a string or regex based on its parameter\n * - `brackets.set` - Change the current riot brackets\n *\n * @module\n */\n\n/* global riot */\n\n/* istanbul ignore next */\nvar brackets = (function (UNDEF) {\n\n  var\n    REGLOB = 'g',\n\n    R_MLCOMMS = /\\/\\*[^*]*\\*+(?:[^*\\/][^*]*\\*+)*\\//g,\n\n    R_STRINGS = /\"[^\"\\\\]*(?:\\\\[\\S\\s][^\"\\\\]*)*\"|'[^'\\\\]*(?:\\\\[\\S\\s][^'\\\\]*)*'|`[^`\\\\]*(?:\\\\[\\S\\s][^`\\\\]*)*`/g,\n\n    S_QBLOCKS = R_STRINGS.source + '|' +\n      /(?:\\breturn\\s+|(?:[$\\w\\)\\]]|\\+\\+|--)\\s*(\\/)(?![*\\/]))/.source + '|' +\n      /\\/(?=[^*\\/])[^[\\/\\\\]*(?:(?:\\[(?:\\\\.|[^\\]\\\\]*)*\\]|\\\\.)[^[\\/\\\\]*)*?([^<]\\/)[gim]*/.source,\n\n    UNSUPPORTED = RegExp('[\\\\' + 'x00-\\\\x1F<>a-zA-Z0-9\\'\",;\\\\\\\\]'),\n\n    NEED_ESCAPE = /(?=[[\\]()*+?.^$|])/g,\n\n    S_QBLOCK2 = R_STRINGS.source + '|' + /(\\/)(?![*\\/])/.source,\n\n    FINDBRACES = {\n      '(': RegExp('([()])|'   + S_QBLOCK2, REGLOB),\n      '[': RegExp('([[\\\\]])|' + S_QBLOCK2, REGLOB),\n      '{': RegExp('([{}])|'   + S_QBLOCK2, REGLOB)\n    },\n\n    DEFAULT = '{ }';\n\n  var _pairs = [\n    '{', '}',\n    '{', '}',\n    /{[^}]*}/,\n    /\\\\([{}])/g,\n    /\\\\({)|{/g,\n    RegExp('\\\\\\\\(})|([[({])|(})|' + S_QBLOCK2, REGLOB),\n    DEFAULT,\n    /^\\s*{\\^?\\s*([$\\w]+)(?:\\s*,\\s*(\\S+))?\\s+in\\s+(\\S.*)\\s*}/,\n    /(^|[^\\\\]){=[\\S\\s]*?}/\n  ];\n\n  var\n    cachedBrackets = UNDEF,\n    _regex,\n    _cache = [],\n    _settings;\n\n  function _loopback (re) { return re }\n\n  function _rewrite (re, bp) {\n    if (!bp) { bp = _cache; }\n    return new RegExp(\n      re.source.replace(/{/g, bp[2]).replace(/}/g, bp[3]), re.global ? REGLOB : ''\n    )\n  }\n\n  function _create (pair) {\n    if (pair === DEFAULT) { return _pairs }\n\n    var arr = pair.split(' ');\n\n    if (arr.length !== 2 || UNSUPPORTED.test(pair)) {\n      throw new Error('Unsupported brackets \"' + pair + '\"')\n    }\n    arr = arr.concat(pair.replace(NEED_ESCAPE, '\\\\').split(' '));\n\n    arr[4] = _rewrite(arr[1].length > 1 ? /{[\\S\\s]*?}/ : _pairs[4], arr);\n    arr[5] = _rewrite(pair.length > 3 ? /\\\\({|})/g : _pairs[5], arr);\n    arr[6] = _rewrite(_pairs[6], arr);\n    arr[7] = RegExp('\\\\\\\\(' + arr[3] + ')|([[({])|(' + arr[3] + ')|' + S_QBLOCK2, REGLOB);\n    arr[8] = pair;\n    return arr\n  }\n\n  function _brackets (reOrIdx) {\n    return reOrIdx instanceof RegExp ? _regex(reOrIdx) : _cache[reOrIdx]\n  }\n\n  _brackets.split = function split (str, tmpl, _bp) {\n    // istanbul ignore next: _bp is for the compiler\n    if (!_bp) { _bp = _cache; }\n\n    var\n      parts = [],\n      match,\n      isexpr,\n      start,\n      pos,\n      re = _bp[6];\n\n    var qblocks = [];\n    var prevStr = '';\n    var mark, lastIndex;\n\n    isexpr = start = re.lastIndex = 0;\n\n    while ((match = re.exec(str))) {\n\n      lastIndex = re.lastIndex;\n      pos = match.index;\n\n      if (isexpr) {\n\n        if (match[2]) {\n\n          var ch = match[2];\n          var rech = FINDBRACES[ch];\n          var ix = 1;\n\n          rech.lastIndex = lastIndex;\n          while ((match = rech.exec(str))) {\n            if (match[1]) {\n              if (match[1] === ch) { ++ix; }\n              else if (!--ix) { break }\n            } else {\n              rech.lastIndex = pushQBlock(match.index, rech.lastIndex, match[2]);\n            }\n          }\n          re.lastIndex = ix ? str.length : rech.lastIndex;\n          continue\n        }\n\n        if (!match[3]) {\n          re.lastIndex = pushQBlock(pos, lastIndex, match[4]);\n          continue\n        }\n      }\n\n      if (!match[1]) {\n        unescapeStr(str.slice(start, pos));\n        start = re.lastIndex;\n        re = _bp[6 + (isexpr ^= 1)];\n        re.lastIndex = start;\n      }\n    }\n\n    if (str && start < str.length) {\n      unescapeStr(str.slice(start));\n    }\n\n    parts.qblocks = qblocks;\n\n    return parts\n\n    function unescapeStr (s) {\n      if (prevStr) {\n        s = prevStr + s;\n        prevStr = '';\n      }\n      if (tmpl || isexpr) {\n        parts.push(s && s.replace(_bp[5], '$1'));\n      } else {\n        parts.push(s);\n      }\n    }\n\n    function pushQBlock(_pos, _lastIndex, slash) { //eslint-disable-line\n      if (slash) {\n        _lastIndex = skipRegex(str, _pos);\n      }\n\n      if (tmpl && _lastIndex > _pos + 2) {\n        mark = '\\u2057' + qblocks.length + '~';\n        qblocks.push(str.slice(_pos, _lastIndex));\n        prevStr += str.slice(start, _pos) + mark;\n        start = _lastIndex;\n      }\n      return _lastIndex\n    }\n  };\n\n  _brackets.hasExpr = function hasExpr (str) {\n    return _cache[4].test(str)\n  };\n\n  _brackets.loopKeys = function loopKeys (expr) {\n    var m = expr.match(_cache[9]);\n\n    return m\n      ? { key: m[1], pos: m[2], val: _cache[0] + m[3].trim() + _cache[1] }\n      : { val: expr.trim() }\n  };\n\n  _brackets.array = function array (pair) {\n    return pair ? _create(pair) : _cache\n  };\n\n  function _reset (pair) {\n    if ((pair || (pair = DEFAULT)) !== _cache[8]) {\n      _cache = _create(pair);\n      _regex = pair === DEFAULT ? _loopback : _rewrite;\n      _cache[9] = _regex(_pairs[9]);\n    }\n    cachedBrackets = pair;\n  }\n\n  function _setSettings (o) {\n    var b;\n\n    o = o || {};\n    b = o.brackets;\n    Object.defineProperty(o, 'brackets', {\n      set: _reset,\n      get: function () { return cachedBrackets },\n      enumerable: true\n    });\n    _settings = o;\n    _reset(b);\n  }\n\n  Object.defineProperty(_brackets, 'settings', {\n    set: _setSettings,\n    get: function () { return _settings }\n  });\n\n  /* istanbul ignore next: in the browser riot is always in the scope */\n  _brackets.settings = typeof riot !== 'undefined' && riot.settings || {};\n  _brackets.set = _reset;\n  _brackets.skipRegex = skipRegex;\n\n  _brackets.R_STRINGS = R_STRINGS;\n  _brackets.R_MLCOMMS = R_MLCOMMS;\n  _brackets.S_QBLOCKS = S_QBLOCKS;\n  _brackets.S_QBLOCK2 = S_QBLOCK2;\n\n  return _brackets\n\n})();\n\n/**\n * @module tmpl\n *\n * tmpl          - Root function, returns the template value, render with data\n * tmpl.hasExpr  - Test the existence of a expression inside a string\n * tmpl.loopKeys - Get the keys for an 'each' loop (used by `_each`)\n */\n\n/* istanbul ignore next */\nvar tmpl = (function () {\n\n  var _cache = {};\n\n  function _tmpl (str, data) {\n    if (!str) { return str }\n\n    return (_cache[str] || (_cache[str] = _create(str))).call(\n      data, _logErr.bind({\n        data: data,\n        tmpl: str\n      })\n    )\n  }\n\n  _tmpl.hasExpr = brackets.hasExpr;\n\n  _tmpl.loopKeys = brackets.loopKeys;\n\n  // istanbul ignore next\n  _tmpl.clearCache = function () { _cache = {}; };\n\n  _tmpl.errorHandler = null;\n\n  function _logErr (err, ctx) {\n\n    err.riotData = {\n      tagName: ctx && ctx.__ && ctx.__.tagName,\n      _riot_id: ctx && ctx._riot_id  //eslint-disable-line camelcase\n    };\n\n    if (_tmpl.errorHandler) { _tmpl.errorHandler(err); }\n    else if (\n      typeof console !== 'undefined' &&\n      typeof console.error === 'function'\n    ) {\n      console.error(err.message);\n      console.log('<%s> %s', err.riotData.tagName || 'Unknown tag', this.tmpl); // eslint-disable-line\n      console.log(this.data); // eslint-disable-line\n    }\n  }\n\n  function _create (str) {\n    var expr = _getTmpl(str);\n\n    if (expr.slice(0, 11) !== 'try{return ') { expr = 'return ' + expr; }\n\n    return new Function('E', expr + ';')    // eslint-disable-line no-new-func\n  }\n\n  var RE_DQUOTE = /\\u2057/g;\n  var RE_QBMARK = /\\u2057(\\d+)~/g;\n\n  function _getTmpl (str) {\n    var parts = brackets.split(str.replace(RE_DQUOTE, '\"'), 1);\n    var qstr = parts.qblocks;\n    var expr;\n\n    if (parts.length > 2 || parts[0]) {\n      var i, j, list = [];\n\n      for (i = j = 0; i < parts.length; ++i) {\n\n        expr = parts[i];\n\n        if (expr && (expr = i & 1\n\n            ? _parseExpr(expr, 1, qstr)\n\n            : '\"' + expr\n                .replace(/\\\\/g, '\\\\\\\\')\n                .replace(/\\r\\n?|\\n/g, '\\\\n')\n                .replace(/\"/g, '\\\\\"') +\n              '\"'\n\n          )) { list[j++] = expr; }\n\n      }\n\n      expr = j < 2 ? list[0]\n           : '[' + list.join(',') + '].join(\"\")';\n\n    } else {\n\n      expr = _parseExpr(parts[1], 0, qstr);\n    }\n\n    if (qstr.length) {\n      expr = expr.replace(RE_QBMARK, function (_, pos) {\n        return qstr[pos]\n          .replace(/\\r/g, '\\\\r')\n          .replace(/\\n/g, '\\\\n')\n      });\n    }\n    return expr\n  }\n\n  var RE_CSNAME = /^(?:(-?[_A-Za-z\\xA0-\\xFF][-\\w\\xA0-\\xFF]*)|\\u2057(\\d+)~):/;\n  var\n    RE_BREND = {\n      '(': /[()]/g,\n      '[': /[[\\]]/g,\n      '{': /[{}]/g\n    };\n\n  function _parseExpr (expr, asText, qstr) {\n\n    expr = expr\n      .replace(/\\s+/g, ' ').trim()\n      .replace(/\\ ?([[\\({},?\\.:])\\ ?/g, '$1');\n\n    if (expr) {\n      var\n        list = [],\n        cnt = 0,\n        match;\n\n      while (expr &&\n            (match = expr.match(RE_CSNAME)) &&\n            !match.index\n        ) {\n        var\n          key,\n          jsb,\n          re = /,|([[{(])|$/g;\n\n        expr = RegExp.rightContext;\n        key  = match[2] ? qstr[match[2]].slice(1, -1).trim().replace(/\\s+/g, ' ') : match[1];\n\n        while (jsb = (match = re.exec(expr))[1]) { skipBraces(jsb, re); }\n\n        jsb  = expr.slice(0, match.index);\n        expr = RegExp.rightContext;\n\n        list[cnt++] = _wrapExpr(jsb, 1, key);\n      }\n\n      expr = !cnt ? _wrapExpr(expr, asText)\n           : cnt > 1 ? '[' + list.join(',') + '].join(\" \").trim()' : list[0];\n    }\n    return expr\n\n    function skipBraces (ch, re) {\n      var\n        mm,\n        lv = 1,\n        ir = RE_BREND[ch];\n\n      ir.lastIndex = re.lastIndex;\n      while (mm = ir.exec(expr)) {\n        if (mm[0] === ch) { ++lv; }\n        else if (!--lv) { break }\n      }\n      re.lastIndex = lv ? expr.length : ir.lastIndex;\n    }\n  }\n\n  // istanbul ignore next: not both\n  var // eslint-disable-next-line max-len\n    JS_CONTEXT = '\"in this?this:' + (typeof window !== 'object' ? 'global' : 'window') + ').',\n    JS_VARNAME = /[,{][\\$\\w]+(?=:)|(^ *|[^$\\w\\.{])(?!(?:typeof|true|false|null|undefined|in|instanceof|is(?:Finite|NaN)|void|NaN|new|Date|RegExp|Math)(?![$\\w]))([$_A-Za-z][$\\w]*)/g,\n    JS_NOPROPS = /^(?=(\\.[$\\w]+))\\1(?:[^.[(]|$)/;\n\n  function _wrapExpr (expr, asText, key) {\n    var tb;\n\n    expr = expr.replace(JS_VARNAME, function (match, p, mvar, pos, s) {\n      if (mvar) {\n        pos = tb ? 0 : pos + match.length;\n\n        if (mvar !== 'this' && mvar !== 'global' && mvar !== 'window') {\n          match = p + '(\"' + mvar + JS_CONTEXT + mvar;\n          if (pos) { tb = (s = s[pos]) === '.' || s === '(' || s === '['; }\n        } else if (pos) {\n          tb = !JS_NOPROPS.test(s.slice(pos));\n        }\n      }\n      return match\n    });\n\n    if (tb) {\n      expr = 'try{return ' + expr + '}catch(e){E(e,this)}';\n    }\n\n    if (key) {\n\n      expr = (tb\n          ? 'function(){' + expr + '}.call(this)' : '(' + expr + ')'\n        ) + '?\"' + key + '\":\"\"';\n\n    } else if (asText) {\n\n      expr = 'function(v){' + (tb\n          ? expr.replace('return ', 'v=') : 'v=(' + expr + ')'\n        ) + ';return v||v===0?v:\"\"}.call(this)';\n    }\n\n    return expr\n  }\n\n  _tmpl.version = brackets.version = 'v3.0.8';\n\n  return _tmpl\n\n})();\n\n/* istanbul ignore next */\nvar observable$1 = function(el) {\n\n  /**\n   * Extend the original object or create a new empty one\n   * @type { Object }\n   */\n\n  el = el || {};\n\n  /**\n   * Private variables\n   */\n  var callbacks = {},\n    slice = Array.prototype.slice;\n\n  /**\n   * Public Api\n   */\n\n  // extend the el object adding the observable methods\n  Object.defineProperties(el, {\n    /**\n     * Listen to the given `event` ands\n     * execute the `callback` each time an event is triggered.\n     * @param  { String } event - event id\n     * @param  { Function } fn - callback function\n     * @returns { Object } el\n     */\n    on: {\n      value: function(event, fn) {\n        if (typeof fn == 'function')\n          { (callbacks[event] = callbacks[event] || []).push(fn); }\n        return el\n      },\n      enumerable: false,\n      writable: false,\n      configurable: false\n    },\n\n    /**\n     * Removes the given `event` listeners\n     * @param   { String } event - event id\n     * @param   { Function } fn - callback function\n     * @returns { Object } el\n     */\n    off: {\n      value: function(event, fn) {\n        if (event == '*' && !fn) { callbacks = {}; }\n        else {\n          if (fn) {\n            var arr = callbacks[event];\n            for (var i = 0, cb; cb = arr && arr[i]; ++i) {\n              if (cb == fn) { arr.splice(i--, 1); }\n            }\n          } else { delete callbacks[event]; }\n        }\n        return el\n      },\n      enumerable: false,\n      writable: false,\n      configurable: false\n    },\n\n    /**\n     * Listen to the given `event` and\n     * execute the `callback` at most once\n     * @param   { String } event - event id\n     * @param   { Function } fn - callback function\n     * @returns { Object } el\n     */\n    one: {\n      value: function(event, fn) {\n        function on() {\n          el.off(event, on);\n          fn.apply(el, arguments);\n        }\n        return el.on(event, on)\n      },\n      enumerable: false,\n      writable: false,\n      configurable: false\n    },\n\n    /**\n     * Execute all callback functions that listen to\n     * the given `event`\n     * @param   { String } event - event id\n     * @returns { Object } el\n     */\n    trigger: {\n      value: function(event) {\n        var arguments$1 = arguments;\n\n\n        // getting the arguments\n        var arglen = arguments.length - 1,\n          args = new Array(arglen),\n          fns,\n          fn,\n          i;\n\n        for (i = 0; i < arglen; i++) {\n          args[i] = arguments$1[i + 1]; // skip first argument\n        }\n\n        fns = slice.call(callbacks[event] || [], 0);\n\n        for (i = 0; fn = fns[i]; ++i) {\n          fn.apply(el, args);\n        }\n\n        if (callbacks['*'] && event != '*')\n          { el.trigger.apply(el, ['*', event].concat(args)); }\n\n        return el\n      },\n      enumerable: false,\n      writable: false,\n      configurable: false\n    }\n  });\n\n  return el\n\n};\n\n/**\n * Specialized function for looping an array-like collection with `each={}`\n * @param   { Array } list - collection of items\n * @param   {Function} fn - callback function\n * @returns { Array } the array looped\n */\nfunction each(list, fn) {\n  var len = list ? list.length : 0;\n  var i = 0;\n  for (; i < len; ++i) {\n    fn(list[i], i);\n  }\n  return list\n}\n\n/**\n * Check whether an array contains an item\n * @param   { Array } array - target array\n * @param   { * } item - item to test\n * @returns { Boolean } -\n */\nfunction contains(array, item) {\n  return array.indexOf(item) !== -1\n}\n\n/**\n * Convert a string containing dashes to camel case\n * @param   { String } str - input string\n * @returns { String } my-string -> myString\n */\nfunction toCamel(str) {\n  return str.replace(/-(\\w)/g, function (_, c) { return c.toUpperCase(); })\n}\n\n/**\n * Faster String startsWith alternative\n * @param   { String } str - source string\n * @param   { String } value - test string\n * @returns { Boolean } -\n */\nfunction startsWith(str, value) {\n  return str.slice(0, value.length) === value\n}\n\n/**\n * Helper function to set an immutable property\n * @param   { Object } el - object where the new property will be set\n * @param   { String } key - object key where the new property will be stored\n * @param   { * } value - value of the new property\n * @param   { Object } options - set the propery overriding the default options\n * @returns { Object } - the initial object\n */\nfunction defineProperty(el, key, value, options) {\n  Object.defineProperty(el, key, extend({\n    value: value,\n    enumerable: false,\n    writable: false,\n    configurable: true\n  }, options));\n  return el\n}\n\n/**\n * Extend any object with other properties\n * @param   { Object } src - source object\n * @returns { Object } the resulting extended object\n *\n * var obj = { foo: 'baz' }\n * extend(obj, {bar: 'bar', foo: 'bar'})\n * console.log(obj) => {bar: 'bar', foo: 'bar'}\n *\n */\nfunction extend(src) {\n  var obj, args = arguments;\n  for (var i = 1; i < args.length; ++i) {\n    if (obj = args[i]) {\n      for (var key in obj) {\n        // check if this property of the source object could be overridden\n        if (isWritable(src, key))\n          { src[key] = obj[key]; }\n      }\n    }\n  }\n  return src\n}\n\nvar misc = Object.freeze({\n\teach: each,\n\tcontains: contains,\n\ttoCamel: toCamel,\n\tstartsWith: startsWith,\n\tdefineProperty: defineProperty,\n\textend: extend\n});\n\nvar settings$1 = extend(Object.create(brackets.settings), {\n  skipAnonymousTags: true,\n  // handle the auto updates on any DOM event\n  autoUpdate: true\n});\n\n/**\n * Trigger DOM events\n * @param   { HTMLElement } dom - dom element target of the event\n * @param   { Function } handler - user function\n * @param   { Object } e - event object\n */\nfunction handleEvent(dom, handler, e) {\n  var ptag = this.__.parent,\n    item = this.__.item;\n\n  if (!item)\n    { while (ptag && !item) {\n      item = ptag.__.item;\n      ptag = ptag.__.parent;\n    } }\n\n  // override the event properties\n  /* istanbul ignore next */\n  if (isWritable(e, 'currentTarget')) { e.currentTarget = dom; }\n  /* istanbul ignore next */\n  if (isWritable(e, 'target')) { e.target = e.srcElement; }\n  /* istanbul ignore next */\n  if (isWritable(e, 'which')) { e.which = e.charCode || e.keyCode; }\n\n  e.item = item;\n\n  handler.call(this, e);\n\n  // avoid auto updates\n  if (!settings$1.autoUpdate) { return }\n\n  if (!e.preventUpdate) {\n    var p = getImmediateCustomParentTag(this);\n    // fixes #2083\n    if (p.isMounted) { p.update(); }\n  }\n}\n\n/**\n * Attach an event to a DOM node\n * @param { String } name - event name\n * @param { Function } handler - event callback\n * @param { Object } dom - dom node\n * @param { Tag } tag - tag instance\n */\nfunction setEventHandler(name, handler, dom, tag) {\n  var eventName,\n    cb = handleEvent.bind(tag, dom, handler);\n\n  // avoid to bind twice the same event\n  // possible fix for #2332\n  dom[name] = null;\n\n  // normalize event name\n  eventName = name.replace(RE_EVENTS_PREFIX, '');\n\n  // cache the listener into the listeners array\n  if (!contains(tag.__.listeners, dom)) { tag.__.listeners.push(dom); }\n  if (!dom[RIOT_EVENTS_KEY]) { dom[RIOT_EVENTS_KEY] = {}; }\n  if (dom[RIOT_EVENTS_KEY][name]) { dom.removeEventListener(eventName, dom[RIOT_EVENTS_KEY][name]); }\n\n  dom[RIOT_EVENTS_KEY][name] = cb;\n  dom.addEventListener(eventName, cb, false);\n}\n\n/**\n * Update dynamically created data-is tags with changing expressions\n * @param { Object } expr - expression tag and expression info\n * @param { Tag }    parent - parent for tag creation\n * @param { String } tagName - tag implementation we want to use\n */\nfunction updateDataIs(expr, parent, tagName) {\n  var conf, isVirtual, head, ref;\n\n  if (expr.tag && expr.tagName === tagName) {\n    expr.tag.update();\n    return\n  }\n\n  isVirtual = expr.dom.tagName === 'VIRTUAL';\n  // sync _parent to accommodate changing tagnames\n  if (expr.tag) {\n    // need placeholder before unmount\n    if(isVirtual) {\n      head = expr.tag.__.head;\n      ref = createDOMPlaceholder();\n      head.parentNode.insertBefore(ref, head);\n    }\n\n    expr.tag.unmount(true);\n  }\n\n  if (!isString(tagName)) { return }\n\n  expr.impl = __TAG_IMPL[tagName];\n  conf = {root: expr.dom, parent: parent, hasImpl: true, tagName: tagName};\n  expr.tag = initChildTag(expr.impl, conf, expr.dom.innerHTML, parent);\n  each(expr.attrs, function (a) { return setAttr(expr.tag.root, a.name, a.value); });\n  expr.tagName = tagName;\n  expr.tag.mount();\n  if (isVirtual)\n    { makeReplaceVirtual(expr.tag, ref || expr.tag.root); } // root exist first time, after use placeholder\n\n  // parent is the placeholder tag, not the dynamic tag so clean up\n  parent.__.onUnmount = function() {\n    var delName = expr.tag.opts.dataIs,\n      tags = expr.tag.parent.tags,\n      _tags = expr.tag.__.parent.tags;\n    arrayishRemove(tags, delName, expr.tag);\n    arrayishRemove(_tags, delName, expr.tag);\n    expr.tag.unmount();\n  };\n}\n\n/**\n * Nomalize any attribute removing the \"riot-\" prefix\n * @param   { String } attrName - original attribute name\n * @returns { String } valid html attribute name\n */\nfunction normalizeAttrName(attrName) {\n  if (!attrName) { return null }\n  attrName = attrName.replace(ATTRS_PREFIX, '');\n  if (CASE_SENSITIVE_ATTRIBUTES[attrName]) { attrName = CASE_SENSITIVE_ATTRIBUTES[attrName]; }\n  return attrName\n}\n\n/**\n * Update on single tag expression\n * @this Tag\n * @param { Object } expr - expression logic\n * @returns { undefined }\n */\nfunction updateExpression(expr) {\n  if (this.root && getAttr(this.root,'virtualized')) { return }\n\n  var dom = expr.dom,\n    // remove the riot- prefix\n    attrName = normalizeAttrName(expr.attr),\n    isToggle = contains([SHOW_DIRECTIVE, HIDE_DIRECTIVE], attrName),\n    isVirtual = expr.root && expr.root.tagName === 'VIRTUAL',\n    parent = dom && (expr.parent || dom.parentNode),\n    // detect the style attributes\n    isStyleAttr = attrName === 'style',\n    isClassAttr = attrName === 'class',\n    hasValue,\n    isObj,\n    value;\n\n  // if it's a tag we could totally skip the rest\n  if (expr._riot_id) {\n    if (expr.isMounted) {\n      expr.update();\n    // if it hasn't been mounted yet, do that now.\n    } else {\n      expr.mount();\n      if (isVirtual) {\n        makeReplaceVirtual(expr, expr.root);\n      }\n    }\n    return\n  }\n  // if this expression has the update method it means it can handle the DOM changes by itself\n  if (expr.update) { return expr.update() }\n\n  // ...it seems to be a simple expression so we try to calculat its value\n  value = tmpl(expr.expr, isToggle ? extend({}, Object.create(this.parent), this) : this);\n  hasValue = !isBlank(value);\n  isObj = isObject(value);\n\n  // convert the style/class objects to strings\n  if (isObj) {\n    isObj = !isClassAttr && !isStyleAttr;\n    if (isClassAttr) {\n      value = tmpl(JSON.stringify(value), this);\n    } else if (isStyleAttr) {\n      value = styleObjectToString(value);\n    }\n  }\n\n  // remove original attribute\n  if (expr.attr && (!expr.isAttrRemoved || !hasValue || value === false)) {\n    remAttr(dom, expr.attr);\n    expr.isAttrRemoved = true;\n  }\n\n  // for the boolean attributes we don't need the value\n  // we can convert it to checked=true to checked=checked\n  if (expr.bool) { value = value ? attrName : false; }\n  if (expr.isRtag) { return updateDataIs(expr, this, value) }\n  if (expr.wasParsedOnce && expr.value === value) { return }\n\n  // update the expression value\n  expr.value = value;\n  expr.wasParsedOnce = true;\n\n  // if the value is an object we can not do much more with it\n  if (isObj && !isToggle) { return }\n  // avoid to render undefined/null values\n  if (isBlank(value)) { value = ''; }\n\n  // textarea and text nodes have no attribute name\n  if (!attrName) {\n    // about #815 w/o replace: the browser converts the value to a string,\n    // the comparison by \"==\" does too, but not in the server\n    value += '';\n    // test for parent avoids error with invalid assignment to nodeValue\n    if (parent) {\n      // cache the parent node because somehow it will become null on IE\n      // on the next iteration\n      expr.parent = parent;\n      if (parent.tagName === 'TEXTAREA') {\n        parent.value = value;                    // #1113\n        if (!IE_VERSION) { dom.nodeValue = value; }  // #1625 IE throws here, nodeValue\n      }                                         // will be available on 'updated'\n      else { dom.nodeValue = value; }\n    }\n    return\n  }\n\n\n  // event handler\n  if (isFunction(value)) {\n    setEventHandler(attrName, value, dom, this);\n  // show / hide\n  } else if (isToggle) {\n    toggleVisibility(dom, attrName === HIDE_DIRECTIVE ? !value : value);\n  // handle attributes\n  } else {\n    if (expr.bool) {\n      dom[attrName] = value;\n    }\n\n    if (attrName === 'value' && dom.value !== value) {\n      dom.value = value;\n    }\n\n    if (hasValue && value !== false) {\n      setAttr(dom, attrName, value);\n    }\n\n    // make sure that in case of style changes\n    // the element stays hidden\n    if (isStyleAttr && dom.hidden) { toggleVisibility(dom, false); }\n  }\n}\n\n/**\n * Update all the expressions in a Tag instance\n * @this Tag\n * @param { Array } expressions - expression that must be re evaluated\n */\nfunction updateAllExpressions(expressions) {\n  each(expressions, updateExpression.bind(this));\n}\n\nvar IfExpr = {\n  init: function init(dom, tag, expr) {\n    remAttr(dom, CONDITIONAL_DIRECTIVE);\n    this.tag = tag;\n    this.expr = expr;\n    this.stub = createDOMPlaceholder();\n    this.pristine = dom;\n\n    var p = dom.parentNode;\n    p.insertBefore(this.stub, dom);\n    p.removeChild(dom);\n\n    return this\n  },\n  update: function update() {\n    this.value = tmpl(this.expr, this.tag);\n\n    if (this.value && !this.current) { // insert\n      this.current = this.pristine.cloneNode(true);\n      this.stub.parentNode.insertBefore(this.current, this.stub);\n      this.expressions = [];\n      parseExpressions.apply(this.tag, [this.current, this.expressions, true]);\n    } else if (!this.value && this.current) { // remove\n      unmountAll(this.expressions);\n      if (this.current._tag) {\n        this.current._tag.unmount();\n      } else if (this.current.parentNode) {\n        this.current.parentNode.removeChild(this.current);\n      }\n      this.current = null;\n      this.expressions = [];\n    }\n\n    if (this.value) { updateAllExpressions.call(this.tag, this.expressions); }\n  },\n  unmount: function unmount() {\n    unmountAll(this.expressions || []);\n  }\n};\n\nvar RefExpr = {\n  init: function init(dom, parent, attrName, attrValue) {\n    this.dom = dom;\n    this.attr = attrName;\n    this.rawValue = attrValue;\n    this.parent = parent;\n    this.hasExp = tmpl.hasExpr(attrValue);\n    return this\n  },\n  update: function update() {\n    var old = this.value;\n    var customParent = this.parent && getImmediateCustomParentTag(this.parent);\n    // if the referenced element is a custom tag, then we set the tag itself, rather than DOM\n    var tagOrDom = this.dom.__ref || this.tag || this.dom;\n\n    this.value = this.hasExp ? tmpl(this.rawValue, this.parent) : this.rawValue;\n\n    // the name changed, so we need to remove it from the old key (if present)\n    if (!isBlank(old) && customParent) { arrayishRemove(customParent.refs, old, tagOrDom); }\n    if (!isBlank(this.value) && isString(this.value)) {\n      // add it to the refs of parent tag (this behavior was changed >=3.0)\n      if (customParent) { arrayishAdd(\n        customParent.refs,\n        this.value,\n        tagOrDom,\n        // use an array if it's a looped node and the ref is not an expression\n        null,\n        this.parent.__.index\n      ); }\n\n      if (this.value !== old) {\n        setAttr(this.dom, this.attr, this.value);\n      }\n    } else {\n      remAttr(this.dom, this.attr);\n    }\n\n    // cache the ref bound to this dom node\n    // to reuse it in future (see also #2329)\n    if (!this.dom.__ref) { this.dom.__ref = tagOrDom; }\n  },\n  unmount: function unmount() {\n    var tagOrDom = this.tag || this.dom;\n    var customParent = this.parent && getImmediateCustomParentTag(this.parent);\n    if (!isBlank(this.value) && customParent)\n      { arrayishRemove(customParent.refs, this.value, tagOrDom); }\n  }\n};\n\n/**\n * Convert the item looped into an object used to extend the child tag properties\n * @param   { Object } expr - object containing the keys used to extend the children tags\n * @param   { * } key - value to assign to the new object returned\n * @param   { * } val - value containing the position of the item in the array\n * @param   { Object } base - prototype object for the new item\n * @returns { Object } - new object containing the values of the original item\n *\n * The variables 'key' and 'val' are arbitrary.\n * They depend on the collection type looped (Array, Object)\n * and on the expression used on the each tag\n *\n */\nfunction mkitem(expr, key, val, base) {\n  var item = base ? Object.create(base) : {};\n  item[expr.key] = key;\n  if (expr.pos) { item[expr.pos] = val; }\n  return item\n}\n\n/**\n * Unmount the redundant tags\n * @param   { Array } items - array containing the current items to loop\n * @param   { Array } tags - array containing all the children tags\n */\nfunction unmountRedundant(items, tags) {\n  var i = tags.length,\n    j = items.length;\n\n  while (i > j) {\n    i--;\n    remove.apply(tags[i], [tags, i]);\n  }\n}\n\n\n/**\n * Remove a child tag\n * @this Tag\n * @param   { Array } tags - tags collection\n * @param   { Number } i - index of the tag to remove\n */\nfunction remove(tags, i) {\n  tags.splice(i, 1);\n  this.unmount();\n  arrayishRemove(this.parent, this, this.__.tagName, true);\n}\n\n/**\n * Move the nested custom tags in non custom loop tags\n * @this Tag\n * @param   { Number } i - current position of the loop tag\n */\nfunction moveNestedTags(i) {\n  var this$1 = this;\n\n  each(Object.keys(this.tags), function (tagName) {\n    moveChildTag.apply(this$1.tags[tagName], [tagName, i]);\n  });\n}\n\n/**\n * Move a child tag\n * @this Tag\n * @param   { HTMLElement } root - dom node containing all the loop children\n * @param   { Tag } nextTag - instance of the next tag preceding the one we want to move\n * @param   { Boolean } isVirtual - is it a virtual tag?\n */\nfunction move(root, nextTag, isVirtual) {\n  if (isVirtual)\n    { moveVirtual.apply(this, [root, nextTag]); }\n  else\n    { safeInsert(root, this.root, nextTag.root); }\n}\n\n/**\n * Insert and mount a child tag\n * @this Tag\n * @param   { HTMLElement } root - dom node containing all the loop children\n * @param   { Tag } nextTag - instance of the next tag preceding the one we want to insert\n * @param   { Boolean } isVirtual - is it a virtual tag?\n */\nfunction insert(root, nextTag, isVirtual) {\n  if (isVirtual)\n    { makeVirtual.apply(this, [root, nextTag]); }\n  else\n    { safeInsert(root, this.root, nextTag.root); }\n}\n\n/**\n * Append a new tag into the DOM\n * @this Tag\n * @param   { HTMLElement } root - dom node containing all the loop children\n * @param   { Boolean } isVirtual - is it a virtual tag?\n */\nfunction append(root, isVirtual) {\n  if (isVirtual)\n    { makeVirtual.call(this, root); }\n  else\n    { root.appendChild(this.root); }\n}\n\n/**\n * Manage tags having the 'each'\n * @param   { HTMLElement } dom - DOM node we need to loop\n * @param   { Tag } parent - parent tag instance where the dom node is contained\n * @param   { String } expr - string contained in the 'each' attribute\n * @returns { Object } expression object for this each loop\n */\nfunction _each(dom, parent, expr) {\n\n  // remove the each property from the original tag\n  remAttr(dom, LOOP_DIRECTIVE);\n\n  var mustReorder = typeof getAttr(dom, LOOP_NO_REORDER_DIRECTIVE) !== T_STRING || remAttr(dom, LOOP_NO_REORDER_DIRECTIVE),\n    tagName = getTagName(dom),\n    impl = __TAG_IMPL[tagName],\n    parentNode = dom.parentNode,\n    placeholder = createDOMPlaceholder(),\n    child = getTag(dom),\n    ifExpr = getAttr(dom, CONDITIONAL_DIRECTIVE),\n    tags = [],\n    oldItems = [],\n    hasKeys,\n    isLoop = true,\n    isAnonymous = !__TAG_IMPL[tagName],\n    isVirtual = dom.tagName === 'VIRTUAL';\n\n  // parse the each expression\n  expr = tmpl.loopKeys(expr);\n  expr.isLoop = true;\n\n  if (ifExpr) { remAttr(dom, CONDITIONAL_DIRECTIVE); }\n\n  // insert a marked where the loop tags will be injected\n  parentNode.insertBefore(placeholder, dom);\n  parentNode.removeChild(dom);\n\n  expr.update = function updateEach() {\n    // get the new items collection\n    expr.value = tmpl(expr.val, parent);\n\n    var frag = createFrag(),\n      items = expr.value,\n      isObject$$1 = !isArray(items) && !isString(items),\n      root = placeholder.parentNode;\n\n    // if this DOM was removed the update here is useless\n    // this condition fixes also a weird async issue on IE in our unit test\n    if (!root) { return }\n\n    // object loop. any changes cause full redraw\n    if (isObject$$1) {\n      hasKeys = items || false;\n      items = hasKeys ?\n        Object.keys(items).map(function (key) {\n          return mkitem(expr, items[key], key)\n        }) : [];\n    } else {\n      hasKeys = false;\n    }\n\n    if (ifExpr) {\n      items = items.filter(function(item, i) {\n        if (expr.key && !isObject$$1)\n          { return !!tmpl(ifExpr, mkitem(expr, item, i, parent)) }\n\n        return !!tmpl(ifExpr, extend(Object.create(parent), item))\n      });\n    }\n\n    // loop all the new items\n    each(items, function(item, i) {\n      // reorder only if the items are objects\n      var\n        doReorder = mustReorder && typeof item === T_OBJECT && !hasKeys,\n        oldPos = oldItems.indexOf(item),\n        isNew = oldPos === -1,\n        pos = !isNew && doReorder ? oldPos : i,\n        // does a tag exist in this position?\n        tag = tags[pos],\n        mustAppend = i >= oldItems.length,\n        mustCreate =  doReorder && isNew || !doReorder && !tag;\n\n      item = !hasKeys && expr.key ? mkitem(expr, item, i) : item;\n\n      // new tag\n      if (mustCreate) {\n        tag = new Tag$1(impl, {\n          parent: parent,\n          isLoop: isLoop,\n          isAnonymous: isAnonymous,\n          tagName: tagName,\n          root: dom.cloneNode(isAnonymous),\n          item: item,\n          index: i,\n        }, dom.innerHTML);\n\n        // mount the tag\n        tag.mount();\n\n        if (mustAppend)\n          { append.apply(tag, [frag || root, isVirtual]); }\n        else\n          { insert.apply(tag, [root, tags[i], isVirtual]); }\n\n        if (!mustAppend) { oldItems.splice(i, 0, item); }\n        tags.splice(i, 0, tag);\n        if (child) { arrayishAdd(parent.tags, tagName, tag, true); }\n      } else if (pos !== i && doReorder) {\n        // move\n        if (contains(items, oldItems[pos])) {\n          move.apply(tag, [root, tags[i], isVirtual]);\n          // move the old tag instance\n          tags.splice(i, 0, tags.splice(pos, 1)[0]);\n          // move the old item\n          oldItems.splice(i, 0, oldItems.splice(pos, 1)[0]);\n        }\n\n        // update the position attribute if it exists\n        if (expr.pos) { tag[expr.pos] = i; }\n\n        // if the loop tags are not custom\n        // we need to move all their custom tags into the right position\n        if (!child && tag.tags) { moveNestedTags.call(tag, i); }\n      }\n\n      // cache the original item to use it in the events bound to this node\n      // and its children\n      tag.__.item = item;\n      tag.__.index = i;\n      tag.__.parent = parent;\n\n      if (!mustCreate) { tag.update(item); }\n    });\n\n    // remove the redundant tags\n    unmountRedundant(items, tags);\n\n    // clone the items array\n    oldItems = items.slice();\n\n    // this condition is weird u\n    root.insertBefore(frag, placeholder);\n  };\n\n  expr.unmount = function() {\n    each(tags, function(t) { t.unmount(); });\n  };\n\n  return expr\n}\n\n/**\n * Walk the tag DOM to detect the expressions to evaluate\n * @this Tag\n * @param   { HTMLElement } root - root tag where we will start digging the expressions\n * @param   { Array } expressions - empty array where the expressions will be added\n * @param   { Boolean } mustIncludeRoot - flag to decide whether the root must be parsed as well\n * @returns { Object } an object containing the root noode and the dom tree\n */\nfunction parseExpressions(root, expressions, mustIncludeRoot) {\n  var this$1 = this;\n\n  var tree = {parent: {children: expressions}};\n\n  walkNodes(root, function (dom, ctx) {\n    var type = dom.nodeType, parent = ctx.parent, attr, expr, tagImpl;\n    if (!mustIncludeRoot && dom === root) { return {parent: parent} }\n\n    // text node\n    if (type === 3 && dom.parentNode.tagName !== 'STYLE' && tmpl.hasExpr(dom.nodeValue))\n      { parent.children.push({dom: dom, expr: dom.nodeValue}); }\n\n    if (type !== 1) { return ctx } // not an element\n\n    var isVirtual = dom.tagName === 'VIRTUAL';\n\n    // loop. each does it's own thing (for now)\n    if (attr = getAttr(dom, LOOP_DIRECTIVE)) {\n      if(isVirtual) { setAttr(dom, 'loopVirtual', true); } // ignore here, handled in _each\n      parent.children.push(_each(dom, this$1, attr));\n      return false\n    }\n\n    // if-attrs become the new parent. Any following expressions (either on the current\n    // element, or below it) become children of this expression.\n    if (attr = getAttr(dom, CONDITIONAL_DIRECTIVE)) {\n      parent.children.push(Object.create(IfExpr).init(dom, this$1, attr));\n      return false\n    }\n\n    if (expr = getAttr(dom, IS_DIRECTIVE)) {\n      if (tmpl.hasExpr(expr)) {\n        parent.children.push({isRtag: true, expr: expr, dom: dom, attrs: [].slice.call(dom.attributes)});\n        return false\n      }\n    }\n\n    // if this is a tag, stop traversing here.\n    // we ignore the root, since parseExpressions is called while we're mounting that root\n    tagImpl = getTag(dom);\n    if(isVirtual) {\n      if(getAttr(dom, 'virtualized')) {dom.parentElement.removeChild(dom); } // tag created, remove from dom\n      if(!tagImpl && !getAttr(dom, 'virtualized') && !getAttr(dom, 'loopVirtual'))  // ok to create virtual tag\n        { tagImpl = { tmpl: dom.outerHTML }; }\n    }\n\n    if (tagImpl && (dom !== root || mustIncludeRoot)) {\n      if(isVirtual && !getAttr(dom, IS_DIRECTIVE)) { // handled in update\n        // can not remove attribute like directives\n        // so flag for removal after creation to prevent maximum stack error\n        setAttr(dom, 'virtualized', true);\n\n        var tag = new Tag$1({ tmpl: dom.outerHTML },\n          {root: dom, parent: this$1},\n          dom.innerHTML);\n        parent.children.push(tag); // no return, anonymous tag, keep parsing\n      } else {\n        var conf = {root: dom, parent: this$1, hasImpl: true};\n        parent.children.push(initChildTag(tagImpl, conf, dom.innerHTML, this$1));\n        return false\n      }\n    }\n\n    // attribute expressions\n    parseAttributes.apply(this$1, [dom, dom.attributes, function(attr, expr) {\n      if (!expr) { return }\n      parent.children.push(expr);\n    }]);\n\n    // whatever the parent is, all child elements get the same parent.\n    // If this element had an if-attr, that's the parent for all child elements\n    return {parent: parent}\n  }, tree);\n}\n\n/**\n * Calls `fn` for every attribute on an element. If that attr has an expression,\n * it is also passed to fn.\n * @this Tag\n * @param   { HTMLElement } dom - dom node to parse\n * @param   { Array } attrs - array of attributes\n * @param   { Function } fn - callback to exec on any iteration\n */\nfunction parseAttributes(dom, attrs, fn) {\n  var this$1 = this;\n\n  each(attrs, function (attr) {\n    if (!attr) { return false }\n\n    var name = attr.name, bool = isBoolAttr(name), expr;\n\n    if (contains(REF_DIRECTIVES, name)) {\n      expr =  Object.create(RefExpr).init(dom, this$1, name, attr.value);\n    } else if (tmpl.hasExpr(attr.value)) {\n      expr = {dom: dom, expr: attr.value, attr: name, bool: bool};\n    }\n\n    fn(attr, expr);\n  });\n}\n\n/*\n  Includes hacks needed for the Internet Explorer version 9 and below\n  See: http://kangax.github.io/compat-table/es5/#ie8\n       http://codeplanet.io/dropping-ie8/\n*/\n\nvar reHasYield  = /<yield\\b/i;\nvar reYieldAll  = /<yield\\s*(?:\\/>|>([\\S\\s]*?)<\\/yield\\s*>|>)/ig;\nvar reYieldSrc  = /<yield\\s+to=['\"]([^'\">]*)['\"]\\s*>([\\S\\s]*?)<\\/yield\\s*>/ig;\nvar reYieldDest = /<yield\\s+from=['\"]?([-\\w]+)['\"]?\\s*(?:\\/>|>([\\S\\s]*?)<\\/yield\\s*>)/ig;\nvar rootEls = { tr: 'tbody', th: 'tr', td: 'tr', col: 'colgroup' };\nvar tblTags = IE_VERSION && IE_VERSION < 10 ? RE_SPECIAL_TAGS : RE_SPECIAL_TAGS_NO_OPTION;\nvar GENERIC = 'div';\nvar SVG = 'svg';\n\n\n/*\n  Creates the root element for table or select child elements:\n  tr/th/td/thead/tfoot/tbody/caption/col/colgroup/option/optgroup\n*/\nfunction specialTags(el, tmpl, tagName) {\n\n  var\n    select = tagName[0] === 'o',\n    parent = select ? 'select>' : 'table>';\n\n  // trim() is important here, this ensures we don't have artifacts,\n  // so we can check if we have only one element inside the parent\n  el.innerHTML = '<' + parent + tmpl.trim() + '</' + parent;\n  parent = el.firstChild;\n\n  // returns the immediate parent if tr/th/td/col is the only element, if not\n  // returns the whole tree, as this can include additional elements\n  /* istanbul ignore next */\n  if (select) {\n    parent.selectedIndex = -1;  // for IE9, compatible w/current riot behavior\n  } else {\n    // avoids insertion of cointainer inside container (ex: tbody inside tbody)\n    var tname = rootEls[tagName];\n    if (tname && parent.childElementCount === 1) { parent = $(tname, parent); }\n  }\n  return parent\n}\n\n/*\n  Replace the yield tag from any tag template with the innerHTML of the\n  original tag in the page\n*/\nfunction replaceYield(tmpl, html) {\n  // do nothing if no yield\n  if (!reHasYield.test(tmpl)) { return tmpl }\n\n  // be careful with #1343 - string on the source having `$1`\n  var src = {};\n\n  html = html && html.replace(reYieldSrc, function (_, ref, text) {\n    src[ref] = src[ref] || text;   // preserve first definition\n    return ''\n  }).trim();\n\n  return tmpl\n    .replace(reYieldDest, function (_, ref, def) {  // yield with from - to attrs\n      return src[ref] || def || ''\n    })\n    .replace(reYieldAll, function (_, def) {        // yield without any \"from\"\n      return html || def || ''\n    })\n}\n\n/**\n * Creates a DOM element to wrap the given content. Normally an `DIV`, but can be\n * also a `TABLE`, `SELECT`, `TBODY`, `TR`, or `COLGROUP` element.\n *\n * @param   { String } tmpl  - The template coming from the custom tag definition\n * @param   { String } html - HTML content that comes from the DOM element where you\n *           will mount the tag, mostly the original tag in the page\n * @param   { Boolean } isSvg - true if the root node is an svg\n * @returns { HTMLElement } DOM element with _tmpl_ merged through `YIELD` with the _html_.\n */\nfunction mkdom(tmpl, html, isSvg$$1) {\n  var match   = tmpl && tmpl.match(/^\\s*<([-\\w]+)/),\n    tagName = match && match[1].toLowerCase(),\n    el = mkEl(isSvg$$1 ? SVG : GENERIC);\n\n  // replace all the yield tags with the tag inner html\n  tmpl = replaceYield(tmpl, html);\n\n  /* istanbul ignore next */\n  if (tblTags.test(tagName))\n    { el = specialTags(el, tmpl, tagName); }\n  else\n    { setInnerHTML(el, tmpl); }\n\n  return el\n}\n\n/**\n * Another way to create a riot tag a bit more es6 friendly\n * @param { HTMLElement } el - tag DOM selector or DOM node/s\n * @param { Object } opts - tag logic\n * @returns { Tag } new riot tag instance\n */\nfunction Tag$2(el, opts) {\n  // get the tag properties from the class constructor\n  var ref = this;\n  var name = ref.name;\n  var tmpl = ref.tmpl;\n  var css = ref.css;\n  var attrs = ref.attrs;\n  var onCreate = ref.onCreate;\n  // register a new tag and cache the class prototype\n  if (!__TAG_IMPL[name]) {\n    tag$1(name, tmpl, css, attrs, onCreate);\n    // cache the class constructor\n    __TAG_IMPL[name].class = this.constructor;\n  }\n\n  // mount the tag using the class instance\n  mountTo(el, name, opts, this);\n  // inject the component css\n  if (css) { styleManager.inject(); }\n\n  return this\n}\n\n/**\n * Create a new riot tag implementation\n * @param   { String }   name - name/id of the new riot tag\n * @param   { String }   tmpl - tag template\n * @param   { String }   css - custom tag css\n * @param   { String }   attrs - root tag attributes\n * @param   { Function } fn - user function\n * @returns { String } name/id of the tag just created\n */\nfunction tag$1(name, tmpl, css, attrs, fn) {\n  if (isFunction(attrs)) {\n    fn = attrs;\n\n    if (/^[\\w\\-]+\\s?=/.test(css)) {\n      attrs = css;\n      css = '';\n    } else\n      { attrs = ''; }\n  }\n\n  if (css) {\n    if (isFunction(css))\n      { fn = css; }\n    else\n      { styleManager.add(css); }\n  }\n\n  name = name.toLowerCase();\n  __TAG_IMPL[name] = { name: name, tmpl: tmpl, attrs: attrs, fn: fn };\n\n  return name\n}\n\n/**\n * Create a new riot tag implementation (for use by the compiler)\n * @param   { String }   name - name/id of the new riot tag\n * @param   { String }   tmpl - tag template\n * @param   { String }   css - custom tag css\n * @param   { String }   attrs - root tag attributes\n * @param   { Function } fn - user function\n * @returns { String } name/id of the tag just created\n */\nfunction tag2$1(name, tmpl, css, attrs, fn) {\n  if (css) { styleManager.add(css, name); }\n\n  __TAG_IMPL[name] = { name: name, tmpl: tmpl, attrs: attrs, fn: fn };\n\n  return name\n}\n\n/**\n * Mount a tag using a specific tag implementation\n * @param   { * } selector - tag DOM selector or DOM node/s\n * @param   { String } tagName - tag implementation name\n * @param   { Object } opts - tag logic\n * @returns { Array } new tags instances\n */\nfunction mount$1(selector, tagName, opts) {\n  var tags = [];\n  var elem, allTags;\n\n  function pushTagsTo(root) {\n    if (root.tagName) {\n      var riotTag = getAttr(root, IS_DIRECTIVE), tag;\n\n      // have tagName? force riot-tag to be the same\n      if (tagName && riotTag !== tagName) {\n        riotTag = tagName;\n        setAttr(root, IS_DIRECTIVE, tagName);\n      }\n\n      tag = mountTo(root, riotTag || root.tagName.toLowerCase(), opts);\n\n      if (tag)\n        { tags.push(tag); }\n    } else if (root.length)\n      { each(root, pushTagsTo); } // assume nodeList\n  }\n\n  // inject styles into DOM\n  styleManager.inject();\n\n  if (isObject(tagName)) {\n    opts = tagName;\n    tagName = 0;\n  }\n\n  // crawl the DOM to find the tag\n  if (isString(selector)) {\n    selector = selector === '*' ?\n      // select all registered tags\n      // & tags found with the riot-tag attribute set\n      allTags = selectTags() :\n      // or just the ones named like the selector\n      selector + selectTags(selector.split(/, */));\n\n    // make sure to pass always a selector\n    // to the querySelectorAll function\n    elem = selector ? $$(selector) : [];\n  }\n  else\n    // probably you have passed already a tag or a NodeList\n    { elem = selector; }\n\n  // select all the registered and mount them inside their root elements\n  if (tagName === '*') {\n    // get all custom tags\n    tagName = allTags || selectTags();\n    // if the root els it's just a single tag\n    if (elem.tagName)\n      { elem = $$(tagName, elem); }\n    else {\n      // select all the children for all the different root elements\n      var nodeList = [];\n\n      each(elem, function (_el) { return nodeList.push($$(tagName, _el)); });\n\n      elem = nodeList;\n    }\n    // get rid of the tagName\n    tagName = 0;\n  }\n\n  pushTagsTo(elem);\n\n  return tags\n}\n\n// Create a mixin that could be globally shared across all the tags\nvar mixins = {};\nvar globals = mixins[GLOBAL_MIXIN] = {};\nvar mixins_id = 0;\n\n/**\n * Create/Return a mixin by its name\n * @param   { String }  name - mixin name (global mixin if object)\n * @param   { Object }  mix - mixin logic\n * @param   { Boolean } g - is global?\n * @returns { Object }  the mixin logic\n */\nfunction mixin$1(name, mix, g) {\n  // Unnamed global\n  if (isObject(name)) {\n    mixin$1((\"__\" + (mixins_id++) + \"__\"), name, true);\n    return\n  }\n\n  var store = g ? globals : mixins;\n\n  // Getter\n  if (!mix) {\n    if (isUndefined(store[name]))\n      { throw new Error((\"Unregistered mixin: \" + name)) }\n\n    return store[name]\n  }\n\n  // Setter\n  store[name] = isFunction(mix) ?\n    extend(mix.prototype, store[name] || {}) && mix :\n    extend(store[name] || {}, mix);\n}\n\n/**\n * Update all the tags instances created\n * @returns { Array } all the tags instances\n */\nfunction update$1() {\n  return each(__TAGS_CACHE, function (tag) { return tag.update(); })\n}\n\nfunction unregister$1(name) {\n  __TAG_IMPL[name] = null;\n}\n\nvar version$1 = 'v3.6.0';\n\n\nvar core = Object.freeze({\n\tTag: Tag$2,\n\ttag: tag$1,\n\ttag2: tag2$1,\n\tmount: mount$1,\n\tmixin: mixin$1,\n\tupdate: update$1,\n\tunregister: unregister$1,\n\tversion: version$1\n});\n\n// counter to give a unique id to all the Tag instances\nvar __uid = 0;\n\n/**\n * We need to update opts for this tag. That requires updating the expressions\n * in any attributes on the tag, and then copying the result onto opts.\n * @this Tag\n * @param   {Boolean} isLoop - is it a loop tag?\n * @param   { Tag }  parent - parent tag node\n * @param   { Boolean }  isAnonymous - is it a tag without any impl? (a tag not registered)\n * @param   { Object }  opts - tag options\n * @param   { Array }  instAttrs - tag attributes array\n */\nfunction updateOpts(isLoop, parent, isAnonymous, opts, instAttrs) {\n  // isAnonymous `each` tags treat `dom` and `root` differently. In this case\n  // (and only this case) we don't need to do updateOpts, because the regular parse\n  // will update those attrs. Plus, isAnonymous tags don't need opts anyway\n  if (isLoop && isAnonymous) { return }\n\n  var ctx = !isAnonymous && isLoop ? this : parent || this;\n  each(instAttrs, function (attr) {\n    if (attr.expr) { updateAllExpressions.call(ctx, [attr.expr]); }\n    // normalize the attribute names\n    opts[toCamel(attr.name).replace(ATTRS_PREFIX, '')] = attr.expr ? attr.expr.value : attr.value;\n  });\n}\n\n\n/**\n * Tag class\n * @constructor\n * @param { Object } impl - it contains the tag template, and logic\n * @param { Object } conf - tag options\n * @param { String } innerHTML - html that eventually we need to inject in the tag\n */\nfunction Tag$1(impl, conf, innerHTML) {\n  if ( impl === void 0 ) impl = {};\n  if ( conf === void 0 ) conf = {};\n\n  var opts = extend({}, conf.opts),\n    parent = conf.parent,\n    isLoop = conf.isLoop,\n    isAnonymous = !!conf.isAnonymous,\n    skipAnonymous = settings$1.skipAnonymousTags && isAnonymous,\n    item = cleanUpData(conf.item),\n    index = conf.index, // available only for the looped nodes\n    instAttrs = [], // All attributes on the Tag when it's first parsed\n    implAttrs = [], // expressions on this type of Tag\n    expressions = [],\n    root = conf.root,\n    tagName = conf.tagName || getTagName(root),\n    isVirtual = tagName === 'virtual',\n    isInline = !isVirtual && !impl.tmpl,\n    propsInSyncWithParent = [],\n    dom;\n\n  // make this tag observable\n  if (!skipAnonymous) { observable$1(this); }\n  // only call unmount if we have a valid __TAG_IMPL (has name property)\n  if (impl.name && root._tag) { root._tag.unmount(true); }\n\n  // not yet mounted\n  this.isMounted = false;\n\n  defineProperty(this, '__', {\n    isAnonymous: isAnonymous,\n    instAttrs: instAttrs,\n    innerHTML: innerHTML,\n    tagName: tagName,\n    index: index,\n    isLoop: isLoop,\n    isInline: isInline,\n    // tags having event listeners\n    // it would be better to use weak maps here but we can not introduce breaking changes now\n    listeners: [],\n    // these vars will be needed only for the virtual tags\n    virts: [],\n    tail: null,\n    head: null,\n    parent: null,\n    item: null\n  });\n\n  // create a unique id to this tag\n  // it could be handy to use it also to improve the virtual dom rendering speed\n  defineProperty(this, '_riot_id', ++__uid); // base 1 allows test !t._riot_id\n  defineProperty(this, 'root', root);\n  extend(this, { opts: opts }, item);\n  // protect the \"tags\" and \"refs\" property from being overridden\n  defineProperty(this, 'parent', parent || null);\n  defineProperty(this, 'tags', {});\n  defineProperty(this, 'refs', {});\n\n  if (isInline || isLoop && isAnonymous) {\n    dom = root;\n  } else {\n    if (!isVirtual) { root.innerHTML = ''; }\n    dom = mkdom(impl.tmpl, innerHTML, isSvg(root));\n  }\n\n  /**\n   * Update the tag expressions and options\n   * @param   { * }  data - data we want to use to extend the tag properties\n   * @returns { Tag } the current tag instance\n   */\n  defineProperty(this, 'update', function tagUpdate(data) {\n    var nextOpts = {},\n      canTrigger = this.isMounted && !skipAnonymous;\n\n    // make sure the data passed will not override\n    // the component core methods\n    data = cleanUpData(data);\n    extend(this, data);\n    updateOpts.apply(this, [isLoop, parent, isAnonymous, nextOpts, instAttrs]);\n\n    if (canTrigger && this.isMounted && isFunction(this.shouldUpdate) && !this.shouldUpdate(data, nextOpts)) {\n      return this\n    }\n\n    // inherit properties from the parent, but only for isAnonymous tags\n    if (isLoop && isAnonymous) { inheritFrom.apply(this, [this.parent, propsInSyncWithParent]); }\n    extend(opts, nextOpts);\n    if (canTrigger) { this.trigger('update', data); }\n    updateAllExpressions.call(this, expressions);\n    if (canTrigger) { this.trigger('updated'); }\n\n    return this\n\n  }.bind(this));\n\n  /**\n   * Add a mixin to this tag\n   * @returns { Tag } the current tag instance\n   */\n  defineProperty(this, 'mixin', function tagMixin() {\n    var this$1 = this;\n\n    each(arguments, function (mix) {\n      var instance, obj;\n      var props = [];\n\n      // properties blacklisted and will not be bound to the tag instance\n      var propsBlacklist = ['init', '__proto__'];\n\n      mix = isString(mix) ? mixin$1(mix) : mix;\n\n      // check if the mixin is a function\n      if (isFunction(mix)) {\n        // create the new mixin instance\n        instance = new mix();\n      } else { instance = mix; }\n\n      var proto = Object.getPrototypeOf(instance);\n\n      // build multilevel prototype inheritance chain property list\n      do { props = props.concat(Object.getOwnPropertyNames(obj || instance)); }\n      while (obj = Object.getPrototypeOf(obj || instance))\n\n      // loop the keys in the function prototype or the all object keys\n      each(props, function (key) {\n        // bind methods to this\n        // allow mixins to override other properties/parent mixins\n        if (!contains(propsBlacklist, key)) {\n          // check for getters/setters\n          var descriptor = Object.getOwnPropertyDescriptor(instance, key) || Object.getOwnPropertyDescriptor(proto, key);\n          var hasGetterSetter = descriptor && (descriptor.get || descriptor.set);\n\n          // apply method only if it does not already exist on the instance\n          if (!this$1.hasOwnProperty(key) && hasGetterSetter) {\n            Object.defineProperty(this$1, key, descriptor);\n          } else {\n            this$1[key] = isFunction(instance[key]) ?\n              instance[key].bind(this$1) :\n              instance[key];\n          }\n        }\n      });\n\n      // init method will be called automatically\n      if (instance.init)\n        { instance.init.bind(this$1)(); }\n    });\n    return this\n  }.bind(this));\n\n  /**\n   * Mount the current tag instance\n   * @returns { Tag } the current tag instance\n   */\n  defineProperty(this, 'mount', function tagMount() {\n    var this$1 = this;\n\n    root._tag = this; // keep a reference to the tag just created\n\n    // Read all the attrs on this instance. This give us the info we need for updateOpts\n    parseAttributes.apply(parent, [root, root.attributes, function (attr, expr) {\n      if (!isAnonymous && RefExpr.isPrototypeOf(expr)) { expr.tag = this$1; }\n      attr.expr = expr;\n      instAttrs.push(attr);\n    }]);\n\n    // update the root adding custom attributes coming from the compiler\n    implAttrs = [];\n    walkAttrs(impl.attrs, function (k, v) { implAttrs.push({name: k, value: v}); });\n    parseAttributes.apply(this, [root, implAttrs, function (attr, expr) {\n      if (expr) { expressions.push(expr); }\n      else { setAttr(root, attr.name, attr.value); }\n    }]);\n\n    // initialiation\n    updateOpts.apply(this, [isLoop, parent, isAnonymous, opts, instAttrs]);\n\n    // add global mixins\n    var globalMixin = mixin$1(GLOBAL_MIXIN);\n\n    if (globalMixin && !skipAnonymous) {\n      for (var i in globalMixin) {\n        if (globalMixin.hasOwnProperty(i)) {\n          this$1.mixin(globalMixin[i]);\n        }\n      }\n    }\n\n    if (impl.fn) { impl.fn.call(this, opts); }\n\n    if (!skipAnonymous) { this.trigger('before-mount'); }\n\n    // parse layout after init. fn may calculate args for nested custom tags\n    parseExpressions.apply(this, [dom, expressions, isAnonymous]);\n\n    this.update(item);\n\n    if (!isAnonymous && !isInline) {\n      while (dom.firstChild) { root.appendChild(dom.firstChild); }\n    }\n\n    defineProperty(this, 'root', root);\n    defineProperty(this, 'isMounted', true);\n\n    if (skipAnonymous) { return }\n\n    // if it's not a child tag we can trigger its mount event\n    if (!this.parent) {\n      this.trigger('mount');\n    }\n    // otherwise we need to wait that the parent \"mount\" or \"updated\" event gets triggered\n    else {\n      var p = getImmediateCustomParentTag(this.parent);\n      p.one(!p.isMounted ? 'mount' : 'updated', function () {\n        this$1.trigger('mount');\n      });\n    }\n\n    return this\n\n  }.bind(this));\n\n  /**\n   * Unmount the tag instance\n   * @param { Boolean } mustKeepRoot - if it's true the root node will not be removed\n   * @returns { Tag } the current tag instance\n   */\n  defineProperty(this, 'unmount', function tagUnmount(mustKeepRoot) {\n    var this$1 = this;\n\n    var el = this.root,\n      p = el.parentNode,\n      ptag,\n      tagIndex = __TAGS_CACHE.indexOf(this);\n\n    if (!skipAnonymous) { this.trigger('before-unmount'); }\n\n    // clear all attributes coming from the mounted tag\n    walkAttrs(impl.attrs, function (name) {\n      if (startsWith(name, ATTRS_PREFIX))\n        { name = name.slice(ATTRS_PREFIX.length); }\n\n      remAttr(root, name);\n    });\n\n    // remove all the event listeners\n    this.__.listeners.forEach(function (dom) {\n      Object.keys(dom[RIOT_EVENTS_KEY]).forEach(function (eventName) {\n        dom.removeEventListener(eventName, dom[RIOT_EVENTS_KEY][eventName]);\n      });\n    });\n\n    // remove this tag instance from the global virtualDom variable\n    if (tagIndex !== -1)\n      { __TAGS_CACHE.splice(tagIndex, 1); }\n\n    if (p || isVirtual) {\n      if (parent) {\n        ptag = getImmediateCustomParentTag(parent);\n\n        if (isVirtual) {\n          Object.keys(this.tags).forEach(function (tagName) {\n            arrayishRemove(ptag.tags, tagName, this$1.tags[tagName]);\n          });\n        } else {\n          arrayishRemove(ptag.tags, tagName, this);\n          // remove from _parent too\n          if(parent !== ptag) {\n            arrayishRemove(parent.tags, tagName, this);\n          }\n        }\n      } else {\n        // remove the tag contents\n        setInnerHTML(el, '');\n      }\n\n      if (p && !mustKeepRoot) { p.removeChild(el); }\n    }\n\n    if (this.__.virts) {\n      each(this.__.virts, function (v) {\n        if (v.parentNode) { v.parentNode.removeChild(v); }\n      });\n    }\n\n    // allow expressions to unmount themselves\n    unmountAll(expressions);\n    each(instAttrs, function (a) { return a.expr && a.expr.unmount && a.expr.unmount(); });\n\n    // custom internal unmount function to avoid relying on the observable\n    if (this.__.onUnmount) { this.__.onUnmount(); }\n\n    if (!skipAnonymous) {\n      this.trigger('unmount');\n      this.off('*');\n    }\n\n    defineProperty(this, 'isMounted', false);\n\n    delete this.root._tag;\n\n    return this\n\n  }.bind(this));\n}\n\n/**\n * Detect the tag implementation by a DOM node\n * @param   { Object } dom - DOM node we need to parse to get its tag implementation\n * @returns { Object } it returns an object containing the implementation of a custom tag (template and boot function)\n */\nfunction getTag(dom) {\n  return dom.tagName && __TAG_IMPL[getAttr(dom, IS_DIRECTIVE) ||\n    getAttr(dom, IS_DIRECTIVE) || dom.tagName.toLowerCase()]\n}\n\n/**\n * Inherit properties from a target tag instance\n * @this Tag\n * @param   { Tag } target - tag where we will inherit properties\n * @param   { Array } propsInSyncWithParent - array of properties to sync with the target\n */\nfunction inheritFrom(target, propsInSyncWithParent) {\n  var this$1 = this;\n\n  each(Object.keys(target), function (k) {\n    // some properties must be always in sync with the parent tag\n    var mustSync = !isReservedName(k) && contains(propsInSyncWithParent, k);\n\n    if (isUndefined(this$1[k]) || mustSync) {\n      // track the property to keep in sync\n      // so we can keep it updated\n      if (!mustSync) { propsInSyncWithParent.push(k); }\n      this$1[k] = target[k];\n    }\n  });\n}\n\n/**\n * Move the position of a custom tag in its parent tag\n * @this Tag\n * @param   { String } tagName - key where the tag was stored\n * @param   { Number } newPos - index where the new tag will be stored\n */\nfunction moveChildTag(tagName, newPos) {\n  var parent = this.parent,\n    tags;\n  // no parent no move\n  if (!parent) { return }\n\n  tags = parent.tags[tagName];\n\n  if (isArray(tags))\n    { tags.splice(newPos, 0, tags.splice(tags.indexOf(this), 1)[0]); }\n  else { arrayishAdd(parent.tags, tagName, this); }\n}\n\n/**\n * Create a new child tag including it correctly into its parent\n * @param   { Object } child - child tag implementation\n * @param   { Object } opts - tag options containing the DOM node where the tag will be mounted\n * @param   { String } innerHTML - inner html of the child node\n * @param   { Object } parent - instance of the parent tag including the child custom tag\n * @returns { Object } instance of the new child tag just created\n */\nfunction initChildTag(child, opts, innerHTML, parent) {\n  var tag = new Tag$1(child, opts, innerHTML),\n    tagName = opts.tagName || getTagName(opts.root, true),\n    ptag = getImmediateCustomParentTag(parent);\n  // fix for the parent attribute in the looped elements\n  defineProperty(tag, 'parent', ptag);\n  // store the real parent tag\n  // in some cases this could be different from the custom parent tag\n  // for example in nested loops\n  tag.__.parent = parent;\n\n  // add this tag to the custom parent tag\n  arrayishAdd(ptag.tags, tagName, tag);\n\n  // and also to the real parent tag\n  if (ptag !== parent)\n    { arrayishAdd(parent.tags, tagName, tag); }\n\n  return tag\n}\n\n/**\n * Loop backward all the parents tree to detect the first custom parent tag\n * @param   { Object } tag - a Tag instance\n * @returns { Object } the instance of the first custom parent tag found\n */\nfunction getImmediateCustomParentTag(tag) {\n  var ptag = tag;\n  while (ptag.__.isAnonymous) {\n    if (!ptag.parent) { break }\n    ptag = ptag.parent;\n  }\n  return ptag\n}\n\n/**\n * Trigger the unmount method on all the expressions\n * @param   { Array } expressions - DOM expressions\n */\nfunction unmountAll(expressions) {\n  each(expressions, function(expr) {\n    if (expr instanceof Tag$1) { expr.unmount(true); }\n    else if (expr.tagName) { expr.tag.unmount(true); }\n    else if (expr.unmount) { expr.unmount(); }\n  });\n}\n\n/**\n * Get the tag name of any DOM node\n * @param   { Object } dom - DOM node we want to parse\n * @param   { Boolean } skipDataIs - hack to ignore the data-is attribute when attaching to parent\n * @returns { String } name to identify this dom node in riot\n */\nfunction getTagName(dom, skipDataIs) {\n  var child = getTag(dom),\n    namedTag = !skipDataIs && getAttr(dom, IS_DIRECTIVE);\n  return namedTag && !tmpl.hasExpr(namedTag) ?\n                namedTag :\n              child ? child.name : dom.tagName.toLowerCase()\n}\n\n/**\n * With this function we avoid that the internal Tag methods get overridden\n * @param   { Object } data - options we want to use to extend the tag instance\n * @returns { Object } clean object without containing the riot internal reserved words\n */\nfunction cleanUpData(data) {\n  if (!(data instanceof Tag$1) && !(data && isFunction(data.trigger)))\n    { return data }\n\n  var o = {};\n  for (var key in data) {\n    if (!RE_RESERVED_NAMES.test(key)) { o[key] = data[key]; }\n  }\n  return o\n}\n\n/**\n * Set the property of an object for a given key. If something already\n * exists there, then it becomes an array containing both the old and new value.\n * @param { Object } obj - object on which to set the property\n * @param { String } key - property name\n * @param { Object } value - the value of the property to be set\n * @param { Boolean } ensureArray - ensure that the property remains an array\n * @param { Number } index - add the new item in a certain array position\n */\nfunction arrayishAdd(obj, key, value, ensureArray, index) {\n  var dest = obj[key];\n  var isArr = isArray(dest);\n  var hasIndex = !isUndefined(index);\n\n  if (dest && dest === value) { return }\n\n  // if the key was never set, set it once\n  if (!dest && ensureArray) { obj[key] = [value]; }\n  else if (!dest) { obj[key] = value; }\n  // if it was an array and not yet set\n  else {\n    if (isArr) {\n      var oldIndex = dest.indexOf(value);\n      // this item never changed its position\n      if (oldIndex === index) { return }\n      // remove the item from its old position\n      if (oldIndex !== -1) { dest.splice(oldIndex, 1); }\n      // move or add the item\n      if (hasIndex) {\n        dest.splice(index, 0, value);\n      } else {\n        dest.push(value);\n      }\n    } else { obj[key] = [dest, value]; }\n  }\n}\n\n/**\n * Removes an item from an object at a given key. If the key points to an array,\n * then the item is just removed from the array.\n * @param { Object } obj - object on which to remove the property\n * @param { String } key - property name\n * @param { Object } value - the value of the property to be removed\n * @param { Boolean } ensureArray - ensure that the property remains an array\n*/\nfunction arrayishRemove(obj, key, value, ensureArray) {\n  if (isArray(obj[key])) {\n    var index = obj[key].indexOf(value);\n    if (index !== -1) { obj[key].splice(index, 1); }\n    if (!obj[key].length) { delete obj[key]; }\n    else if (obj[key].length === 1 && !ensureArray) { obj[key] = obj[key][0]; }\n  } else\n    { delete obj[key]; } // otherwise just delete the key\n}\n\n/**\n * Mount a tag creating new Tag instance\n * @param   { Object } root - dom node where the tag will be mounted\n * @param   { String } tagName - name of the riot tag we want to mount\n * @param   { Object } opts - options to pass to the Tag instance\n * @param   { Object } ctx - optional context that will be used to extend an existing class ( used in riot.Tag )\n * @returns { Tag } a new Tag instance\n */\nfunction mountTo(root, tagName, opts, ctx) {\n  var impl = __TAG_IMPL[tagName],\n    implClass = __TAG_IMPL[tagName].class,\n    tag = ctx || (implClass ? Object.create(implClass.prototype) : {}),\n    // cache the inner HTML to fix #855\n    innerHTML = root._innerHTML = root._innerHTML || root.innerHTML;\n\n  var conf = extend({ root: root, opts: opts }, { parent: opts ? opts.parent : null });\n\n  if (impl && root) { Tag$1.apply(tag, [impl, conf, innerHTML]); }\n\n  if (tag && tag.mount) {\n    tag.mount(true);\n    // add this tag to the virtualDom variable\n    if (!contains(__TAGS_CACHE, tag)) { __TAGS_CACHE.push(tag); }\n  }\n\n  return tag\n}\n\n/**\n * makes a tag virtual and replaces a reference in the dom\n * @this Tag\n * @param { tag } the tag to make virtual\n * @param { ref } the dom reference location\n */\nfunction makeReplaceVirtual(tag, ref) {\n  var frag = createFrag();\n  makeVirtual.call(tag, frag);\n  ref.parentNode.replaceChild(frag, ref);\n}\n\n/**\n * Adds the elements for a virtual tag\n * @this Tag\n * @param { Node } src - the node that will do the inserting or appending\n * @param { Tag } target - only if inserting, insert before this tag's first child\n */\nfunction makeVirtual(src, target) {\n  var this$1 = this;\n\n  var head = createDOMPlaceholder(),\n    tail = createDOMPlaceholder(),\n    frag = createFrag(),\n    sib, el;\n\n  this.root.insertBefore(head, this.root.firstChild);\n  this.root.appendChild(tail);\n\n  this.__.head = el = head;\n  this.__.tail = tail;\n\n  while (el) {\n    sib = el.nextSibling;\n    frag.appendChild(el);\n    this$1.__.virts.push(el); // hold for unmounting\n    el = sib;\n  }\n\n  if (target)\n    { src.insertBefore(frag, target.__.head); }\n  else\n    { src.appendChild(frag); }\n}\n\n/**\n * Move virtual tag and all child nodes\n * @this Tag\n * @param { Node } src  - the node that will do the inserting\n * @param { Tag } target - insert before this tag's first child\n */\nfunction moveVirtual(src, target) {\n  var this$1 = this;\n\n  var el = this.__.head,\n    frag = createFrag(),\n    sib;\n\n  while (el) {\n    sib = el.nextSibling;\n    frag.appendChild(el);\n    el = sib;\n    if (el === this$1.__.tail) {\n      frag.appendChild(el);\n      src.insertBefore(frag, target.__.head);\n      break\n    }\n  }\n}\n\n/**\n * Get selectors for tags\n * @param   { Array } tags - tag names to select\n * @returns { String } selector\n */\nfunction selectTags(tags) {\n  // select all tags\n  if (!tags) {\n    var keys = Object.keys(__TAG_IMPL);\n    return keys + selectTags(keys)\n  }\n\n  return tags\n    .filter(function (t) { return !/[^-\\w]/.test(t); })\n    .reduce(function (list, t) {\n      var name = t.trim().toLowerCase();\n      return list + \",[\" + IS_DIRECTIVE + \"=\\\"\" + name + \"\\\"]\"\n    }, '')\n}\n\n\nvar tags = Object.freeze({\n\tgetTag: getTag,\n\tinheritFrom: inheritFrom,\n\tmoveChildTag: moveChildTag,\n\tinitChildTag: initChildTag,\n\tgetImmediateCustomParentTag: getImmediateCustomParentTag,\n\tunmountAll: unmountAll,\n\tgetTagName: getTagName,\n\tcleanUpData: cleanUpData,\n\tarrayishAdd: arrayishAdd,\n\tarrayishRemove: arrayishRemove,\n\tmountTo: mountTo,\n\tmakeReplaceVirtual: makeReplaceVirtual,\n\tmakeVirtual: makeVirtual,\n\tmoveVirtual: moveVirtual,\n\tselectTags: selectTags\n});\n\n/**\n * Riot public api\n */\nvar settings = settings$1;\nvar util = {\n  tmpl: tmpl,\n  brackets: brackets,\n  styleManager: styleManager,\n  vdom: __TAGS_CACHE,\n  styleNode: styleManager.styleNode,\n  // export the riot internal utils as well\n  dom: dom,\n  check: check,\n  misc: misc,\n  tags: tags\n};\n\n// export the core props/methods\nvar Tag$$1 = Tag$2;\nvar tag$$1 = tag$1;\nvar tag2$$1 = tag2$1;\nvar mount$$1 = mount$1;\nvar mixin$$1 = mixin$1;\nvar update$$1 = update$1;\nvar unregister$$1 = unregister$1;\nvar version$$1 = version$1;\nvar observable = observable$1;\n\nvar riot$1 = extend({}, core, {\n  observable: observable$1,\n  settings: settings,\n  util: util,\n});\n\nexports.settings = settings;\nexports.util = util;\nexports.Tag = Tag$$1;\nexports.tag = tag$$1;\nexports.tag2 = tag2$$1;\nexports.mount = mount$$1;\nexports.mixin = mixin$$1;\nexports.update = update$$1;\nexports.unregister = unregister$$1;\nexports.version = version$$1;\nexports.observable = observable;\nexports['default'] = riot$1;\n\nObject.defineProperty(exports, '__esModule', { value: true });\n\n})));\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/riot/riot.js","'use strict';\n\nvar hasOwn = Object.prototype.hasOwnProperty;\nvar toStr = Object.prototype.toString;\n\nvar isArray = function isArray(arr) {\n\tif (typeof Array.isArray === 'function') {\n\t\treturn Array.isArray(arr);\n\t}\n\n\treturn toStr.call(arr) === '[object Array]';\n};\n\nvar isPlainObject = function isPlainObject(obj) {\n\tif (!obj || toStr.call(obj) !== '[object Object]') {\n\t\treturn false;\n\t}\n\n\tvar hasOwnConstructor = hasOwn.call(obj, 'constructor');\n\tvar hasIsPrototypeOf = obj.constructor && obj.constructor.prototype && hasOwn.call(obj.constructor.prototype, 'isPrototypeOf');\n\t// Not own constructor property must be Object\n\tif (obj.constructor && !hasOwnConstructor && !hasIsPrototypeOf) {\n\t\treturn false;\n\t}\n\n\t// Own properties are enumerated firstly, so to speed up,\n\t// if last one is own, then all properties are own.\n\tvar key;\n\tfor (key in obj) { /**/ }\n\n\treturn typeof key === 'undefined' || hasOwn.call(obj, key);\n};\n\nmodule.exports = function extend() {\n\tvar options, name, src, copy, copyIsArray, clone;\n\tvar target = arguments[0];\n\tvar i = 1;\n\tvar length = arguments.length;\n\tvar deep = false;\n\n\t// Handle a deep copy situation\n\tif (typeof target === 'boolean') {\n\t\tdeep = target;\n\t\ttarget = arguments[1] || {};\n\t\t// skip the boolean and the target\n\t\ti = 2;\n\t}\n\tif (target == null || (typeof target !== 'object' && typeof target !== 'function')) {\n\t\ttarget = {};\n\t}\n\n\tfor (; i < length; ++i) {\n\t\toptions = arguments[i];\n\t\t// Only deal with non-null/undefined values\n\t\tif (options != null) {\n\t\t\t// Extend the base object\n\t\t\tfor (name in options) {\n\t\t\t\tsrc = target[name];\n\t\t\t\tcopy = options[name];\n\n\t\t\t\t// Prevent never-ending loop\n\t\t\t\tif (target !== copy) {\n\t\t\t\t\t// Recurse if we're merging plain objects or arrays\n\t\t\t\t\tif (deep && copy && (isPlainObject(copy) || (copyIsArray = isArray(copy)))) {\n\t\t\t\t\t\tif (copyIsArray) {\n\t\t\t\t\t\t\tcopyIsArray = false;\n\t\t\t\t\t\t\tclone = src && isArray(src) ? src : [];\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tclone = src && isPlainObject(src) ? src : {};\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// Never move original objects, clone them\n\t\t\t\t\t\ttarget[name] = extend(deep, clone, copy);\n\n\t\t\t\t\t// Don't bring in undefined values\n\t\t\t\t\t} else if (typeof copy !== 'undefined') {\n\t\t\t\t\t\ttarget[name] = copy;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t// Return the modified object\n\treturn target;\n};\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/extend/index.js","import riot from 'riot'\nimport './js/tags/app.html'\ndocument.body.innerHTML = `<app></app>`\nriot.mount('*')\n// console.log(components)\n\n\n\n// WEBPACK FOOTER //\n// ./src/index.js","import './input-rangeslider.html'\nimport './input-datepicker.html'\nriot.tag2('app', '<input-datepicker></input-datepicker>', '', '', function(opts) {\n});\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/tags/app.html","import noUiSlider from 'nouislider'\nimport extend from 'extend'\nriot.tag2('input-rangeslider', '<div ref=\"slider\"></div>', '', '', function(opts) {\n        this.value = parseFloat(this.opts.initialValue) || 0\n        this.on('mount', ()=>{\n            this.options = {\n                start: this.value,\n                connect: [true, false],\n                range: {\n                    min: 0,\n                    max: 50,\n                },\n                pips: {\n                    mode: 'count',\n                    density: 5,\n                    values: 8\n                }\n            }\n            extend(true, this.options, this.opts.options)\n            noUiSlider.create(this.refs.slider,this.options)\n            this.refs.slider.noUiSlider.on('update', value=>{\n                this.value = parseFloat(value)\n                this.trigger('change', value)\n            })\n        })\n});\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/tags/input-rangeslider.html","/*! nouislider - 10.0.0 - 2017-05-28 14:52:48 */\r\n\r\n(function (factory) {\r\n\r\n    if ( typeof define === 'function' && define.amd ) {\r\n\r\n        // AMD. Register as an anonymous module.\r\n        define([], factory);\r\n\r\n    } else if ( typeof exports === 'object' ) {\r\n\r\n        // Node/CommonJS\r\n        module.exports = factory();\r\n\r\n    } else {\r\n\r\n        // Browser globals\r\n        window.noUiSlider = factory();\r\n    }\r\n\r\n}(function( ){\r\n\r\n\t'use strict';\r\n\r\n\tvar VERSION = '10.0.0';\r\n\r\n\r\n\tfunction isValidFormatter ( entry ) {\r\n\t\treturn typeof entry === 'object' && typeof entry.to === 'function' && typeof entry.from === 'function';\r\n\t}\r\n\r\n\tfunction removeElement ( el ) {\r\n\t\tel.parentElement.removeChild(el);\r\n\t}\r\n\r\n\t// Bindable version\r\n\tfunction preventDefault ( e ) {\r\n\t\te.preventDefault();\r\n\t}\r\n\r\n\t// Removes duplicates from an array.\r\n\tfunction unique ( array ) {\r\n\t\treturn array.filter(function(a){\r\n\t\t\treturn !this[a] ? this[a] = true : false;\r\n\t\t}, {});\r\n\t}\r\n\r\n\t// Round a value to the closest 'to'.\r\n\tfunction closest ( value, to ) {\r\n\t\treturn Math.round(value / to) * to;\r\n\t}\r\n\r\n\t// Current position of an element relative to the document.\r\n\tfunction offset ( elem, orientation ) {\r\n\r\n\t\tvar rect = elem.getBoundingClientRect();\r\n\t\tvar doc = elem.ownerDocument;\r\n\t\tvar docElem = doc.documentElement;\r\n\t\tvar pageOffset = getPageOffset(doc);\r\n\r\n\t\t// getBoundingClientRect contains left scroll in Chrome on Android.\r\n\t\t// I haven't found a feature detection that proves this. Worst case\r\n\t\t// scenario on mis-match: the 'tap' feature on horizontal sliders breaks.\r\n\t\tif ( /webkit.*Chrome.*Mobile/i.test(navigator.userAgent) ) {\r\n\t\t\tpageOffset.x = 0;\r\n\t\t}\r\n\r\n\t\treturn orientation ? (rect.top + pageOffset.y - docElem.clientTop) : (rect.left + pageOffset.x - docElem.clientLeft);\r\n\t}\r\n\r\n\t// Checks whether a value is numerical.\r\n\tfunction isNumeric ( a ) {\r\n\t\treturn typeof a === 'number' && !isNaN( a ) && isFinite( a );\r\n\t}\r\n\r\n\t// Sets a class and removes it after [duration] ms.\r\n\tfunction addClassFor ( element, className, duration ) {\r\n\t\tif (duration > 0) {\r\n\t\taddClass(element, className);\r\n\t\t\tsetTimeout(function(){\r\n\t\t\t\tremoveClass(element, className);\r\n\t\t\t}, duration);\r\n\t\t}\r\n\t}\r\n\r\n\t// Limits a value to 0 - 100\r\n\tfunction limit ( a ) {\r\n\t\treturn Math.max(Math.min(a, 100), 0);\r\n\t}\r\n\r\n\t// Wraps a variable as an array, if it isn't one yet.\r\n\t// Note that an input array is returned by reference!\r\n\tfunction asArray ( a ) {\r\n\t\treturn Array.isArray(a) ? a : [a];\r\n\t}\r\n\r\n\t// Counts decimals\r\n\tfunction countDecimals ( numStr ) {\r\n\t\tnumStr = String(numStr);\r\n\t\tvar pieces = numStr.split(\".\");\r\n\t\treturn pieces.length > 1 ? pieces[1].length : 0;\r\n\t}\r\n\r\n\t// http://youmightnotneedjquery.com/#add_class\r\n\tfunction addClass ( el, className ) {\r\n\t\tif ( el.classList ) {\r\n\t\t\tel.classList.add(className);\r\n\t\t} else {\r\n\t\t\tel.className += ' ' + className;\r\n\t\t}\r\n\t}\r\n\r\n\t// http://youmightnotneedjquery.com/#remove_class\r\n\tfunction removeClass ( el, className ) {\r\n\t\tif ( el.classList ) {\r\n\t\t\tel.classList.remove(className);\r\n\t\t} else {\r\n\t\t\tel.className = el.className.replace(new RegExp('(^|\\\\b)' + className.split(' ').join('|') + '(\\\\b|$)', 'gi'), ' ');\r\n\t\t}\r\n\t}\r\n\r\n\t// https://plainjs.com/javascript/attributes/adding-removing-and-testing-for-classes-9/\r\n\tfunction hasClass ( el, className ) {\r\n\t\treturn el.classList ? el.classList.contains(className) : new RegExp('\\\\b' + className + '\\\\b').test(el.className);\r\n\t}\r\n\r\n\t// https://developer.mozilla.org/en-US/docs/Web/API/Window/scrollY#Notes\r\n\tfunction getPageOffset ( doc ) {\r\n\r\n\t\tvar supportPageOffset = window.pageXOffset !== undefined;\r\n\t\tvar isCSS1Compat = ((doc.compatMode || \"\") === \"CSS1Compat\");\r\n\t\tvar x = supportPageOffset ? window.pageXOffset : isCSS1Compat ? doc.documentElement.scrollLeft : doc.body.scrollLeft;\r\n\t\tvar y = supportPageOffset ? window.pageYOffset : isCSS1Compat ? doc.documentElement.scrollTop : doc.body.scrollTop;\r\n\r\n\t\treturn {\r\n\t\t\tx: x,\r\n\t\t\ty: y\r\n\t\t};\r\n\t}\r\n\r\n\t// we provide a function to compute constants instead\r\n\t// of accessing window.* as soon as the module needs it\r\n\t// so that we do not compute anything if not needed\r\n\tfunction getActions ( ) {\r\n\r\n\t\t// Determine the events to bind. IE11 implements pointerEvents without\r\n\t\t// a prefix, which breaks compatibility with the IE10 implementation.\r\n\t\treturn window.navigator.pointerEnabled ? {\r\n\t\t\tstart: 'pointerdown',\r\n\t\t\tmove: 'pointermove',\r\n\t\t\tend: 'pointerup'\r\n\t\t} : window.navigator.msPointerEnabled ? {\r\n\t\t\tstart: 'MSPointerDown',\r\n\t\t\tmove: 'MSPointerMove',\r\n\t\t\tend: 'MSPointerUp'\r\n\t\t} : {\r\n\t\t\tstart: 'mousedown touchstart',\r\n\t\t\tmove: 'mousemove touchmove',\r\n\t\t\tend: 'mouseup touchend'\r\n\t\t};\r\n\t}\r\n\r\n\t// https://github.com/WICG/EventListenerOptions/blob/gh-pages/explainer.md\r\n\t// Issue #785\r\n\tfunction getSupportsPassive ( ) {\r\n\r\n\t\tvar supportsPassive = false;\r\n\r\n\t\ttry {\r\n\r\n\t\t\tvar opts = Object.defineProperty({}, 'passive', {\r\n\t\t\t\tget: function() {\r\n\t\t\t\t\tsupportsPassive = true;\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\twindow.addEventListener('test', null, opts);\r\n\r\n\t\t} catch (e) {}\r\n\r\n\t\treturn supportsPassive;\r\n\t}\r\n\r\n\tfunction getSupportsTouchActionNone ( ) {\r\n\t\treturn window.CSS && CSS.supports && CSS.supports('touch-action', 'none');\r\n\t}\r\n\r\n\r\n// Value calculation\r\n\r\n\t// Determine the size of a sub-range in relation to a full range.\r\n\tfunction subRangeRatio ( pa, pb ) {\r\n\t\treturn (100 / (pb - pa));\r\n\t}\r\n\r\n\t// (percentage) How many percent is this value of this range?\r\n\tfunction fromPercentage ( range, value ) {\r\n\t\treturn (value * 100) / ( range[1] - range[0] );\r\n\t}\r\n\r\n\t// (percentage) Where is this value on this range?\r\n\tfunction toPercentage ( range, value ) {\r\n\t\treturn fromPercentage( range, range[0] < 0 ?\r\n\t\t\tvalue + Math.abs(range[0]) :\r\n\t\t\t\tvalue - range[0] );\r\n\t}\r\n\r\n\t// (value) How much is this percentage on this range?\r\n\tfunction isPercentage ( range, value ) {\r\n\t\treturn ((value * ( range[1] - range[0] )) / 100) + range[0];\r\n\t}\r\n\r\n\r\n// Range conversion\r\n\r\n\tfunction getJ ( value, arr ) {\r\n\r\n\t\tvar j = 1;\r\n\r\n\t\twhile ( value >= arr[j] ){\r\n\t\t\tj += 1;\r\n\t\t}\r\n\r\n\t\treturn j;\r\n\t}\r\n\r\n\t// (percentage) Input a value, find where, on a scale of 0-100, it applies.\r\n\tfunction toStepping ( xVal, xPct, value ) {\r\n\r\n\t\tif ( value >= xVal.slice(-1)[0] ){\r\n\t\t\treturn 100;\r\n\t\t}\r\n\r\n\t\tvar j = getJ( value, xVal ), va, vb, pa, pb;\r\n\r\n\t\tva = xVal[j-1];\r\n\t\tvb = xVal[j];\r\n\t\tpa = xPct[j-1];\r\n\t\tpb = xPct[j];\r\n\r\n\t\treturn pa + (toPercentage([va, vb], value) / subRangeRatio (pa, pb));\r\n\t}\r\n\r\n\t// (value) Input a percentage, find where it is on the specified range.\r\n\tfunction fromStepping ( xVal, xPct, value ) {\r\n\r\n\t\t// There is no range group that fits 100\r\n\t\tif ( value >= 100 ){\r\n\t\t\treturn xVal.slice(-1)[0];\r\n\t\t}\r\n\r\n\t\tvar j = getJ( value, xPct ), va, vb, pa, pb;\r\n\r\n\t\tva = xVal[j-1];\r\n\t\tvb = xVal[j];\r\n\t\tpa = xPct[j-1];\r\n\t\tpb = xPct[j];\r\n\r\n\t\treturn isPercentage([va, vb], (value - pa) * subRangeRatio (pa, pb));\r\n\t}\r\n\r\n\t// (percentage) Get the step that applies at a certain value.\r\n\tfunction getStep ( xPct, xSteps, snap, value ) {\r\n\r\n\t\tif ( value === 100 ) {\r\n\t\t\treturn value;\r\n\t\t}\r\n\r\n\t\tvar j = getJ( value, xPct ), a, b;\r\n\r\n\t\t// If 'snap' is set, steps are used as fixed points on the slider.\r\n\t\tif ( snap ) {\r\n\r\n\t\t\ta = xPct[j-1];\r\n\t\t\tb = xPct[j];\r\n\r\n\t\t\t// Find the closest position, a or b.\r\n\t\t\tif ((value - a) > ((b-a)/2)){\r\n\t\t\t\treturn b;\r\n\t\t\t}\r\n\r\n\t\t\treturn a;\r\n\t\t}\r\n\r\n\t\tif ( !xSteps[j-1] ){\r\n\t\t\treturn value;\r\n\t\t}\r\n\r\n\t\treturn xPct[j-1] + closest(\r\n\t\t\tvalue - xPct[j-1],\r\n\t\t\txSteps[j-1]\r\n\t\t);\r\n\t}\r\n\r\n\r\n// Entry parsing\r\n\r\n\tfunction handleEntryPoint ( index, value, that ) {\r\n\r\n\t\tvar percentage;\r\n\r\n\t\t// Wrap numerical input in an array.\r\n\t\tif ( typeof value === \"number\" ) {\r\n\t\t\tvalue = [value];\r\n\t\t}\r\n\r\n\t\t// Reject any invalid input, by testing whether value is an array.\r\n\t\tif ( Object.prototype.toString.call( value ) !== '[object Array]' ){\r\n\t\t\tthrow new Error(\"noUiSlider (\" + VERSION + \"): 'range' contains invalid value.\");\r\n\t\t}\r\n\r\n\t\t// Covert min/max syntax to 0 and 100.\r\n\t\tif ( index === 'min' ) {\r\n\t\t\tpercentage = 0;\r\n\t\t} else if ( index === 'max' ) {\r\n\t\t\tpercentage = 100;\r\n\t\t} else {\r\n\t\t\tpercentage = parseFloat( index );\r\n\t\t}\r\n\r\n\t\t// Check for correct input.\r\n\t\tif ( !isNumeric( percentage ) || !isNumeric( value[0] ) ) {\r\n\t\t\tthrow new Error(\"noUiSlider (\" + VERSION + \"): 'range' value isn't numeric.\");\r\n\t\t}\r\n\r\n\t\t// Store values.\r\n\t\tthat.xPct.push( percentage );\r\n\t\tthat.xVal.push( value[0] );\r\n\r\n\t\t// NaN will evaluate to false too, but to keep\r\n\t\t// logging clear, set step explicitly. Make sure\r\n\t\t// not to override the 'step' setting with false.\r\n\t\tif ( !percentage ) {\r\n\t\t\tif ( !isNaN( value[1] ) ) {\r\n\t\t\t\tthat.xSteps[0] = value[1];\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tthat.xSteps.push( isNaN(value[1]) ? false : value[1] );\r\n\t\t}\r\n\r\n\t\tthat.xHighestCompleteStep.push(0);\r\n\t}\r\n\r\n\tfunction handleStepPoint ( i, n, that ) {\r\n\r\n\t\t// Ignore 'false' stepping.\r\n\t\tif ( !n ) {\r\n\t\t\treturn true;\r\n\t\t}\r\n\r\n\t\t// Factor to range ratio\r\n\t\tthat.xSteps[i] = fromPercentage([\r\n\t\t\t that.xVal[i]\r\n\t\t\t,that.xVal[i+1]\r\n\t\t], n) / subRangeRatio (\r\n\t\t\tthat.xPct[i],\r\n\t\t\tthat.xPct[i+1] );\r\n\r\n\t\tvar totalSteps = (that.xVal[i+1] - that.xVal[i]) / that.xNumSteps[i];\r\n\t\tvar highestStep = Math.ceil(Number(totalSteps.toFixed(3)) - 1);\r\n\t\tvar step = that.xVal[i] + (that.xNumSteps[i] * highestStep);\r\n\r\n\t\tthat.xHighestCompleteStep[i] = step;\r\n\t}\r\n\r\n\r\n// Interface\r\n\r\n\tfunction Spectrum ( entry, snap, singleStep ) {\r\n\r\n\t\tthis.xPct = [];\r\n\t\tthis.xVal = [];\r\n\t\tthis.xSteps = [ singleStep || false ];\r\n\t\tthis.xNumSteps = [ false ];\r\n\t\tthis.xHighestCompleteStep = [];\r\n\r\n\t\tthis.snap = snap;\r\n\r\n\t\tvar index, ordered = [ /* [0, 'min'], [1, '50%'], [2, 'max'] */ ];\r\n\r\n\t\t// Map the object keys to an array.\r\n\t\tfor ( index in entry ) {\r\n\t\t\tif ( entry.hasOwnProperty(index) ) {\r\n\t\t\t\tordered.push([entry[index], index]);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// Sort all entries by value (numeric sort).\r\n\t\tif ( ordered.length && typeof ordered[0][0] === \"object\" ) {\r\n\t\t\tordered.sort(function(a, b) { return a[0][0] - b[0][0]; });\r\n\t\t} else {\r\n\t\t\tordered.sort(function(a, b) { return a[0] - b[0]; });\r\n\t\t}\r\n\r\n\r\n\t\t// Convert all entries to subranges.\r\n\t\tfor ( index = 0; index < ordered.length; index++ ) {\r\n\t\t\thandleEntryPoint(ordered[index][1], ordered[index][0], this);\r\n\t\t}\r\n\r\n\t\t// Store the actual step values.\r\n\t\t// xSteps is sorted in the same order as xPct and xVal.\r\n\t\tthis.xNumSteps = this.xSteps.slice(0);\r\n\r\n\t\t// Convert all numeric steps to the percentage of the subrange they represent.\r\n\t\tfor ( index = 0; index < this.xNumSteps.length; index++ ) {\r\n\t\t\thandleStepPoint(index, this.xNumSteps[index], this);\r\n\t\t}\r\n\t}\r\n\r\n\tSpectrum.prototype.getMargin = function ( value ) {\r\n\r\n\t\tvar step = this.xNumSteps[0];\r\n\r\n\t\tif ( step && ((value / step) % 1) !== 0 ) {\r\n\t\t\tthrow new Error(\"noUiSlider (\" + VERSION + \"): 'limit', 'margin' and 'padding' must be divisible by step.\");\r\n\t\t}\r\n\r\n\t\treturn this.xPct.length === 2 ? fromPercentage(this.xVal, value) : false;\r\n\t};\r\n\r\n\tSpectrum.prototype.toStepping = function ( value ) {\r\n\r\n\t\tvalue = toStepping( this.xVal, this.xPct, value );\r\n\r\n\t\treturn value;\r\n\t};\r\n\r\n\tSpectrum.prototype.fromStepping = function ( value ) {\r\n\r\n\t\treturn fromStepping( this.xVal, this.xPct, value );\r\n\t};\r\n\r\n\tSpectrum.prototype.getStep = function ( value ) {\r\n\r\n\t\tvalue = getStep(this.xPct, this.xSteps, this.snap, value );\r\n\r\n\t\treturn value;\r\n\t};\r\n\r\n\tSpectrum.prototype.getNearbySteps = function ( value ) {\r\n\r\n\t\tvar j = getJ(value, this.xPct);\r\n\r\n\t\treturn {\r\n\t\t\tstepBefore: { startValue: this.xVal[j-2], step: this.xNumSteps[j-2], highestStep: this.xHighestCompleteStep[j-2] },\r\n\t\t\tthisStep: { startValue: this.xVal[j-1], step: this.xNumSteps[j-1], highestStep: this.xHighestCompleteStep[j-1] },\r\n\t\t\tstepAfter: { startValue: this.xVal[j-0], step: this.xNumSteps[j-0], highestStep: this.xHighestCompleteStep[j-0] }\r\n\t\t};\r\n\t};\r\n\r\n\tSpectrum.prototype.countStepDecimals = function () {\r\n\t\tvar stepDecimals = this.xNumSteps.map(countDecimals);\r\n\t\treturn Math.max.apply(null, stepDecimals);\r\n \t};\r\n\r\n\t// Outside testing\r\n\tSpectrum.prototype.convert = function ( value ) {\r\n\t\treturn this.getStep(this.toStepping(value));\r\n\t};\r\n\r\n/*\tEvery input option is tested and parsed. This'll prevent\r\n\tendless validation in internal methods. These tests are\r\n\tstructured with an item for every option available. An\r\n\toption can be marked as required by setting the 'r' flag.\r\n\tThe testing function is provided with three arguments:\r\n\t\t- The provided value for the option;\r\n\t\t- A reference to the options object;\r\n\t\t- The name for the option;\r\n\r\n\tThe testing function returns false when an error is detected,\r\n\tor true when everything is OK. It can also modify the option\r\n\tobject, to make sure all values can be correctly looped elsewhere. */\r\n\r\n\tvar defaultFormatter = { 'to': function( value ){\r\n\t\treturn value !== undefined && value.toFixed(2);\r\n\t}, 'from': Number };\r\n\r\n\tfunction validateFormat ( entry ) {\r\n\r\n\t\t// Any object with a to and from method is supported.\r\n\t\tif ( isValidFormatter(entry) ) {\r\n\t\t\treturn true;\r\n\t\t}\r\n\r\n\t\tthrow new Error(\"noUiSlider (\" + VERSION + \"): 'format' requires 'to' and 'from' methods.\");\r\n\t}\r\n\r\n\tfunction testStep ( parsed, entry ) {\r\n\r\n\t\tif ( !isNumeric( entry ) ) {\r\n\t\t\tthrow new Error(\"noUiSlider (\" + VERSION + \"): 'step' is not numeric.\");\r\n\t\t}\r\n\r\n\t\t// The step option can still be used to set stepping\r\n\t\t// for linear sliders. Overwritten if set in 'range'.\r\n\t\tparsed.singleStep = entry;\r\n\t}\r\n\r\n\tfunction testRange ( parsed, entry ) {\r\n\r\n\t\t// Filter incorrect input.\r\n\t\tif ( typeof entry !== 'object' || Array.isArray(entry) ) {\r\n\t\t\tthrow new Error(\"noUiSlider (\" + VERSION + \"): 'range' is not an object.\");\r\n\t\t}\r\n\r\n\t\t// Catch missing start or end.\r\n\t\tif ( entry.min === undefined || entry.max === undefined ) {\r\n\t\t\tthrow new Error(\"noUiSlider (\" + VERSION + \"): Missing 'min' or 'max' in 'range'.\");\r\n\t\t}\r\n\r\n\t\t// Catch equal start or end.\r\n\t\tif ( entry.min === entry.max ) {\r\n\t\t\tthrow new Error(\"noUiSlider (\" + VERSION + \"): 'range' 'min' and 'max' cannot be equal.\");\r\n\t\t}\r\n\r\n\t\tparsed.spectrum = new Spectrum(entry, parsed.snap, parsed.singleStep);\r\n\t}\r\n\r\n\tfunction testStart ( parsed, entry ) {\r\n\r\n\t\tentry = asArray(entry);\r\n\r\n\t\t// Validate input. Values aren't tested, as the public .val method\r\n\t\t// will always provide a valid location.\r\n\t\tif ( !Array.isArray( entry ) || !entry.length ) {\r\n\t\t\tthrow new Error(\"noUiSlider (\" + VERSION + \"): 'start' option is incorrect.\");\r\n\t\t}\r\n\r\n\t\t// Store the number of handles.\r\n\t\tparsed.handles = entry.length;\r\n\r\n\t\t// When the slider is initialized, the .val method will\r\n\t\t// be called with the start options.\r\n\t\tparsed.start = entry;\r\n\t}\r\n\r\n\tfunction testSnap ( parsed, entry ) {\r\n\r\n\t\t// Enforce 100% stepping within subranges.\r\n\t\tparsed.snap = entry;\r\n\r\n\t\tif ( typeof entry !== 'boolean' ){\r\n\t\t\tthrow new Error(\"noUiSlider (\" + VERSION + \"): 'snap' option must be a boolean.\");\r\n\t\t}\r\n\t}\r\n\r\n\tfunction testAnimate ( parsed, entry ) {\r\n\r\n\t\t// Enforce 100% stepping within subranges.\r\n\t\tparsed.animate = entry;\r\n\r\n\t\tif ( typeof entry !== 'boolean' ){\r\n\t\t\tthrow new Error(\"noUiSlider (\" + VERSION + \"): 'animate' option must be a boolean.\");\r\n\t\t}\r\n\t}\r\n\r\n\tfunction testAnimationDuration ( parsed, entry ) {\r\n\r\n\t\tparsed.animationDuration = entry;\r\n\r\n\t\tif ( typeof entry !== 'number' ){\r\n\t\t\tthrow new Error(\"noUiSlider (\" + VERSION + \"): 'animationDuration' option must be a number.\");\r\n\t\t}\r\n\t}\r\n\r\n\tfunction testConnect ( parsed, entry ) {\r\n\r\n\t\tvar connect = [false];\r\n\t\tvar i;\r\n\r\n\t\t// Map legacy options\r\n\t\tif ( entry === 'lower' ) {\r\n\t\t\tentry = [true, false];\r\n\t\t}\r\n\r\n\t\telse if ( entry === 'upper' ) {\r\n\t\t\tentry = [false, true];\r\n\t\t}\r\n\r\n\t\t// Handle boolean options\r\n\t\tif ( entry === true || entry === false ) {\r\n\r\n\t\t\tfor ( i = 1; i < parsed.handles; i++ ) {\r\n\t\t\t\tconnect.push(entry);\r\n\t\t\t}\r\n\r\n\t\t\tconnect.push(false);\r\n\t\t}\r\n\r\n\t\t// Reject invalid input\r\n\t\telse if ( !Array.isArray( entry ) || !entry.length || entry.length !== parsed.handles + 1 ) {\r\n\t\t\tthrow new Error(\"noUiSlider (\" + VERSION + \"): 'connect' option doesn't match handle count.\");\r\n\t\t}\r\n\r\n\t\telse {\r\n\t\t\tconnect = entry;\r\n\t\t}\r\n\r\n\t\tparsed.connect = connect;\r\n\t}\r\n\r\n\tfunction testOrientation ( parsed, entry ) {\r\n\r\n\t\t// Set orientation to an a numerical value for easy\r\n\t\t// array selection.\r\n\t\tswitch ( entry ){\r\n\t\t  case 'horizontal':\r\n\t\t\tparsed.ort = 0;\r\n\t\t\tbreak;\r\n\t\t  case 'vertical':\r\n\t\t\tparsed.ort = 1;\r\n\t\t\tbreak;\r\n\t\t  default:\r\n\t\t\tthrow new Error(\"noUiSlider (\" + VERSION + \"): 'orientation' option is invalid.\");\r\n\t\t}\r\n\t}\r\n\r\n\tfunction testMargin ( parsed, entry ) {\r\n\r\n\t\tif ( !isNumeric(entry) ){\r\n\t\t\tthrow new Error(\"noUiSlider (\" + VERSION + \"): 'margin' option must be numeric.\");\r\n\t\t}\r\n\r\n\t\t// Issue #582\r\n\t\tif ( entry === 0 ) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tparsed.margin = parsed.spectrum.getMargin(entry);\r\n\r\n\t\tif ( !parsed.margin ) {\r\n\t\t\tthrow new Error(\"noUiSlider (\" + VERSION + \"): 'margin' option is only supported on linear sliders.\");\r\n\t\t}\r\n\t}\r\n\r\n\tfunction testLimit ( parsed, entry ) {\r\n\r\n\t\tif ( !isNumeric(entry) ){\r\n\t\t\tthrow new Error(\"noUiSlider (\" + VERSION + \"): 'limit' option must be numeric.\");\r\n\t\t}\r\n\r\n\t\tparsed.limit = parsed.spectrum.getMargin(entry);\r\n\r\n\t\tif ( !parsed.limit || parsed.handles < 2 ) {\r\n\t\t\tthrow new Error(\"noUiSlider (\" + VERSION + \"): 'limit' option is only supported on linear sliders with 2 or more handles.\");\r\n\t\t}\r\n\t}\r\n\r\n\tfunction testPadding ( parsed, entry ) {\r\n\r\n\t\tif ( !isNumeric(entry) ){\r\n\t\t\tthrow new Error(\"noUiSlider (\" + VERSION + \"): 'padding' option must be numeric.\");\r\n\t\t}\r\n\r\n\t\tif ( entry === 0 ) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tparsed.padding = parsed.spectrum.getMargin(entry);\r\n\r\n\t\tif ( !parsed.padding ) {\r\n\t\t\tthrow new Error(\"noUiSlider (\" + VERSION + \"): 'padding' option is only supported on linear sliders.\");\r\n\t\t}\r\n\r\n\t\tif ( parsed.padding < 0 ) {\r\n\t\t\tthrow new Error(\"noUiSlider (\" + VERSION + \"): 'padding' option must be a positive number.\");\r\n\t\t}\r\n\r\n\t\tif ( parsed.padding >= 50 ) {\r\n\t\t\tthrow new Error(\"noUiSlider (\" + VERSION + \"): 'padding' option must be less than half the range.\");\r\n\t\t}\r\n\t}\r\n\r\n\tfunction testDirection ( parsed, entry ) {\r\n\r\n\t\t// Set direction as a numerical value for easy parsing.\r\n\t\t// Invert connection for RTL sliders, so that the proper\r\n\t\t// handles get the connect/background classes.\r\n\t\tswitch ( entry ) {\r\n\t\t  case 'ltr':\r\n\t\t\tparsed.dir = 0;\r\n\t\t\tbreak;\r\n\t\t  case 'rtl':\r\n\t\t\tparsed.dir = 1;\r\n\t\t\tbreak;\r\n\t\t  default:\r\n\t\t\tthrow new Error(\"noUiSlider (\" + VERSION + \"): 'direction' option was not recognized.\");\r\n\t\t}\r\n\t}\r\n\r\n\tfunction testBehaviour ( parsed, entry ) {\r\n\r\n\t\t// Make sure the input is a string.\r\n\t\tif ( typeof entry !== 'string' ) {\r\n\t\t\tthrow new Error(\"noUiSlider (\" + VERSION + \"): 'behaviour' must be a string containing options.\");\r\n\t\t}\r\n\r\n\t\t// Check if the string contains any keywords.\r\n\t\t// None are required.\r\n\t\tvar tap = entry.indexOf('tap') >= 0;\r\n\t\tvar drag = entry.indexOf('drag') >= 0;\r\n\t\tvar fixed = entry.indexOf('fixed') >= 0;\r\n\t\tvar snap = entry.indexOf('snap') >= 0;\r\n\t\tvar hover = entry.indexOf('hover') >= 0;\r\n\r\n\t\tif ( fixed ) {\r\n\r\n\t\t\tif ( parsed.handles !== 2 ) {\r\n\t\t\t\tthrow new Error(\"noUiSlider (\" + VERSION + \"): 'fixed' behaviour must be used with 2 handles\");\r\n\t\t\t}\r\n\r\n\t\t\t// Use margin to enforce fixed state\r\n\t\t\ttestMargin(parsed, parsed.start[1] - parsed.start[0]);\r\n\t\t}\r\n\r\n\t\tparsed.events = {\r\n\t\t\ttap: tap || snap,\r\n\t\t\tdrag: drag,\r\n\t\t\tfixed: fixed,\r\n\t\t\tsnap: snap,\r\n\t\t\thover: hover\r\n\t\t};\r\n\t}\r\n\r\n\tfunction testTooltips ( parsed, entry ) {\r\n\r\n\t\tif ( entry === false ) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\telse if ( entry === true ) {\r\n\r\n\t\t\tparsed.tooltips = [];\r\n\r\n\t\t\tfor ( var i = 0; i < parsed.handles; i++ ) {\r\n\t\t\t\tparsed.tooltips.push(true);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\telse {\r\n\r\n\t\t\tparsed.tooltips = asArray(entry);\r\n\r\n\t\t\tif ( parsed.tooltips.length !== parsed.handles ) {\r\n\t\t\t\tthrow new Error(\"noUiSlider (\" + VERSION + \"): must pass a formatter for all handles.\");\r\n\t\t\t}\r\n\r\n\t\t\tparsed.tooltips.forEach(function(formatter){\r\n\t\t\t\tif ( typeof formatter !== 'boolean' && (typeof formatter !== 'object' || typeof formatter.to !== 'function') ) {\r\n\t\t\t\t\tthrow new Error(\"noUiSlider (\" + VERSION + \"): 'tooltips' must be passed a formatter or 'false'.\");\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\r\n\tfunction testAriaFormat ( parsed, entry ) {\r\n\t\tparsed.ariaFormat = entry;\r\n\t\tvalidateFormat(entry);\r\n\t}\r\n\r\n\tfunction testFormat ( parsed, entry ) {\r\n\t\tparsed.format = entry;\r\n\t\tvalidateFormat(entry);\r\n\t}\r\n\r\n\tfunction testCssPrefix ( parsed, entry ) {\r\n\r\n\t\tif ( entry !== undefined && typeof entry !== 'string' && entry !== false ) {\r\n\t\t\tthrow new Error(\"noUiSlider (\" + VERSION + \"): 'cssPrefix' must be a string or `false`.\");\r\n\t\t}\r\n\r\n\t\tparsed.cssPrefix = entry;\r\n\t}\r\n\r\n\tfunction testCssClasses ( parsed, entry ) {\r\n\r\n\t\tif ( entry !== undefined && typeof entry !== 'object' ) {\r\n\t\t\tthrow new Error(\"noUiSlider (\" + VERSION + \"): 'cssClasses' must be an object.\");\r\n\t\t}\r\n\r\n\t\tif ( typeof parsed.cssPrefix === 'string' ) {\r\n\t\t\tparsed.cssClasses = {};\r\n\r\n\t\t\tfor ( var key in entry ) {\r\n\t\t\t\tif ( !entry.hasOwnProperty(key) ) { continue; }\r\n\r\n\t\t\t\tparsed.cssClasses[key] = parsed.cssPrefix + entry[key];\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tparsed.cssClasses = entry;\r\n\t\t}\r\n\t}\r\n\r\n\tfunction testUseRaf ( parsed, entry ) {\r\n\t\tif ( entry === true || entry === false ) {\r\n\t\t\tparsed.useRequestAnimationFrame = entry;\r\n\t\t} else {\r\n\t\t\tthrow new Error(\"noUiSlider (\" + VERSION + \"): 'useRequestAnimationFrame' option should be true (default) or false.\");\r\n\t\t}\r\n\t}\r\n\r\n\t// Test all developer settings and parse to assumption-safe values.\r\n\tfunction testOptions ( options ) {\r\n\r\n\t\t// To prove a fix for #537, freeze options here.\r\n\t\t// If the object is modified, an error will be thrown.\r\n\t\t// Object.freeze(options);\r\n\r\n\t\tvar parsed = {\r\n\t\t\tmargin: 0,\r\n\t\t\tlimit: 0,\r\n\t\t\tpadding: 0,\r\n\t\t\tanimate: true,\r\n\t\t\tanimationDuration: 300,\r\n\t\t\tariaFormat: defaultFormatter,\r\n\t\t\tformat: defaultFormatter\r\n\t\t};\r\n\r\n\t\t// Tests are executed in the order they are presented here.\r\n\t\tvar tests = {\r\n\t\t\t'step': { r: false, t: testStep },\r\n\t\t\t'start': { r: true, t: testStart },\r\n\t\t\t'connect': { r: true, t: testConnect },\r\n\t\t\t'direction': { r: true, t: testDirection },\r\n\t\t\t'snap': { r: false, t: testSnap },\r\n\t\t\t'animate': { r: false, t: testAnimate },\r\n\t\t\t'animationDuration': { r: false, t: testAnimationDuration },\r\n\t\t\t'range': { r: true, t: testRange },\r\n\t\t\t'orientation': { r: false, t: testOrientation },\r\n\t\t\t'margin': { r: false, t: testMargin },\r\n\t\t\t'limit': { r: false, t: testLimit },\r\n\t\t\t'padding': { r: false, t: testPadding },\r\n\t\t\t'behaviour': { r: true, t: testBehaviour },\r\n\t\t\t'ariaFormat': { r: false, t: testAriaFormat },\r\n\t\t\t'format': { r: false, t: testFormat },\r\n\t\t\t'tooltips': { r: false, t: testTooltips },\r\n\t\t\t'cssPrefix': { r: false, t: testCssPrefix },\r\n\t\t\t'cssClasses': { r: false, t: testCssClasses },\r\n\t\t\t'useRequestAnimationFrame': { r: false, t: testUseRaf }\r\n\t\t};\r\n\r\n\t\tvar defaults = {\r\n\t\t\t'connect': false,\r\n\t\t\t'direction': 'ltr',\r\n\t\t\t'behaviour': 'tap',\r\n\t\t\t'orientation': 'horizontal',\r\n\t\t\t'cssPrefix' : 'noUi-',\r\n\t\t\t'cssClasses': {\r\n\t\t\t\ttarget: 'target',\r\n\t\t\t\tbase: 'base',\r\n\t\t\t\torigin: 'origin',\r\n\t\t\t\thandle: 'handle',\r\n\t\t\t\thandleLower: 'handle-lower',\r\n\t\t\t\thandleUpper: 'handle-upper',\r\n\t\t\t\thorizontal: 'horizontal',\r\n\t\t\t\tvertical: 'vertical',\r\n\t\t\t\tbackground: 'background',\r\n\t\t\t\tconnect: 'connect',\r\n\t\t\t\tltr: 'ltr',\r\n\t\t\t\trtl: 'rtl',\r\n\t\t\t\tdraggable: 'draggable',\r\n\t\t\t\tdrag: 'state-drag',\r\n\t\t\t\ttap: 'state-tap',\r\n\t\t\t\tactive: 'active',\r\n\t\t\t\ttooltip: 'tooltip',\r\n\t\t\t\tpips: 'pips',\r\n\t\t\t\tpipsHorizontal: 'pips-horizontal',\r\n\t\t\t\tpipsVertical: 'pips-vertical',\r\n\t\t\t\tmarker: 'marker',\r\n\t\t\t\tmarkerHorizontal: 'marker-horizontal',\r\n\t\t\t\tmarkerVertical: 'marker-vertical',\r\n\t\t\t\tmarkerNormal: 'marker-normal',\r\n\t\t\t\tmarkerLarge: 'marker-large',\r\n\t\t\t\tmarkerSub: 'marker-sub',\r\n\t\t\t\tvalue: 'value',\r\n\t\t\t\tvalueHorizontal: 'value-horizontal',\r\n\t\t\t\tvalueVertical: 'value-vertical',\r\n\t\t\t\tvalueNormal: 'value-normal',\r\n\t\t\t\tvalueLarge: 'value-large',\r\n\t\t\t\tvalueSub: 'value-sub'\r\n\t\t\t},\r\n\t\t\t'useRequestAnimationFrame': true\r\n\t\t};\r\n\r\n\t\t// AriaFormat defaults to regular format, if any.\r\n\t\tif ( options.format && !options.ariaFormat ) {\r\n\t\t\toptions.ariaFormat = options.format;\r\n\t\t}\r\n\r\n\t\t// Run all options through a testing mechanism to ensure correct\r\n\t\t// input. It should be noted that options might get modified to\r\n\t\t// be handled properly. E.g. wrapping integers in arrays.\r\n\t\tObject.keys(tests).forEach(function( name ){\r\n\r\n\t\t\t// If the option isn't set, but it is required, throw an error.\r\n\t\t\tif ( options[name] === undefined && defaults[name] === undefined ) {\r\n\r\n\t\t\t\tif ( tests[name].r ) {\r\n\t\t\t\t\tthrow new Error(\"noUiSlider (\" + VERSION + \"): '\" + name + \"' is required.\");\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\r\n\t\t\ttests[name].t( parsed, options[name] === undefined ? defaults[name] : options[name] );\r\n\t\t});\r\n\r\n\t\t// Forward pips options\r\n\t\tparsed.pips = options.pips;\r\n\r\n\t\tvar styles = [['left', 'top'], ['right', 'bottom']];\r\n\r\n\t\t// Pre-define the styles.\r\n\t\tparsed.style = styles[parsed.dir][parsed.ort];\r\n\t\tparsed.styleOposite = styles[parsed.dir?0:1][parsed.ort];\r\n\r\n\t\treturn parsed;\r\n\t}\r\n\r\n\r\nfunction closure ( target, options, originalOptions ){\r\n\r\n\tvar actions = getActions();\r\n\tvar supportsTouchActionNone = getSupportsTouchActionNone();\r\n\tvar supportsPassive = supportsTouchActionNone && getSupportsPassive();\r\n\r\n\t// All variables local to 'closure' are prefixed with 'scope_'\r\n\tvar scope_Target = target;\r\n\tvar scope_Locations = [];\r\n\tvar scope_Base;\r\n\tvar scope_Handles;\r\n\tvar scope_HandleNumbers = [];\r\n\tvar scope_ActiveHandle = false;\r\n\tvar scope_Connects;\r\n\tvar scope_Spectrum = options.spectrum;\r\n\tvar scope_Values = [];\r\n\tvar scope_Events = {};\r\n\tvar scope_Self;\r\n\tvar scope_Pips;\r\n\tvar scope_Listeners = null;\r\n\tvar scope_Document = target.ownerDocument;\r\n\tvar scope_DocumentElement = scope_Document.documentElement;\r\n\tvar scope_Body = scope_Document.body;\r\n\r\n\r\n\t// Creates a node, adds it to target, returns the new node.\r\n\tfunction addNodeTo ( target, className ) {\r\n\r\n\t\tvar div = scope_Document.createElement('div');\r\n\r\n\t\tif ( className ) {\r\n\t\t\taddClass(div, className);\r\n\t\t}\r\n\r\n\t\ttarget.appendChild(div);\r\n\r\n\t\treturn div;\r\n\t}\r\n\r\n\t// Append a origin to the base\r\n\tfunction addOrigin ( base, handleNumber ) {\r\n\r\n\t\tvar origin = addNodeTo(base, options.cssClasses.origin);\r\n\t\tvar handle = addNodeTo(origin, options.cssClasses.handle);\r\n\r\n\t\thandle.setAttribute('data-handle', handleNumber);\r\n\r\n\t\t// https://developer.mozilla.org/en-US/docs/Web/HTML/Global_attributes/tabindex\r\n\t\t// 0 = focusable and reachable\r\n\t\thandle.setAttribute('tabindex', '0');\r\n\t\thandle.setAttribute('role', 'slider');\r\n\t\thandle.setAttribute('aria-orientation', options.ort ? 'vertical' : 'horizontal');\r\n\r\n\t\tif ( handleNumber === 0 ) {\r\n\t\t\taddClass(handle, options.cssClasses.handleLower);\r\n\t\t}\r\n\r\n\t\telse if ( handleNumber === options.handles - 1 ) {\r\n\t\t\taddClass(handle, options.cssClasses.handleUpper);\r\n\t\t}\r\n\r\n\t\treturn origin;\r\n\t}\r\n\r\n\t// Insert nodes for connect elements\r\n\tfunction addConnect ( base, add ) {\r\n\r\n\t\tif ( !add ) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\r\n\t\treturn addNodeTo(base, options.cssClasses.connect);\r\n\t}\r\n\r\n\t// Add handles to the slider base.\r\n\tfunction addElements ( connectOptions, base ) {\r\n\r\n\t\tscope_Handles = [];\r\n\t\tscope_Connects = [];\r\n\r\n\t\tscope_Connects.push(addConnect(base, connectOptions[0]));\r\n\r\n\t\t// [::::O====O====O====]\r\n\t\t// connectOptions = [0, 1, 1, 1]\r\n\r\n\t\tfor ( var i = 0; i < options.handles; i++ ) {\r\n\t\t\t// Keep a list of all added handles.\r\n\t\t\tscope_Handles.push(addOrigin(base, i));\r\n\t\t\tscope_HandleNumbers[i] = i;\r\n\t\t\tscope_Connects.push(addConnect(base, connectOptions[i + 1]));\r\n\t\t}\r\n\t}\r\n\r\n\t// Initialize a single slider.\r\n\tfunction addSlider ( target ) {\r\n\r\n\t\t// Apply classes and data to the target.\r\n\t\taddClass(target, options.cssClasses.target);\r\n\r\n\t\tif ( options.dir === 0 ) {\r\n\t\t\taddClass(target, options.cssClasses.ltr);\r\n\t\t} else {\r\n\t\t\taddClass(target, options.cssClasses.rtl);\r\n\t\t}\r\n\r\n\t\tif ( options.ort === 0 ) {\r\n\t\t\taddClass(target, options.cssClasses.horizontal);\r\n\t\t} else {\r\n\t\t\taddClass(target, options.cssClasses.vertical);\r\n\t\t}\r\n\r\n\t\tscope_Base = addNodeTo(target, options.cssClasses.base);\r\n\t}\r\n\r\n\r\n\tfunction addTooltip ( handle, handleNumber ) {\r\n\r\n\t\tif ( !options.tooltips[handleNumber] ) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\r\n\t\treturn addNodeTo(handle.firstChild, options.cssClasses.tooltip);\r\n\t}\r\n\r\n\t// The tooltips option is a shorthand for using the 'update' event.\r\n\tfunction tooltips ( ) {\r\n\r\n\t\t// Tooltips are added with options.tooltips in original order.\r\n\t\tvar tips = scope_Handles.map(addTooltip);\r\n\r\n\t\tbindEvent('update', function(values, handleNumber, unencoded) {\r\n\r\n\t\t\tif ( !tips[handleNumber] ) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tvar formattedValue = values[handleNumber];\r\n\r\n\t\t\tif ( options.tooltips[handleNumber] !== true ) {\r\n\t\t\t\tformattedValue = options.tooltips[handleNumber].to(unencoded[handleNumber]);\r\n\t\t\t}\r\n\r\n\t\t\ttips[handleNumber].innerHTML = formattedValue;\r\n\t\t});\r\n\t}\r\n\r\n\r\n\tfunction aria ( ) {\r\n\r\n\t\tbindEvent('update', function ( values, handleNumber, unencoded, tap, positions ) {\r\n\r\n\t\t\t// Update Aria Values for all handles, as a change in one changes min and max values for the next.\r\n\t\t\tscope_HandleNumbers.forEach(function( handleNumber ){\r\n\r\n\t\t\t\tvar handle = scope_Handles[handleNumber];\r\n\r\n\t\t\t\tvar min = checkHandlePosition(scope_Locations, handleNumber, 0, true, true, true);\r\n\t\t\t\tvar max = checkHandlePosition(scope_Locations, handleNumber, 100, true, true, true);\r\n\r\n\t\t\t\tvar now = positions[handleNumber];\r\n\t\t\t\tvar text = options.ariaFormat.to(unencoded[handleNumber]);\r\n\r\n\t\t\t\thandle.children[0].setAttribute('aria-valuemin', min.toFixed(1));\r\n\t\t\t\thandle.children[0].setAttribute('aria-valuemax', max.toFixed(1));\r\n\t\t\t\thandle.children[0].setAttribute('aria-valuenow', now.toFixed(1));\r\n\t\t\t\thandle.children[0].setAttribute('aria-valuetext', text);\r\n\t\t\t});\r\n\t\t});\r\n\t}\r\n\r\n\r\n\tfunction getGroup ( mode, values, stepped ) {\r\n\r\n\t\t// Use the range.\r\n\t\tif ( mode === 'range' || mode === 'steps' ) {\r\n\t\t\treturn scope_Spectrum.xVal;\r\n\t\t}\r\n\r\n\t\tif ( mode === 'count' ) {\r\n\r\n\t\t\tif ( !values ) {\r\n\t\t\t\tthrow new Error(\"noUiSlider (\" + VERSION + \"): 'values' required for mode 'count'.\");\r\n\t\t\t}\r\n\r\n\t\t\t// Divide 0 - 100 in 'count' parts.\r\n\t\t\tvar spread = ( 100 / (values - 1) );\r\n\t\t\tvar v;\r\n\t\t\tvar i = 0;\r\n\r\n\t\t\tvalues = [];\r\n\r\n\t\t\t// List these parts and have them handled as 'positions'.\r\n\t\t\twhile ( (v = i++ * spread) <= 100 ) {\r\n\t\t\t\tvalues.push(v);\r\n\t\t\t}\r\n\r\n\t\t\tmode = 'positions';\r\n\t\t}\r\n\r\n\t\tif ( mode === 'positions' ) {\r\n\r\n\t\t\t// Map all percentages to on-range values.\r\n\t\t\treturn values.map(function( value ){\r\n\t\t\t\treturn scope_Spectrum.fromStepping( stepped ? scope_Spectrum.getStep( value ) : value );\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\tif ( mode === 'values' ) {\r\n\r\n\t\t\t// If the value must be stepped, it needs to be converted to a percentage first.\r\n\t\t\tif ( stepped ) {\r\n\r\n\t\t\t\treturn values.map(function( value ){\r\n\r\n\t\t\t\t\t// Convert to percentage, apply step, return to value.\r\n\t\t\t\t\treturn scope_Spectrum.fromStepping( scope_Spectrum.getStep( scope_Spectrum.toStepping( value ) ) );\r\n\t\t\t\t});\r\n\r\n\t\t\t}\r\n\r\n\t\t\t// Otherwise, we can simply use the values.\r\n\t\t\treturn values;\r\n\t\t}\r\n\t}\r\n\r\n\tfunction generateSpread ( density, mode, group ) {\r\n\r\n\t\tfunction safeIncrement(value, increment) {\r\n\t\t\t// Avoid floating point variance by dropping the smallest decimal places.\r\n\t\t\treturn (value + increment).toFixed(7) / 1;\r\n\t\t}\r\n\r\n\t\tvar indexes = {};\r\n\t\tvar firstInRange = scope_Spectrum.xVal[0];\r\n\t\tvar lastInRange = scope_Spectrum.xVal[scope_Spectrum.xVal.length-1];\r\n\t\tvar ignoreFirst = false;\r\n\t\tvar ignoreLast = false;\r\n\t\tvar prevPct = 0;\r\n\r\n\t\t// Create a copy of the group, sort it and filter away all duplicates.\r\n\t\tgroup = unique(group.slice().sort(function(a, b){ return a - b; }));\r\n\r\n\t\t// Make sure the range starts with the first element.\r\n\t\tif ( group[0] !== firstInRange ) {\r\n\t\t\tgroup.unshift(firstInRange);\r\n\t\t\tignoreFirst = true;\r\n\t\t}\r\n\r\n\t\t// Likewise for the last one.\r\n\t\tif ( group[group.length - 1] !== lastInRange ) {\r\n\t\t\tgroup.push(lastInRange);\r\n\t\t\tignoreLast = true;\r\n\t\t}\r\n\r\n\t\tgroup.forEach(function ( current, index ) {\r\n\r\n\t\t\t// Get the current step and the lower + upper positions.\r\n\t\t\tvar step;\r\n\t\t\tvar i;\r\n\t\t\tvar q;\r\n\t\t\tvar low = current;\r\n\t\t\tvar high = group[index+1];\r\n\t\t\tvar newPct;\r\n\t\t\tvar pctDifference;\r\n\t\t\tvar pctPos;\r\n\t\t\tvar type;\r\n\t\t\tvar steps;\r\n\t\t\tvar realSteps;\r\n\t\t\tvar stepsize;\r\n\r\n\t\t\t// When using 'steps' mode, use the provided steps.\r\n\t\t\t// Otherwise, we'll step on to the next subrange.\r\n\t\t\tif ( mode === 'steps' ) {\r\n\t\t\t\tstep = scope_Spectrum.xNumSteps[ index ];\r\n\t\t\t}\r\n\r\n\t\t\t// Default to a 'full' step.\r\n\t\t\tif ( !step ) {\r\n\t\t\t\tstep = high-low;\r\n\t\t\t}\r\n\r\n\t\t\t// Low can be 0, so test for false. If high is undefined,\r\n\t\t\t// we are at the last subrange. Index 0 is already handled.\r\n\t\t\tif ( low === false || high === undefined ) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\t// Make sure step isn't 0, which would cause an infinite loop (#654)\r\n\t\t\tstep = Math.max(step, 0.0000001);\r\n\r\n\t\t\t// Find all steps in the subrange.\r\n\t\t\tfor ( i = low; i <= high; i = safeIncrement(i, step) ) {\r\n\r\n\t\t\t\t// Get the percentage value for the current step,\r\n\t\t\t\t// calculate the size for the subrange.\r\n\t\t\t\tnewPct = scope_Spectrum.toStepping( i );\r\n\t\t\t\tpctDifference = newPct - prevPct;\r\n\r\n\t\t\t\tsteps = pctDifference / density;\r\n\t\t\t\trealSteps = Math.round(steps);\r\n\r\n\t\t\t\t// This ratio represents the ammount of percentage-space a point indicates.\r\n\t\t\t\t// For a density 1 the points/percentage = 1. For density 2, that percentage needs to be re-devided.\r\n\t\t\t\t// Round the percentage offset to an even number, then divide by two\r\n\t\t\t\t// to spread the offset on both sides of the range.\r\n\t\t\t\tstepsize = pctDifference/realSteps;\r\n\r\n\t\t\t\t// Divide all points evenly, adding the correct number to this subrange.\r\n\t\t\t\t// Run up to <= so that 100% gets a point, event if ignoreLast is set.\r\n\t\t\t\tfor ( q = 1; q <= realSteps; q += 1 ) {\r\n\r\n\t\t\t\t\t// The ratio between the rounded value and the actual size might be ~1% off.\r\n\t\t\t\t\t// Correct the percentage offset by the number of points\r\n\t\t\t\t\t// per subrange. density = 1 will result in 100 points on the\r\n\t\t\t\t\t// full range, 2 for 50, 4 for 25, etc.\r\n\t\t\t\t\tpctPos = prevPct + ( q * stepsize );\r\n\t\t\t\t\tindexes[pctPos.toFixed(5)] = ['x', 0];\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Determine the point type.\r\n\t\t\t\ttype = (group.indexOf(i) > -1) ? 1 : ( mode === 'steps' ? 2 : 0 );\r\n\r\n\t\t\t\t// Enforce the 'ignoreFirst' option by overwriting the type for 0.\r\n\t\t\t\tif ( !index && ignoreFirst ) {\r\n\t\t\t\t\ttype = 0;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif ( !(i === high && ignoreLast)) {\r\n\t\t\t\t\t// Mark the 'type' of this point. 0 = plain, 1 = real value, 2 = step value.\r\n\t\t\t\t\tindexes[newPct.toFixed(5)] = [i, type];\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Update the percentage count.\r\n\t\t\t\tprevPct = newPct;\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\treturn indexes;\r\n\t}\r\n\r\n\tfunction addMarking ( spread, filterFunc, formatter ) {\r\n\r\n\t\tvar element = scope_Document.createElement('div');\r\n\r\n\t\tvar valueSizeClasses = [\r\n\t\t\toptions.cssClasses.valueNormal,\r\n\t\t\toptions.cssClasses.valueLarge,\r\n\t\t\toptions.cssClasses.valueSub\r\n\t\t];\r\n\t\tvar markerSizeClasses = [\r\n\t\t\toptions.cssClasses.markerNormal,\r\n\t\t\toptions.cssClasses.markerLarge,\r\n\t\t\toptions.cssClasses.markerSub\r\n\t\t];\r\n\t\tvar valueOrientationClasses = [\r\n\t\t\toptions.cssClasses.valueHorizontal,\r\n\t\t\toptions.cssClasses.valueVertical\r\n\t\t];\r\n\t\tvar markerOrientationClasses = [\r\n\t\t\toptions.cssClasses.markerHorizontal,\r\n\t\t\toptions.cssClasses.markerVertical\r\n\t\t];\r\n\r\n\t\taddClass(element, options.cssClasses.pips);\r\n\t\taddClass(element, options.ort === 0 ? options.cssClasses.pipsHorizontal : options.cssClasses.pipsVertical);\r\n\r\n\t\tfunction getClasses( type, source ){\r\n\t\t\tvar a = source === options.cssClasses.value;\r\n\t\t\tvar orientationClasses = a ? valueOrientationClasses : markerOrientationClasses;\r\n\t\t\tvar sizeClasses = a ? valueSizeClasses : markerSizeClasses;\r\n\r\n\t\t\treturn source + ' ' + orientationClasses[options.ort] + ' ' + sizeClasses[type];\r\n\t\t}\r\n\r\n\t\tfunction addSpread ( offset, values ){\r\n\r\n\t\t\t// Apply the filter function, if it is set.\r\n\t\t\tvalues[1] = (values[1] && filterFunc) ? filterFunc(values[0], values[1]) : values[1];\r\n\r\n\t\t\t// Add a marker for every point\r\n\t\t\tvar node = addNodeTo(element, false);\r\n\t\t\t\tnode.className = getClasses(values[1], options.cssClasses.marker);\r\n\t\t\t\tnode.style[options.style] = offset + '%';\r\n\r\n\t\t\t// Values are only appended for points marked '1' or '2'.\r\n\t\t\tif ( values[1] ) {\r\n\t\t\t\tnode = addNodeTo(element, false);\r\n\t\t\t\tnode.className = getClasses(values[1], options.cssClasses.value);\r\n\t\t\t\tnode.style[options.style] = offset + '%';\r\n\t\t\t\tnode.innerText = formatter.to(values[0]);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// Append all points.\r\n\t\tObject.keys(spread).forEach(function(a){\r\n\t\t\taddSpread(a, spread[a]);\r\n\t\t});\r\n\r\n\t\treturn element;\r\n\t}\r\n\r\n\tfunction removePips ( ) {\r\n\t\tif ( scope_Pips ) {\r\n\t\t\tremoveElement(scope_Pips);\r\n\t\t\tscope_Pips = null;\r\n\t\t}\r\n\t}\r\n\r\n\tfunction pips ( grid ) {\r\n\r\n\t\t// Fix #669\r\n\t\tremovePips();\r\n\r\n\t\tvar mode = grid.mode;\r\n\t\tvar density = grid.density || 1;\r\n\t\tvar filter = grid.filter || false;\r\n\t\tvar values = grid.values || false;\r\n\t\tvar stepped = grid.stepped || false;\r\n\t\tvar group = getGroup( mode, values, stepped );\r\n\t\tvar spread = generateSpread( density, mode, group );\r\n\t\tvar format = grid.format || {\r\n\t\t\tto: Math.round\r\n\t\t};\r\n\r\n\t\tscope_Pips = scope_Target.appendChild(addMarking(\r\n\t\t\tspread,\r\n\t\t\tfilter,\r\n\t\t\tformat\r\n\t\t));\r\n\r\n\t\treturn scope_Pips;\r\n\t}\r\n\r\n\r\n\t// Shorthand for base dimensions.\r\n\tfunction baseSize ( ) {\r\n\t\tvar rect = scope_Base.getBoundingClientRect(), alt = 'offset' + ['Width', 'Height'][options.ort];\r\n\t\treturn options.ort === 0 ? (rect.width||scope_Base[alt]) : (rect.height||scope_Base[alt]);\r\n\t}\r\n\r\n\t// Handler for attaching events trough a proxy.\r\n\tfunction attachEvent ( events, element, callback, data ) {\r\n\r\n\t\t// This function can be used to 'filter' events to the slider.\r\n\t\t// element is a node, not a nodeList\r\n\r\n\t\tvar method = function ( e ){\r\n\r\n\t\t\tif ( scope_Target.hasAttribute('disabled') ) {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\r\n\t\t\t// Stop if an active 'tap' transition is taking place.\r\n\t\t\tif ( hasClass(scope_Target, options.cssClasses.tap) ) {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\r\n\t\t\te = fixEvent(e, data.pageOffset);\r\n\r\n\t\t\t// Handle reject of multitouch\r\n\t\t\tif ( !e ) {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\r\n\t\t\t// Ignore right or middle clicks on start #454\r\n\t\t\tif ( events === actions.start && e.buttons !== undefined && e.buttons > 1 ) {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\r\n\t\t\t// Ignore right or middle clicks on start #454\r\n\t\t\tif ( data.hover && e.buttons ) {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\r\n\t\t\t// 'supportsPassive' is only true if a browser also supports touch-action: none in CSS.\r\n\t\t\t// iOS safari does not, so it doesn't get to benefit from passive scrolling. iOS does support\r\n\t\t\t// touch-action: manipulation, but that allows panning, which breaks\r\n\t\t\t// sliders after zooming/on non-responsive pages.\r\n\t\t\t// See: https://bugs.webkit.org/show_bug.cgi?id=133112\r\n\t\t\tif ( !supportsPassive ) {\r\n\t\t\t\te.preventDefault();\r\n\t\t\t}\r\n\r\n\t\t\te.calcPoint = e.points[ options.ort ];\r\n\r\n\t\t\t// Call the event handler with the event [ and additional data ].\r\n\t\t\tcallback ( e, data );\r\n\t\t};\r\n\r\n\t\tvar methods = [];\r\n\r\n\t\t// Bind a closure on the target for every event type.\r\n\t\tevents.split(' ').forEach(function( eventName ){\r\n\t\t\telement.addEventListener(eventName, method, supportsPassive ? { passive: true } : false);\r\n\t\t\tmethods.push([eventName, method]);\r\n\t\t});\r\n\r\n\t\treturn methods;\r\n\t}\r\n\r\n\t// Provide a clean event with standardized offset values.\r\n\tfunction fixEvent ( e, pageOffset ) {\r\n\r\n\t\t// Filter the event to register the type, which can be\r\n\t\t// touch, mouse or pointer. Offset changes need to be\r\n\t\t// made on an event specific basis.\r\n\t\tvar touch = e.type.indexOf('touch') === 0;\r\n\t\tvar mouse = e.type.indexOf('mouse') === 0;\r\n\t\tvar pointer = e.type.indexOf('pointer') === 0;\r\n\r\n\t\tvar x;\r\n\t\tvar y;\r\n\r\n\t\t// IE10 implemented pointer events with a prefix;\r\n\t\tif ( e.type.indexOf('MSPointer') === 0 ) {\r\n\t\t\tpointer = true;\r\n\t\t}\r\n\r\n\t\tif ( touch ) {\r\n\r\n\t\t\t// Fix bug when user touches with two or more fingers on mobile devices.\r\n\t\t\t// It's useful when you have two or more sliders on one page,\r\n\t\t\t// that can be touched simultaneously.\r\n\t\t\t// #649, #663, #668\r\n\t\t\tif ( e.touches.length > 1 ) {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\r\n\t\t\t// noUiSlider supports one movement at a time,\r\n\t\t\t// so we can select the first 'changedTouch'.\r\n\t\t\tx = e.changedTouches[0].pageX;\r\n\t\t\ty = e.changedTouches[0].pageY;\r\n\t\t}\r\n\r\n\t\tpageOffset = pageOffset || getPageOffset(scope_Document);\r\n\r\n\t\tif ( mouse || pointer ) {\r\n\t\t\tx = e.clientX + pageOffset.x;\r\n\t\t\ty = e.clientY + pageOffset.y;\r\n\t\t}\r\n\r\n\t\te.pageOffset = pageOffset;\r\n\t\te.points = [x, y];\r\n\t\te.cursor = mouse || pointer; // Fix #435\r\n\r\n\t\treturn e;\r\n\t}\r\n\r\n\t// Translate a coordinate in the document to a percentage on the slider\r\n\tfunction calcPointToPercentage ( calcPoint ) {\r\n\t\tvar location = calcPoint - offset(scope_Base, options.ort);\r\n\t\tvar proposal = ( location * 100 ) / baseSize();\r\n\t\treturn options.dir ? 100 - proposal : proposal;\r\n\t}\r\n\r\n\t// Find handle closest to a certain percentage on the slider\r\n\tfunction getClosestHandle ( proposal ) {\r\n\r\n\t\tvar closest = 100;\r\n\t\tvar handleNumber = false;\r\n\r\n\t\tscope_Handles.forEach(function(handle, index){\r\n\r\n\t\t\t// Disabled handles are ignored\r\n\t\t\tif ( handle.hasAttribute('disabled') ) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tvar pos = Math.abs(scope_Locations[index] - proposal);\r\n\r\n\t\t\tif ( pos < closest ) {\r\n\t\t\t\thandleNumber = index;\r\n\t\t\t\tclosest = pos;\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\treturn handleNumber;\r\n\t}\r\n\r\n\t// Moves handle(s) by a percentage\r\n\t// (bool, % to move, [% where handle started, ...], [index in scope_Handles, ...])\r\n\tfunction moveHandles ( upward, proposal, locations, handleNumbers ) {\r\n\r\n\t\tvar proposals = locations.slice();\r\n\r\n\t\tvar b = [!upward, upward];\r\n\t\tvar f = [upward, !upward];\r\n\r\n\t\t// Copy handleNumbers so we don't change the dataset\r\n\t\thandleNumbers = handleNumbers.slice();\r\n\r\n\t\t// Check to see which handle is 'leading'.\r\n\t\t// If that one can't move the second can't either.\r\n\t\tif ( upward ) {\r\n\t\t\thandleNumbers.reverse();\r\n\t\t}\r\n\r\n\t\t// Step 1: get the maximum percentage that any of the handles can move\r\n\t\tif ( handleNumbers.length > 1 ) {\r\n\r\n\t\t\thandleNumbers.forEach(function(handleNumber, o) {\r\n\r\n\t\t\t\tvar to = checkHandlePosition(proposals, handleNumber, proposals[handleNumber] + proposal, b[o], f[o], false);\r\n\r\n\t\t\t\t// Stop if one of the handles can't move.\r\n\t\t\t\tif ( to === false ) {\r\n\t\t\t\t\tproposal = 0;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tproposal = to - proposals[handleNumber];\r\n\t\t\t\t\tproposals[handleNumber] = to;\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\t// If using one handle, check backward AND forward\r\n\t\telse {\r\n\t\t\tb = f = [true];\r\n\t\t}\r\n\r\n\t\tvar state = false;\r\n\r\n\t\t// Step 2: Try to set the handles with the found percentage\r\n\t\thandleNumbers.forEach(function(handleNumber, o) {\r\n\t\t\tstate = setHandle(handleNumber, locations[handleNumber] + proposal, b[o], f[o]) || state;\r\n\t\t});\r\n\r\n\t\t// Step 3: If a handle moved, fire events\r\n\t\tif ( state ) {\r\n\t\t\thandleNumbers.forEach(function(handleNumber){\r\n\t\t\t\tfireEvent('update', handleNumber);\r\n\t\t\t\tfireEvent('slide', handleNumber);\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\r\n\t// External event handling\r\n\tfunction fireEvent ( eventName, handleNumber, tap ) {\r\n\r\n\t\tObject.keys(scope_Events).forEach(function( targetEvent ) {\r\n\r\n\t\t\tvar eventType = targetEvent.split('.')[0];\r\n\r\n\t\t\tif ( eventName === eventType ) {\r\n\t\t\t\tscope_Events[targetEvent].forEach(function( callback ) {\r\n\r\n\t\t\t\t\tcallback.call(\r\n\t\t\t\t\t\t// Use the slider public API as the scope ('this')\r\n\t\t\t\t\t\tscope_Self,\r\n\t\t\t\t\t\t// Return values as array, so arg_1[arg_2] is always valid.\r\n\t\t\t\t\t\tscope_Values.map(options.format.to),\r\n\t\t\t\t\t\t// Handle index, 0 or 1\r\n\t\t\t\t\t\thandleNumber,\r\n\t\t\t\t\t\t// Unformatted slider values\r\n\t\t\t\t\t\tscope_Values.slice(),\r\n\t\t\t\t\t\t// Event is fired by tap, true or false\r\n\t\t\t\t\t\ttap || false,\r\n\t\t\t\t\t\t// Left offset of the handle, in relation to the slider\r\n\t\t\t\t\t\tscope_Locations.slice()\r\n\t\t\t\t\t);\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\r\n\t// Fire 'end' when a mouse or pen leaves the document.\r\n\tfunction documentLeave ( event, data ) {\r\n\t\tif ( event.type === \"mouseout\" && event.target.nodeName === \"HTML\" && event.relatedTarget === null ){\r\n\t\t\teventEnd (event, data);\r\n\t\t}\r\n\t}\r\n\r\n\t// Handle movement on document for handle and range drag.\r\n\tfunction eventMove ( event, data ) {\r\n\r\n\t\t// Fix #498\r\n\t\t// Check value of .buttons in 'start' to work around a bug in IE10 mobile (data.buttonsProperty).\r\n\t\t// https://connect.microsoft.com/IE/feedback/details/927005/mobile-ie10-windows-phone-buttons-property-of-pointermove-event-always-zero\r\n\t\t// IE9 has .buttons and .which zero on mousemove.\r\n\t\t// Firefox breaks the spec MDN defines.\r\n\t\tif ( navigator.appVersion.indexOf(\"MSIE 9\") === -1 && event.buttons === 0 && data.buttonsProperty !== 0 ) {\r\n\t\t\treturn eventEnd(event, data);\r\n\t\t}\r\n\r\n\t\t// Check if we are moving up or down\r\n\t\tvar movement = (options.dir ? -1 : 1) * (event.calcPoint - data.startCalcPoint);\r\n\r\n\t\t// Convert the movement into a percentage of the slider width/height\r\n\t\tvar proposal = (movement * 100) / data.baseSize;\r\n\r\n\t\tmoveHandles(movement > 0, proposal, data.locations, data.handleNumbers);\r\n\t}\r\n\r\n\t// Unbind move events on document, call callbacks.\r\n\tfunction eventEnd ( event, data ) {\r\n\r\n\t\t// The handle is no longer active, so remove the class.\r\n\t\tif ( scope_ActiveHandle ) {\r\n\t\t\tremoveClass(scope_ActiveHandle, options.cssClasses.active);\r\n\t\t\tscope_ActiveHandle = false;\r\n\t\t}\r\n\r\n\t\t// Remove cursor styles and text-selection events bound to the body.\r\n\t\tif ( event.cursor ) {\r\n\t\t\tscope_Body.style.cursor = '';\r\n\t\t\tscope_Body.removeEventListener('selectstart', preventDefault);\r\n\t\t}\r\n\r\n\t\t// Unbind the move and end events, which are added on 'start'.\r\n\t\tscope_Listeners.forEach(function( c ) {\r\n\t\t\tscope_DocumentElement.removeEventListener(c[0], c[1]);\r\n\t\t});\r\n\r\n\t\t// Remove dragging class.\r\n\t\tremoveClass(scope_Target, options.cssClasses.drag);\r\n\r\n\t\tsetZindex();\r\n\r\n\t\tdata.handleNumbers.forEach(function(handleNumber){\r\n\t\t\tfireEvent('change', handleNumber);\r\n\t\t\tfireEvent('set', handleNumber);\r\n\t\t\tfireEvent('end', handleNumber);\r\n\t\t});\r\n\t}\r\n\r\n\t// Bind move events on document.\r\n\tfunction eventStart ( event, data ) {\r\n\r\n\t\tif ( data.handleNumbers.length === 1 ) {\r\n\r\n\t\t\tvar handle = scope_Handles[data.handleNumbers[0]];\r\n\r\n\t\t\t// Ignore 'disabled' handles\r\n\t\t\tif ( handle.hasAttribute('disabled') ) {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\r\n\t\t\t// Mark the handle as 'active' so it can be styled.\r\n\t\t\tscope_ActiveHandle = handle.children[0];\r\n\t\t\taddClass(scope_ActiveHandle, options.cssClasses.active);\r\n\t\t}\r\n\r\n\t\t// A drag should never propagate up to the 'tap' event.\r\n\t\tevent.stopPropagation();\r\n\r\n\t\t// Attach the move and end events.\r\n\t\tvar moveEvent = attachEvent(actions.move, scope_DocumentElement, eventMove, {\r\n\t\t\tstartCalcPoint: event.calcPoint,\r\n\t\t\tbaseSize: baseSize(),\r\n\t\t\tpageOffset: event.pageOffset,\r\n\t\t\thandleNumbers: data.handleNumbers,\r\n\t\t\tbuttonsProperty: event.buttons,\r\n\t\t\tlocations: scope_Locations.slice()\r\n\t\t});\r\n\r\n\t\tvar endEvent = attachEvent(actions.end, scope_DocumentElement, eventEnd, {\r\n\t\t\thandleNumbers: data.handleNumbers\r\n\t\t});\r\n\r\n\t\tvar outEvent = attachEvent(\"mouseout\", scope_DocumentElement, documentLeave, {\r\n\t\t\thandleNumbers: data.handleNumbers\r\n\t\t});\r\n\r\n\t\tscope_Listeners = moveEvent.concat(endEvent, outEvent);\r\n\r\n\t\t// Text selection isn't an issue on touch devices,\r\n\t\t// so adding cursor styles can be skipped.\r\n\t\tif ( event.cursor ) {\r\n\r\n\t\t\t// Prevent the 'I' cursor and extend the range-drag cursor.\r\n\t\t\tscope_Body.style.cursor = getComputedStyle(event.target).cursor;\r\n\r\n\t\t\t// Mark the target with a dragging state.\r\n\t\t\tif ( scope_Handles.length > 1 ) {\r\n\t\t\t\taddClass(scope_Target, options.cssClasses.drag);\r\n\t\t\t}\r\n\r\n\t\t\t// Prevent text selection when dragging the handles.\r\n\t\t\t// In noUiSlider <= 9.2.0, this was handled by calling preventDefault on mouse/touch start/move,\r\n\t\t\t// which is scroll blocking. The selectstart event is supported by FireFox starting from version 52,\r\n\t\t\t// meaning the only holdout is iOS Safari. This doesn't matter: text selection isn't triggered there.\r\n\t\t\t// The 'cursor' flag is false.\r\n\t\t\t// See: http://caniuse.com/#search=selectstart\r\n\t\t\tscope_Body.addEventListener('selectstart', preventDefault, false);\r\n\t\t}\r\n\r\n\t\tdata.handleNumbers.forEach(function(handleNumber){\r\n\t\t\tfireEvent('start', handleNumber);\r\n\t\t});\r\n\t}\r\n\r\n\t// Move closest handle to tapped location.\r\n\tfunction eventTap ( event ) {\r\n\r\n\t\t// The tap event shouldn't propagate up\r\n\t\tevent.stopPropagation();\r\n\r\n\t\tvar proposal = calcPointToPercentage(event.calcPoint);\r\n\t\tvar handleNumber = getClosestHandle(proposal);\r\n\r\n\t\t// Tackle the case that all handles are 'disabled'.\r\n\t\tif ( handleNumber === false ) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\r\n\t\t// Flag the slider as it is now in a transitional state.\r\n\t\t// Transition takes a configurable amount of ms (default 300). Re-enable the slider after that.\r\n\t\tif ( !options.events.snap ) {\r\n\t\t\taddClassFor(scope_Target, options.cssClasses.tap, options.animationDuration);\r\n\t\t}\r\n\r\n\t\tsetHandle(handleNumber, proposal, true, true);\r\n\r\n\t\tsetZindex();\r\n\r\n\t\tfireEvent('slide', handleNumber, true);\r\n\t\tfireEvent('update', handleNumber, true);\r\n\t\tfireEvent('change', handleNumber, true);\r\n\t\tfireEvent('set', handleNumber, true);\r\n\r\n\t\tif ( options.events.snap ) {\r\n\t\t\teventStart(event, { handleNumbers: [handleNumber] });\r\n\t\t}\r\n\t}\r\n\r\n\t// Fires a 'hover' event for a hovered mouse/pen position.\r\n\tfunction eventHover ( event ) {\r\n\r\n\t\tvar proposal = calcPointToPercentage(event.calcPoint);\r\n\r\n\t\tvar to = scope_Spectrum.getStep(proposal);\r\n\t\tvar value = scope_Spectrum.fromStepping(to);\r\n\r\n\t\tObject.keys(scope_Events).forEach(function( targetEvent ) {\r\n\t\t\tif ( 'hover' === targetEvent.split('.')[0] ) {\r\n\t\t\t\tscope_Events[targetEvent].forEach(function( callback ) {\r\n\t\t\t\t\tcallback.call( scope_Self, value );\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\t// Attach events to several slider parts.\r\n\tfunction bindSliderEvents ( behaviour ) {\r\n\r\n\t\t// Attach the standard drag event to the handles.\r\n\t\tif ( !behaviour.fixed ) {\r\n\r\n\t\t\tscope_Handles.forEach(function( handle, index ){\r\n\r\n\t\t\t\t// These events are only bound to the visual handle\r\n\t\t\t\t// element, not the 'real' origin element.\r\n\t\t\t\tattachEvent ( actions.start, handle.children[0], eventStart, {\r\n\t\t\t\t\thandleNumbers: [index]\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\t// Attach the tap event to the slider base.\r\n\t\tif ( behaviour.tap ) {\r\n\t\t\tattachEvent (actions.start, scope_Base, eventTap, {});\r\n\t\t}\r\n\r\n\t\t// Fire hover events\r\n\t\tif ( behaviour.hover ) {\r\n\t\t\tattachEvent (actions.move, scope_Base, eventHover, { hover: true });\r\n\t\t}\r\n\r\n\t\t// Make the range draggable.\r\n\t\tif ( behaviour.drag ){\r\n\r\n\t\t\tscope_Connects.forEach(function( connect, index ){\r\n\r\n\t\t\t\tif ( connect === false || index === 0 || index === scope_Connects.length - 1 ) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tvar handleBefore = scope_Handles[index - 1];\r\n\t\t\t\tvar handleAfter = scope_Handles[index];\r\n\t\t\t\tvar eventHolders = [connect];\r\n\r\n\t\t\t\taddClass(connect, options.cssClasses.draggable);\r\n\r\n\t\t\t\t// When the range is fixed, the entire range can\r\n\t\t\t\t// be dragged by the handles. The handle in the first\r\n\t\t\t\t// origin will propagate the start event upward,\r\n\t\t\t\t// but it needs to be bound manually on the other.\r\n\t\t\t\tif ( behaviour.fixed ) {\r\n\t\t\t\t\teventHolders.push(handleBefore.children[0]);\r\n\t\t\t\t\teventHolders.push(handleAfter.children[0]);\r\n\t\t\t\t}\r\n\r\n\t\t\t\teventHolders.forEach(function( eventHolder ) {\r\n\t\t\t\t\tattachEvent ( actions.start, eventHolder, eventStart, {\r\n\t\t\t\t\t\thandles: [handleBefore, handleAfter],\r\n\t\t\t\t\t\thandleNumbers: [index - 1, index]\r\n\t\t\t\t\t});\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\r\n\r\n\t// Split out the handle positioning logic so the Move event can use it, too\r\n\tfunction checkHandlePosition ( reference, handleNumber, to, lookBackward, lookForward, getValue ) {\r\n\r\n\t\t// For sliders with multiple handles, limit movement to the other handle.\r\n\t\t// Apply the margin option by adding it to the handle positions.\r\n\t\tif ( scope_Handles.length > 1 ) {\r\n\r\n\t\t\tif ( lookBackward && handleNumber > 0 ) {\r\n\t\t\t\tto = Math.max(to, reference[handleNumber - 1] + options.margin);\r\n\t\t\t}\r\n\r\n\t\t\tif ( lookForward && handleNumber < scope_Handles.length - 1 ) {\r\n\t\t\t\tto = Math.min(to, reference[handleNumber + 1] - options.margin);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// The limit option has the opposite effect, limiting handles to a\r\n\t\t// maximum distance from another. Limit must be > 0, as otherwise\r\n\t\t// handles would be unmoveable.\r\n\t\tif ( scope_Handles.length > 1 && options.limit ) {\r\n\r\n\t\t\tif ( lookBackward && handleNumber > 0 ) {\r\n\t\t\t\tto = Math.min(to, reference[handleNumber - 1] + options.limit);\r\n\t\t\t}\r\n\r\n\t\t\tif ( lookForward && handleNumber < scope_Handles.length - 1 ) {\r\n\t\t\t\tto = Math.max(to, reference[handleNumber + 1] - options.limit);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// The padding option keeps the handles a certain distance from the\r\n\t\t// edges of the slider. Padding must be > 0.\r\n\t\tif ( options.padding ) {\r\n\r\n\t\t\tif ( handleNumber === 0 ) {\r\n\t\t\t\tto = Math.max(to, options.padding);\r\n\t\t\t}\r\n\r\n\t\t\tif ( handleNumber === scope_Handles.length - 1 ) {\r\n\t\t\t\tto = Math.min(to, 100 - options.padding);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tto = scope_Spectrum.getStep(to);\r\n\r\n\t\t// Limit percentage to the 0 - 100 range\r\n\t\tto = limit(to);\r\n\r\n\t\t// Return false if handle can't move\r\n\t\tif ( to === reference[handleNumber] && !getValue ) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\r\n\t\treturn to;\r\n\t}\r\n\r\n\tfunction toPct ( pct ) {\r\n\t\treturn pct + '%';\r\n\t}\r\n\r\n\t// Updates scope_Locations and scope_Values, updates visual state\r\n\tfunction updateHandlePosition ( handleNumber, to ) {\r\n\r\n\t\t// Update locations.\r\n\t\tscope_Locations[handleNumber] = to;\r\n\r\n\t\t// Convert the value to the slider stepping/range.\r\n\t\tscope_Values[handleNumber] = scope_Spectrum.fromStepping(to);\r\n\r\n\t\t// Called synchronously or on the next animationFrame\r\n\t\tvar stateUpdate = function() {\r\n\t\t\tscope_Handles[handleNumber].style[options.style] = toPct(to);\r\n\t\t\tupdateConnect(handleNumber);\r\n\t\t\tupdateConnect(handleNumber + 1);\r\n\t\t};\r\n\r\n\t\t// Set the handle to the new position.\r\n\t\t// Use requestAnimationFrame for efficient painting.\r\n\t\t// No significant effect in Chrome, Edge sees dramatic performace improvements.\r\n\t\t// Option to disable is useful for unit tests, and single-step debugging.\r\n\t\tif ( window.requestAnimationFrame && options.useRequestAnimationFrame ) {\r\n\t\t\twindow.requestAnimationFrame(stateUpdate);\r\n\t\t} else {\r\n\t\t\tstateUpdate();\r\n\t\t}\r\n\t}\r\n\r\n\tfunction setZindex ( ) {\r\n\r\n\t\tscope_HandleNumbers.forEach(function(handleNumber){\r\n\t\t\t// Handles before the slider middle are stacked later = higher,\r\n\t\t\t// Handles after the middle later is lower\r\n\t\t\t// [[7] [8] .......... | .......... [5] [4]\r\n\t\t\tvar dir = (scope_Locations[handleNumber] > 50 ? -1 : 1);\r\n\t\t\tvar zIndex = 3 + (scope_Handles.length + (dir * handleNumber));\r\n\t\t\tscope_Handles[handleNumber].childNodes[0].style.zIndex = zIndex;\r\n\t\t});\r\n\t}\r\n\r\n\t// Test suggested values and apply margin, step.\r\n\tfunction setHandle ( handleNumber, to, lookBackward, lookForward ) {\r\n\r\n\t\tto = checkHandlePosition(scope_Locations, handleNumber, to, lookBackward, lookForward, false);\r\n\r\n\t\tif ( to === false ) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\r\n\t\tupdateHandlePosition(handleNumber, to);\r\n\r\n\t\treturn true;\r\n\t}\r\n\r\n\t// Updates style attribute for connect nodes\r\n\tfunction updateConnect ( index ) {\r\n\r\n\t\t// Skip connects set to false\r\n\t\tif ( !scope_Connects[index] ) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tvar l = 0;\r\n\t\tvar h = 100;\r\n\r\n\t\tif ( index !== 0 ) {\r\n\t\t\tl = scope_Locations[index - 1];\r\n\t\t}\r\n\r\n\t\tif ( index !== scope_Connects.length - 1 ) {\r\n\t\t\th = scope_Locations[index];\r\n\t\t}\r\n\r\n\t\tscope_Connects[index].style[options.style] = toPct(l);\r\n\t\tscope_Connects[index].style[options.styleOposite] = toPct(100 - h);\r\n\t}\r\n\r\n\t// ...\r\n\tfunction setValue ( to, handleNumber ) {\r\n\r\n\t\t// Setting with null indicates an 'ignore'.\r\n\t\t// Inputting 'false' is invalid.\r\n\t\tif ( to === null || to === false ) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\t// If a formatted number was passed, attemt to decode it.\r\n\t\tif ( typeof to === 'number' ) {\r\n\t\t\tto = String(to);\r\n\t\t}\r\n\r\n\t\tto = options.format.from(to);\r\n\r\n\t\t// Request an update for all links if the value was invalid.\r\n\t\t// Do so too if setting the handle fails.\r\n\t\tif ( to !== false && !isNaN(to) ) {\r\n\t\t\tsetHandle(handleNumber, scope_Spectrum.toStepping(to), false, false);\r\n\t\t}\r\n\t}\r\n\r\n\t// Set the slider value.\r\n\tfunction valueSet ( input, fireSetEvent ) {\r\n\r\n\t\tvar values = asArray(input);\r\n\t\tvar isInit = scope_Locations[0] === undefined;\r\n\r\n\t\t// Event fires by default\r\n\t\tfireSetEvent = (fireSetEvent === undefined ? true : !!fireSetEvent);\r\n\r\n\t\tvalues.forEach(setValue);\r\n\r\n\t\t// Animation is optional.\r\n\t\t// Make sure the initial values were set before using animated placement.\r\n\t\tif ( options.animate && !isInit ) {\r\n\t\t\taddClassFor(scope_Target, options.cssClasses.tap, options.animationDuration);\r\n\t\t}\r\n\r\n\t\t// Now that all base values are set, apply constraints\r\n\t\tscope_HandleNumbers.forEach(function(handleNumber){\r\n\t\t\tsetHandle(handleNumber, scope_Locations[handleNumber], true, false);\r\n\t\t});\r\n\r\n\t\tsetZindex();\r\n\r\n\t\tscope_HandleNumbers.forEach(function(handleNumber){\r\n\r\n\t\t\tfireEvent('update', handleNumber);\r\n\r\n\t\t\t// Fire the event only for handles that received a new value, as per #579\r\n\t\t\tif ( values[handleNumber] !== null && fireSetEvent ) {\r\n\t\t\t\tfireEvent('set', handleNumber);\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\t// Reset slider to initial values\r\n\tfunction valueReset ( fireSetEvent ) {\r\n\t\tvalueSet(options.start, fireSetEvent);\r\n\t}\r\n\r\n\t// Get the slider value.\r\n\tfunction valueGet ( ) {\r\n\r\n\t\tvar values = scope_Values.map(options.format.to);\r\n\r\n\t\t// If only one handle is used, return a single value.\r\n\t\tif ( values.length === 1 ){\r\n\t\t\treturn values[0];\r\n\t\t}\r\n\r\n\t\treturn values;\r\n\t}\r\n\r\n\t// Removes classes from the root and empties it.\r\n\tfunction destroy ( ) {\r\n\r\n\t\tfor ( var key in options.cssClasses ) {\r\n\t\t\tif ( !options.cssClasses.hasOwnProperty(key) ) { continue; }\r\n\t\t\tremoveClass(scope_Target, options.cssClasses[key]);\r\n\t\t}\r\n\r\n\t\twhile (scope_Target.firstChild) {\r\n\t\t\tscope_Target.removeChild(scope_Target.firstChild);\r\n\t\t}\r\n\r\n\t\tdelete scope_Target.noUiSlider;\r\n\t}\r\n\r\n\t// Get the current step size for the slider.\r\n\tfunction getCurrentStep ( ) {\r\n\r\n\t\t// Check all locations, map them to their stepping point.\r\n\t\t// Get the step point, then find it in the input list.\r\n\t\treturn scope_Locations.map(function( location, index ){\r\n\r\n\t\t\tvar nearbySteps = scope_Spectrum.getNearbySteps( location );\r\n\t\t\tvar value = scope_Values[index];\r\n\t\t\tvar increment = nearbySteps.thisStep.step;\r\n\t\t\tvar decrement = null;\r\n\r\n\t\t\t// If the next value in this step moves into the next step,\r\n\t\t\t// the increment is the start of the next step - the current value\r\n\t\t\tif ( increment !== false ) {\r\n\t\t\t\tif ( value + increment > nearbySteps.stepAfter.startValue ) {\r\n\t\t\t\t\tincrement = nearbySteps.stepAfter.startValue - value;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\r\n\t\t\t// If the value is beyond the starting point\r\n\t\t\tif ( value > nearbySteps.thisStep.startValue ) {\r\n\t\t\t\tdecrement = nearbySteps.thisStep.step;\r\n\t\t\t}\r\n\r\n\t\t\telse if ( nearbySteps.stepBefore.step === false ) {\r\n\t\t\t\tdecrement = false;\r\n\t\t\t}\r\n\r\n\t\t\t// If a handle is at the start of a step, it always steps back into the previous step first\r\n\t\t\telse {\r\n\t\t\t\tdecrement = value - nearbySteps.stepBefore.highestStep;\r\n\t\t\t}\r\n\r\n\r\n\t\t\t// Now, if at the slider edges, there is not in/decrement\r\n\t\t\tif ( location === 100 ) {\r\n\t\t\t\tincrement = null;\r\n\t\t\t}\r\n\r\n\t\t\telse if ( location === 0 ) {\r\n\t\t\t\tdecrement = null;\r\n\t\t\t}\r\n\r\n\t\t\t// As per #391, the comparison for the decrement step can have some rounding issues.\r\n\t\t\tvar stepDecimals = scope_Spectrum.countStepDecimals();\r\n\r\n\t\t\t// Round per #391\r\n\t\t\tif ( increment !== null && increment !== false ) {\r\n\t\t\t\tincrement = Number(increment.toFixed(stepDecimals));\r\n\t\t\t}\r\n\r\n\t\t\tif ( decrement !== null && decrement !== false ) {\r\n\t\t\t\tdecrement = Number(decrement.toFixed(stepDecimals));\r\n\t\t\t}\r\n\r\n\t\t\treturn [decrement, increment];\r\n\t\t});\r\n\t}\r\n\r\n\t// Attach an event to this slider, possibly including a namespace\r\n\tfunction bindEvent ( namespacedEvent, callback ) {\r\n\t\tscope_Events[namespacedEvent] = scope_Events[namespacedEvent] || [];\r\n\t\tscope_Events[namespacedEvent].push(callback);\r\n\r\n\t\t// If the event bound is 'update,' fire it immediately for all handles.\r\n\t\tif ( namespacedEvent.split('.')[0] === 'update' ) {\r\n\t\t\tscope_Handles.forEach(function(a, index){\r\n\t\t\t\tfireEvent('update', index);\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\r\n\t// Undo attachment of event\r\n\tfunction removeEvent ( namespacedEvent ) {\r\n\r\n\t\tvar event = namespacedEvent && namespacedEvent.split('.')[0];\r\n\t\tvar namespace = event && namespacedEvent.substring(event.length);\r\n\r\n\t\tObject.keys(scope_Events).forEach(function( bind ){\r\n\r\n\t\t\tvar tEvent = bind.split('.')[0],\r\n\t\t\t\ttNamespace = bind.substring(tEvent.length);\r\n\r\n\t\t\tif ( (!event || event === tEvent) && (!namespace || namespace === tNamespace) ) {\r\n\t\t\t\tdelete scope_Events[bind];\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\t// Updateable: margin, limit, padding, step, range, animate, snap\r\n\tfunction updateOptions ( optionsToUpdate, fireSetEvent ) {\r\n\r\n\t\t// Spectrum is created using the range, snap, direction and step options.\r\n\t\t// 'snap' and 'step' can be updated.\r\n\t\t// If 'snap' and 'step' are not passed, they should remain unchanged.\r\n\t\tvar v = valueGet();\r\n\r\n\t\tvar updateAble = ['margin', 'limit', 'padding', 'range', 'animate', 'snap', 'step', 'format'];\r\n\r\n\t\t// Only change options that we're actually passed to update.\r\n\t\tupdateAble.forEach(function(name){\r\n\t\t\tif ( optionsToUpdate[name] !== undefined ) {\r\n\t\t\t\toriginalOptions[name] = optionsToUpdate[name];\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tvar newOptions = testOptions(originalOptions);\r\n\r\n\t\t// Load new options into the slider state\r\n\t\tupdateAble.forEach(function(name){\r\n\t\t\tif ( optionsToUpdate[name] !== undefined ) {\r\n\t\t\t\toptions[name] = newOptions[name];\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tscope_Spectrum = newOptions.spectrum;\r\n\r\n\t\t// Limit, margin and padding depend on the spectrum but are stored outside of it. (#677)\r\n\t\toptions.margin = newOptions.margin;\r\n\t\toptions.limit = newOptions.limit;\r\n\t\toptions.padding = newOptions.padding;\r\n\r\n\t\t// Update pips, removes existing.\r\n\t\tif ( options.pips ) {\r\n\t\t\tpips(options.pips);\r\n\t\t}\r\n\r\n\t\t// Invalidate the current positioning so valueSet forces an update.\r\n\t\tscope_Locations = [];\r\n\t\tvalueSet(optionsToUpdate.start || v, fireSetEvent);\r\n\t}\r\n\r\n\t// Throw an error if the slider was already initialized.\r\n\tif ( scope_Target.noUiSlider ) {\r\n\t\tthrow new Error(\"noUiSlider (\" + VERSION + \"): Slider was already initialized.\");\r\n\t}\r\n\r\n\t// Create the base element, initialise HTML and set classes.\r\n\t// Add handles and connect elements.\r\n\taddSlider(scope_Target);\r\n\taddElements(options.connect, scope_Base);\r\n\r\n\tscope_Self = {\r\n\t\tdestroy: destroy,\r\n\t\tsteps: getCurrentStep,\r\n\t\ton: bindEvent,\r\n\t\toff: removeEvent,\r\n\t\tget: valueGet,\r\n\t\tset: valueSet,\r\n\t\treset: valueReset,\r\n\t\t// Exposed for unit testing, don't use this in your application.\r\n\t\t__moveHandles: function(a, b, c) { moveHandles(a, b, scope_Locations, c); },\r\n\t\toptions: originalOptions, // Issue #600, #678\r\n\t\tupdateOptions: updateOptions,\r\n\t\ttarget: scope_Target, // Issue #597\r\n\t\tremovePips: removePips,\r\n\t\tpips: pips // Issue #594\r\n\t};\r\n\r\n\t// Attach user events.\r\n\tbindSliderEvents(options.events);\r\n\r\n\t// Use the public value method to set the start values.\r\n\tvalueSet(options.start);\r\n\r\n\tif ( options.pips ) {\r\n\t\tpips(options.pips);\r\n\t}\r\n\r\n\tif ( options.tooltips ) {\r\n\t\ttooltips();\r\n\t}\r\n\r\n\taria();\r\n\r\n\treturn scope_Self;\r\n\r\n}\r\n\r\n\r\n\t// Run the standard initializer\r\n\tfunction initialize ( target, originalOptions ) {\r\n\r\n\t\tif ( !target || !target.nodeName ) {\r\n\t\t\tthrow new Error(\"noUiSlider (\" + VERSION + \"): create requires a single element, got: \" + target);\r\n\t\t}\r\n\r\n\t\t// Test the options and create the slider environment;\r\n\t\tvar options = testOptions( originalOptions, target );\r\n\t\tvar api = closure( target, options, originalOptions );\r\n\r\n\t\ttarget.noUiSlider = api;\r\n\r\n\t\treturn api;\r\n\t}\r\n\r\n\t// Use an object instead of a function for future expansibility;\r\n\treturn {\r\n\t\tversion: VERSION,\r\n\t\tcreate: initialize\r\n\t};\r\n\r\n}));\n\n\n// WEBPACK FOOTER //\n// ./node_modules/nouislider/distribute/nouislider.js","import extend from 'extend'\nimport Flatpickr from 'flatpickr'\nriot.tag2('input-datepicker', '<input ref=\"datepicker\">', '', '', function(opts) {\n        this.on('mount', ()=>{\n            this.options = {\n                onChange: (selectedDates)=>{\n                    this.trigger('picked', selectedDates)\n                },\n                onOpen: function(selectedDates){\n                    if (this.hourElement && this.minuteElement) {\n                        this.setDate(`${this.hourElement.value}:${this.minuteElement.value}`)\n                    }\n                }\n            }\n            extend(true, this.options, this.opts.options)\n            this.datepicker = new Flatpickr(this.refs.datepicker, this.options)\n        })\n});\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/tags/input-datepicker.html","var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\n/*! flatpickr v3.0.5-1, @license MIT */\nfunction FlatpickrInstance(element, config) {\n\tvar self = this;\n\n\tself._ = {};\n\tself._.afterDayAnim = afterDayAnim;\n\tself._bind = bind;\n\tself._compareDates = compareDates;\n\tself._setHoursFromDate = setHoursFromDate;\n\tself.changeMonth = changeMonth;\n\tself.changeYear = changeYear;\n\tself.clear = clear;\n\tself.close = close;\n\tself._createElement = createElement;\n\tself.destroy = destroy;\n\tself.isEnabled = isEnabled;\n\tself.jumpToDate = jumpToDate;\n\tself.open = open;\n\tself.redraw = redraw;\n\tself.set = set;\n\tself.setDate = setDate;\n\tself.toggle = toggle;\n\n\tfunction init() {\n\t\tself.element = self.input = element;\n\t\tself.instanceConfig = config || {};\n\t\tself.parseDate = FlatpickrInstance.prototype.parseDate.bind(self);\n\t\tself.formatDate = FlatpickrInstance.prototype.formatDate.bind(self);\n\n\t\tsetupFormats();\n\t\tparseConfig();\n\t\tsetupLocale();\n\t\tsetupInputs();\n\t\tsetupDates();\n\t\tsetupHelperFunctions();\n\n\t\tself.isOpen = false;\n\n\t\tself.isMobile = !self.config.disableMobile && !self.config.inline && self.config.mode === \"single\" && !self.config.disable.length && !self.config.enable.length && !self.config.weekNumbers && /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);\n\n\t\tif (!self.isMobile) build();\n\n\t\tbindEvents();\n\n\t\tif (self.selectedDates.length || self.config.noCalendar) {\n\t\t\tif (self.config.enableTime) {\n\t\t\t\tsetHoursFromDate(self.config.noCalendar ? self.latestSelectedDateObj || self.config.minDate : null);\n\t\t\t}\n\t\t\tupdateValue();\n\t\t}\n\n\t\tself.showTimeInput = self.selectedDates.length > 0 || self.config.noCalendar;\n\n\t\tif (self.config.weekNumbers) {\n\t\t\tself.calendarContainer.style.width = self.daysContainer.offsetWidth + self.weekWrapper.offsetWidth + \"px\";\n\t\t}\n\n\t\tif (!self.isMobile) positionCalendar();\n\n\t\ttriggerEvent(\"Ready\");\n\t}\n\n\t/**\n  * Binds a function to the current flatpickr instance\n  * @param {Function} fn the function\n  * @return {Function} the function bound to the instance\n  */\n\tfunction bindToInstance(fn) {\n\t\treturn fn.bind(self);\n\t}\n\n\t/**\n  * The handler for all events targeting the time inputs\n  * @param {Event} e the event - \"input\", \"wheel\", \"increment\", etc\n  */\n\tfunction updateTime(e) {\n\t\tif (self.config.noCalendar && !self.selectedDates.length)\n\t\t\t// picking time only\n\t\t\tself.selectedDates = [self.now];\n\n\t\ttimeWrapper(e);\n\n\t\tif (!self.selectedDates.length) return;\n\n\t\tif (!self.minDateHasTime || e.type !== \"input\" || e.target.value.length >= 2) {\n\t\t\tsetHoursFromInputs();\n\t\t\tupdateValue();\n\t\t} else {\n\t\t\tsetTimeout(function () {\n\t\t\t\tsetHoursFromInputs();\n\t\t\t\tupdateValue();\n\t\t\t}, 1000);\n\t\t}\n\t}\n\n\t/**\n  * Syncs the selected date object time with user's time input\n  */\n\tfunction setHoursFromInputs() {\n\t\tif (!self.config.enableTime) return;\n\n\t\tvar hours = (parseInt(self.hourElement.value, 10) || 0) % (self.amPM ? 12 : 24),\n\t\t    minutes = (parseInt(self.minuteElement.value, 10) || 0) % 60,\n\t\t    seconds = self.config.enableSeconds ? (parseInt(self.secondElement.value, 10) || 0) % 60 : 0;\n\n\t\tif (self.amPM !== undefined) hours = hours % 12 + 12 * (self.amPM.textContent === \"PM\");\n\n\t\tif (self.minDateHasTime && compareDates(self.latestSelectedDateObj, self.config.minDate) === 0) {\n\n\t\t\thours = Math.max(hours, self.config.minDate.getHours());\n\t\t\tif (hours === self.config.minDate.getHours()) minutes = Math.max(minutes, self.config.minDate.getMinutes());\n\t\t}\n\n\t\tif (self.maxDateHasTime && compareDates(self.latestSelectedDateObj, self.config.maxDate) === 0) {\n\t\t\thours = Math.min(hours, self.config.maxDate.getHours());\n\t\t\tif (hours === self.config.maxDate.getHours()) minutes = Math.min(minutes, self.config.maxDate.getMinutes());\n\t\t}\n\n\t\tsetHours(hours, minutes, seconds);\n\t}\n\n\t/**\n  * Syncs time input values with a date\n  * @param {Date} dateObj the date to sync with\n  */\n\tfunction setHoursFromDate(dateObj) {\n\t\tvar date = dateObj || self.latestSelectedDateObj;\n\n\t\tif (date) setHours(date.getHours(), date.getMinutes(), date.getSeconds());\n\t}\n\n\t/**\n  * Sets the hours, minutes, and optionally seconds\n  * of the latest selected date object and the\n  * corresponding time inputs\n  * @param {Number} hours the hour. whether its military\n  *                 or am-pm gets inferred from config\n  * @param {Number} minutes the minutes\n  * @param {Number} seconds the seconds (optional)\n  */\n\tfunction setHours(hours, minutes, seconds) {\n\t\tif (self.selectedDates.length) {\n\t\t\tself.latestSelectedDateObj.setHours(hours % 24, minutes, seconds || 0, 0);\n\t\t}\n\n\t\tif (!self.config.enableTime || self.isMobile) return;\n\n\t\tself.hourElement.value = self.pad(!self.config.time_24hr ? (12 + hours) % 12 + 12 * (hours % 12 === 0) : hours);\n\n\t\tself.minuteElement.value = self.pad(minutes);\n\n\t\tif (!self.config.time_24hr) self.amPM.textContent = hours >= 12 ? \"PM\" : \"AM\";\n\n\t\tif (self.config.enableSeconds === true) self.secondElement.value = self.pad(seconds);\n\t}\n\n\t/**\n  * Handles the year input and incrementing events\n  * @param {Event} event the keyup or increment event\n  */\n\tfunction onYearInput(event) {\n\t\tvar year = event.target.value;\n\t\tif (event.delta) year = (parseInt(year) + event.delta).toString();\n\n\t\tif (year.length === 4 || event.key === \"Enter\") {\n\t\t\tself.currentYearElement.blur();\n\t\t\tif (!/[^\\d]/.test(year)) changeYear(year);\n\t\t}\n\t}\n\n\t/**\n  * Essentially addEventListener + tracking\n  * @param {Element} element the element to addEventListener to\n  * @param {String} event the event name\n  * @param {Function} handler the event handler\n  */\n\tfunction bind(element, event, handler) {\n\t\tif (event instanceof Array) return event.forEach(function (ev) {\n\t\t\treturn bind(element, ev, handler);\n\t\t});\n\n\t\tif (element instanceof Array) return element.forEach(function (el) {\n\t\t\treturn bind(el, event, handler);\n\t\t});\n\n\t\telement.addEventListener(event, handler);\n\t\tself._handlers.push({ element: element, event: event, handler: handler });\n\t}\n\n\t/**\n  * A mousedown handler which mimics click.\n  * Minimizes latency, since we don't need to wait for mouseup in most cases.\n  * Also, avoids handling right clicks.\n  *\n  * @param {Function} handler the event handler\n  */\n\tfunction onClick(handler) {\n\t\treturn function (evt) {\n\t\t\treturn evt.which === 1 && handler(evt);\n\t\t};\n\t}\n\n\t/**\n  * Adds all the necessary event listeners\n  */\n\tfunction bindEvents() {\n\t\tself._handlers = [];\n\t\tself._animationLoop = [];\n\t\tif (self.config.wrap) {\n\t\t\t[\"open\", \"close\", \"toggle\", \"clear\"].forEach(function (evt) {\n\t\t\t\tArray.prototype.forEach.call(self.element.querySelectorAll(\"[data-\" + evt + \"]\"), function (el) {\n\t\t\t\t\treturn bind(el, \"mousedown\", onClick(self[evt]));\n\t\t\t\t});\n\t\t\t});\n\t\t}\n\n\t\tif (self.isMobile) return setupMobile();\n\n\t\tself.debouncedResize = debounce(onResize, 50);\n\t\tself.triggerChange = function () {\n\t\t\ttriggerEvent(\"Change\");\n\t\t};\n\t\tself.debouncedChange = debounce(self.triggerChange, 300);\n\n\t\tif (self.config.mode === \"range\" && self.daysContainer) bind(self.daysContainer, \"mouseover\", function (e) {\n\t\t\treturn onMouseOver(e.target);\n\t\t});\n\n\t\tbind(window.document.body, \"keydown\", onKeyDown);\n\n\t\tif (!self.config.static) bind(self._input, \"keydown\", onKeyDown);\n\n\t\tif (!self.config.inline && !self.config.static) bind(window, \"resize\", self.debouncedResize);\n\n\t\tif (window.ontouchstart !== undefined) bind(window.document, \"touchstart\", documentClick);\n\n\t\tbind(window.document, \"mousedown\", onClick(documentClick));\n\t\tbind(self._input, \"blur\", documentClick);\n\n\t\tif (self.config.clickOpens === true) {\n\t\t\tbind(self._input, \"focus\", self.open);\n\t\t\tbind(self._input, \"mousedown\", onClick(self.open));\n\t\t}\n\n\t\tif (!self.config.noCalendar) {\n\t\t\tself.monthNav.addEventListener(\"wheel\", function (e) {\n\t\t\t\treturn e.preventDefault();\n\t\t\t});\n\t\t\tbind(self.monthNav, \"wheel\", debounce(onMonthNavScroll, 10));\n\t\t\tbind(self.monthNav, \"mousedown\", onClick(onMonthNavClick));\n\n\t\t\tbind(self.monthNav, [\"keyup\", \"increment\"], onYearInput);\n\t\t\tbind(self.daysContainer, \"mousedown\", onClick(selectDate));\n\n\t\t\tif (self.config.animate) {\n\t\t\t\tbind(self.daysContainer, [\"webkitAnimationEnd\", \"animationend\"], animateDays);\n\t\t\t\tbind(self.monthNav, [\"webkitAnimationEnd\", \"animationend\"], animateMonths);\n\t\t\t}\n\t\t}\n\n\t\tif (self.config.enableTime) {\n\t\t\tvar selText = function selText(e) {\n\t\t\t\treturn e.target.select();\n\t\t\t};\n\t\t\tbind(self.timeContainer, [\"wheel\", \"input\", \"increment\"], updateTime);\n\t\t\tbind(self.timeContainer, \"mousedown\", onClick(timeIncrement));\n\n\t\t\tbind(self.timeContainer, [\"wheel\", \"increment\"], self.debouncedChange);\n\t\t\tbind(self.timeContainer, \"input\", self.triggerChange);\n\n\t\t\tbind([self.hourElement, self.minuteElement], \"focus\", selText);\n\n\t\t\tif (self.secondElement !== undefined) bind(self.secondElement, \"focus\", function () {\n\t\t\t\treturn self.secondElement.select();\n\t\t\t});\n\n\t\t\tif (self.amPM !== undefined) {\n\t\t\t\tbind(self.amPM, \"mousedown\", onClick(function (e) {\n\t\t\t\t\tupdateTime(e);\n\t\t\t\t\tself.triggerChange(e);\n\t\t\t\t}));\n\t\t\t}\n\t\t}\n\t}\n\n\tfunction processPostDayAnimation() {\n\t\tfor (var i = self._animationLoop.length; i--;) {\n\t\t\tself._animationLoop[i]();\n\t\t\tself._animationLoop.splice(i, 1);\n\t\t}\n\t}\n\n\t/**\n  * Removes the day container that slided out of view\n  * @param {Event} e the animation event\n  */\n\tfunction animateDays(e) {\n\t\tif (self.daysContainer.childNodes.length > 1) {\n\t\t\tswitch (e.animationName) {\n\t\t\t\tcase \"fpSlideLeft\":\n\t\t\t\t\tself.daysContainer.lastChild.classList.remove(\"slideLeftNew\");\n\t\t\t\t\tself.daysContainer.removeChild(self.daysContainer.firstChild);\n\t\t\t\t\tself.days = self.daysContainer.firstChild;\n\t\t\t\t\tprocessPostDayAnimation();\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase \"fpSlideRight\":\n\t\t\t\t\tself.daysContainer.firstChild.classList.remove(\"slideRightNew\");\n\t\t\t\t\tself.daysContainer.removeChild(self.daysContainer.lastChild);\n\t\t\t\t\tself.days = self.daysContainer.firstChild;\n\t\t\t\t\tprocessPostDayAnimation();\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tdefault:\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n  * Removes the month element that animated out of view\n  * @param {Event} e the animation event\n  */\n\tfunction animateMonths(e) {\n\t\tswitch (e.animationName) {\n\t\t\tcase \"fpSlideLeftNew\":\n\t\t\tcase \"fpSlideRightNew\":\n\t\t\t\tself.navigationCurrentMonth.classList.remove(\"slideLeftNew\");\n\t\t\t\tself.navigationCurrentMonth.classList.remove(\"slideRightNew\");\n\t\t\t\tvar nav = self.navigationCurrentMonth;\n\n\t\t\t\twhile (nav.nextSibling && /curr/.test(nav.nextSibling.className)) {\n\t\t\t\t\tself.monthNav.removeChild(nav.nextSibling);\n\t\t\t\t}while (nav.previousSibling && /curr/.test(nav.previousSibling.className)) {\n\t\t\t\t\tself.monthNav.removeChild(nav.previousSibling);\n\t\t\t\t}self.oldCurMonth = null;\n\t\t\t\tbreak;\n\t\t}\n\t}\n\n\t/**\n  * Set the calendar view to a particular date.\n  * @param {Date} jumpDate the date to set the view to\n  */\n\tfunction jumpToDate(jumpDate) {\n\t\tjumpDate = jumpDate ? self.parseDate(jumpDate) : self.latestSelectedDateObj || (self.config.minDate > self.now ? self.config.minDate : self.config.maxDate && self.config.maxDate < self.now ? self.config.maxDate : self.now);\n\n\t\ttry {\n\t\t\tself.currentYear = jumpDate.getFullYear();\n\t\t\tself.currentMonth = jumpDate.getMonth();\n\t\t} catch (e) {\n\t\t\t/* istanbul ignore next */\n\t\t\tconsole.error(e.stack);\n\t\t\t/* istanbul ignore next */\n\t\t\tconsole.warn(\"Invalid date supplied: \" + jumpDate);\n\t\t}\n\n\t\tself.redraw();\n\t}\n\n\t/**\n  * The up/down arrow handler for time inputs\n  * @param {Event} e the click event\n  */\n\tfunction timeIncrement(e) {\n\t\tif (~e.target.className.indexOf(\"arrow\")) incrementNumInput(e, e.target.classList.contains(\"arrowUp\") ? 1 : -1);\n\t}\n\n\t/**\n  * Increments/decrements the value of input associ-\n  * ated with the up/down arrow by dispatching an\n  * \"increment\" event on the input.\n  *\n  * @param {Event} e the click event\n  * @param {Number} delta the diff (usually 1 or -1)\n  * @param {Element} inputElem the input element\n  */\n\tfunction incrementNumInput(e, delta, inputElem) {\n\t\tvar input = inputElem || e.target.parentNode.childNodes[0];\n\t\tvar event = createEvent(\"increment\");\n\t\tevent.delta = delta;\n\t\tinput.dispatchEvent(event);\n\t}\n\n\tfunction createNumberInput(inputClassName) {\n\t\tvar wrapper = createElement(\"div\", \"numInputWrapper\"),\n\t\t    numInput = createElement(\"input\", \"numInput \" + inputClassName),\n\t\t    arrowUp = createElement(\"span\", \"arrowUp\"),\n\t\t    arrowDown = createElement(\"span\", \"arrowDown\");\n\n\t\tnumInput.type = \"text\";\n\t\tnumInput.pattern = \"\\\\d*\";\n\n\t\twrapper.appendChild(numInput);\n\t\twrapper.appendChild(arrowUp);\n\t\twrapper.appendChild(arrowDown);\n\n\t\treturn wrapper;\n\t}\n\n\tfunction build() {\n\t\tvar fragment = window.document.createDocumentFragment();\n\t\tself.calendarContainer = createElement(\"div\", \"flatpickr-calendar\");\n\t\tself.calendarContainer.tabIndex = -1;\n\n\t\tif (!self.config.noCalendar) {\n\t\t\tfragment.appendChild(buildMonthNav());\n\t\t\tself.innerContainer = createElement(\"div\", \"flatpickr-innerContainer\");\n\n\t\t\tif (self.config.weekNumbers) self.innerContainer.appendChild(buildWeeks());\n\n\t\t\tself.rContainer = createElement(\"div\", \"flatpickr-rContainer\");\n\t\t\tself.rContainer.appendChild(buildWeekdays());\n\n\t\t\tif (!self.daysContainer) {\n\t\t\t\tself.daysContainer = createElement(\"div\", \"flatpickr-days\");\n\t\t\t\tself.daysContainer.tabIndex = -1;\n\t\t\t}\n\n\t\t\tbuildDays();\n\t\t\tself.rContainer.appendChild(self.daysContainer);\n\n\t\t\tself.innerContainer.appendChild(self.rContainer);\n\t\t\tfragment.appendChild(self.innerContainer);\n\t\t}\n\n\t\tif (self.config.enableTime) fragment.appendChild(buildTime());\n\n\t\ttoggleClass(self.calendarContainer, \"rangeMode\", self.config.mode === \"range\");\n\t\ttoggleClass(self.calendarContainer, \"animate\", self.config.animate);\n\n\t\tself.calendarContainer.appendChild(fragment);\n\n\t\tvar customAppend = self.config.appendTo && self.config.appendTo.nodeType;\n\n\t\tif (self.config.inline || self.config.static) {\n\t\t\tself.calendarContainer.classList.add(self.config.inline ? \"inline\" : \"static\");\n\n\t\t\tif (self.config.inline && !customAppend) {\n\t\t\t\treturn self.element.parentNode.insertBefore(self.calendarContainer, self._input.nextSibling);\n\t\t\t}\n\n\t\t\tif (self.config.static) {\n\t\t\t\tvar wrapper = createElement(\"div\", \"flatpickr-wrapper\");\n\t\t\t\tself.element.parentNode.insertBefore(wrapper, self.element);\n\t\t\t\twrapper.appendChild(self.element);\n\n\t\t\t\tif (self.altInput) wrapper.appendChild(self.altInput);\n\n\t\t\t\twrapper.appendChild(self.calendarContainer);\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\n\t\t(customAppend ? self.config.appendTo : window.document.body).appendChild(self.calendarContainer);\n\t}\n\n\tfunction createDay(className, date, dayNumber, i) {\n\t\tvar dateIsEnabled = isEnabled(date, true),\n\t\t    dayElement = createElement(\"span\", \"flatpickr-day \" + className, date.getDate());\n\n\t\tdayElement.dateObj = date;\n\t\tdayElement.$i = i;\n\t\tdayElement.setAttribute(\"aria-label\", self.formatDate(date, self.config.ariaDateFormat));\n\n\t\tif (compareDates(date, self.now) === 0) {\n\t\t\tself.todayDateElem = dayElement;\n\t\t\tdayElement.classList.add(\"today\");\n\t\t}\n\n\t\tif (dateIsEnabled) {\n\t\t\tdayElement.tabIndex = -1;\n\t\t\tif (isDateSelected(date)) {\n\t\t\t\tdayElement.classList.add(\"selected\");\n\t\t\t\tself.selectedDateElem = dayElement;\n\t\t\t\tif (self.config.mode === \"range\") {\n\t\t\t\t\ttoggleClass(dayElement, \"startRange\", compareDates(date, self.selectedDates[0]) === 0);\n\n\t\t\t\t\ttoggleClass(dayElement, \"endRange\", compareDates(date, self.selectedDates[1]) === 0);\n\t\t\t\t}\n\t\t\t}\n\t\t} else {\n\t\t\tdayElement.classList.add(\"disabled\");\n\t\t\tif (self.selectedDates[0] && date > self.minRangeDate && date < self.selectedDates[0]) self.minRangeDate = date;else if (self.selectedDates[0] && date < self.maxRangeDate && date > self.selectedDates[0]) self.maxRangeDate = date;\n\t\t}\n\n\t\tif (self.config.mode === \"range\") {\n\t\t\tif (isDateInRange(date) && !isDateSelected(date)) dayElement.classList.add(\"inRange\");\n\n\t\t\tif (self.selectedDates.length === 1 && (date < self.minRangeDate || date > self.maxRangeDate)) dayElement.classList.add(\"notAllowed\");\n\t\t}\n\n\t\tif (self.config.weekNumbers && className !== \"prevMonthDay\" && dayNumber % 7 === 1) {\n\t\t\tself.weekNumbers.insertAdjacentHTML(\"beforeend\", \"<span class='disabled flatpickr-day'>\" + self.config.getWeek(date) + \"</span>\");\n\t\t}\n\n\t\ttriggerEvent(\"DayCreate\", dayElement);\n\n\t\treturn dayElement;\n\t}\n\n\tfunction focusOnDay(currentIndex, offset) {\n\t\tvar newIndex = currentIndex + offset || 0,\n\t\t    targetNode = currentIndex !== undefined ? self.days.childNodes[newIndex] : self.selectedDateElem || self.todayDateElem || self.days.childNodes[0],\n\t\t    focus = function focus() {\n\t\t\ttargetNode = targetNode || self.days.childNodes[newIndex];\n\t\t\ttargetNode.focus();\n\n\t\t\tif (self.config.mode === \"range\") onMouseOver(targetNode);\n\t\t};\n\n\t\tif (targetNode === undefined && offset !== 0) {\n\t\t\tif (offset > 0) {\n\t\t\t\tself.changeMonth(1);\n\t\t\t\tnewIndex = newIndex % 42;\n\t\t\t} else if (offset < 0) {\n\t\t\t\tself.changeMonth(-1);\n\t\t\t\tnewIndex += 42;\n\t\t\t}\n\n\t\t\treturn afterDayAnim(focus);\n\t\t}\n\n\t\tfocus();\n\t}\n\n\tfunction afterDayAnim(fn) {\n\t\tif (self.config.animate === true) return self._animationLoop.push(fn);\n\t\tfn();\n\t}\n\n\tfunction buildDays(delta) {\n\t\tvar firstOfMonth = (new Date(self.currentYear, self.currentMonth, 1).getDay() - self.l10n.firstDayOfWeek + 7) % 7,\n\t\t    isRangeMode = self.config.mode === \"range\";\n\n\t\tself.prevMonthDays = self.utils.getDaysinMonth((self.currentMonth - 1 + 12) % 12);\n\t\tself.selectedDateElem = undefined;\n\t\tself.todayDateElem = undefined;\n\n\t\tvar daysInMonth = self.utils.getDaysinMonth(),\n\t\t    days = window.document.createDocumentFragment();\n\n\t\tvar dayNumber = self.prevMonthDays + 1 - firstOfMonth,\n\t\t    dayIndex = 0;\n\n\t\tif (self.config.weekNumbers && self.weekNumbers.firstChild) self.weekNumbers.textContent = \"\";\n\n\t\tif (isRangeMode) {\n\t\t\t// const dateLimits = self.config.enable.length || self.config.disable.length || self.config.mixDate || self.config.maxDate;\n\t\t\tself.minRangeDate = new Date(self.currentYear, self.currentMonth - 1, dayNumber);\n\t\t\tself.maxRangeDate = new Date(self.currentYear, self.currentMonth + 1, (42 - firstOfMonth) % daysInMonth);\n\t\t}\n\n\t\t// prepend days from the ending of previous month\n\t\tfor (; dayNumber <= self.prevMonthDays; dayNumber++, dayIndex++) {\n\t\t\tdays.appendChild(createDay(\"prevMonthDay\", new Date(self.currentYear, self.currentMonth - 1, dayNumber), dayNumber, dayIndex));\n\t\t}\n\n\t\t// Start at 1 since there is no 0th day\n\t\tfor (dayNumber = 1; dayNumber <= daysInMonth; dayNumber++, dayIndex++) {\n\t\t\tdays.appendChild(createDay(\"\", new Date(self.currentYear, self.currentMonth, dayNumber), dayNumber, dayIndex));\n\t\t}\n\n\t\t// append days from the next month\n\t\tfor (var dayNum = daysInMonth + 1; dayNum <= 42 - firstOfMonth; dayNum++, dayIndex++) {\n\t\t\tdays.appendChild(createDay(\"nextMonthDay\", new Date(self.currentYear, self.currentMonth + 1, dayNum % daysInMonth), dayNum, dayIndex));\n\t\t}\n\n\t\tif (isRangeMode && self.selectedDates.length === 1 && days.childNodes[0]) {\n\t\t\tself._hidePrevMonthArrow = self._hidePrevMonthArrow || self.minRangeDate > days.childNodes[0].dateObj;\n\n\t\t\tself._hideNextMonthArrow = self._hideNextMonthArrow || self.maxRangeDate < new Date(self.currentYear, self.currentMonth + 1, 1);\n\t\t} else updateNavigationCurrentMonth();\n\n\t\tvar dayContainer = createElement(\"div\", \"dayContainer\");\n\t\tdayContainer.appendChild(days);\n\n\t\tif (!self.config.animate || delta === undefined) clearNode(self.daysContainer);else {\n\t\t\twhile (self.daysContainer.childNodes.length > 1) {\n\t\t\t\tself.daysContainer.removeChild(self.daysContainer.firstChild);\n\t\t\t}\n\t\t}\n\n\t\tif (delta >= 0) self.daysContainer.appendChild(dayContainer);else self.daysContainer.insertBefore(dayContainer, self.daysContainer.firstChild);\n\n\t\tself.days = self.daysContainer.firstChild;\n\t\treturn self.daysContainer;\n\t}\n\n\tfunction clearNode(node) {\n\t\twhile (node.firstChild) {\n\t\t\tnode.removeChild(node.firstChild);\n\t\t}\n\t}\n\n\tfunction buildMonthNav() {\n\t\tvar monthNavFragment = window.document.createDocumentFragment();\n\t\tself.monthNav = createElement(\"div\", \"flatpickr-month\");\n\n\t\tself.prevMonthNav = createElement(\"span\", \"flatpickr-prev-month\");\n\t\tself.prevMonthNav.innerHTML = self.config.prevArrow;\n\n\t\tself.currentMonthElement = createElement(\"span\", \"cur-month\");\n\t\tself.currentMonthElement.title = self.l10n.scrollTitle;\n\n\t\tvar yearInput = createNumberInput(\"cur-year\");\n\t\tself.currentYearElement = yearInput.childNodes[0];\n\t\tself.currentYearElement.title = self.l10n.scrollTitle;\n\n\t\tif (self.config.minDate) self.currentYearElement.min = self.config.minDate.getFullYear();\n\n\t\tif (self.config.maxDate) {\n\t\t\tself.currentYearElement.max = self.config.maxDate.getFullYear();\n\n\t\t\tself.currentYearElement.disabled = self.config.minDate && self.config.minDate.getFullYear() === self.config.maxDate.getFullYear();\n\t\t}\n\n\t\tself.nextMonthNav = createElement(\"span\", \"flatpickr-next-month\");\n\t\tself.nextMonthNav.innerHTML = self.config.nextArrow;\n\n\t\tself.navigationCurrentMonth = createElement(\"span\", \"flatpickr-current-month\");\n\t\tself.navigationCurrentMonth.appendChild(self.currentMonthElement);\n\t\tself.navigationCurrentMonth.appendChild(yearInput);\n\n\t\tmonthNavFragment.appendChild(self.prevMonthNav);\n\t\tmonthNavFragment.appendChild(self.navigationCurrentMonth);\n\t\tmonthNavFragment.appendChild(self.nextMonthNav);\n\t\tself.monthNav.appendChild(monthNavFragment);\n\n\t\tObject.defineProperty(self, \"_hidePrevMonthArrow\", {\n\t\t\tget: function get() {\n\t\t\t\treturn this.__hidePrevMonthArrow;\n\t\t\t},\n\t\t\tset: function set(bool) {\n\t\t\t\tif (this.__hidePrevMonthArrow !== bool) self.prevMonthNav.style.display = bool ? \"none\" : \"block\";\n\t\t\t\tthis.__hidePrevMonthArrow = bool;\n\t\t\t}\n\t\t});\n\n\t\tObject.defineProperty(self, \"_hideNextMonthArrow\", {\n\t\t\tget: function get() {\n\t\t\t\treturn this.__hideNextMonthArrow;\n\t\t\t},\n\t\t\tset: function set(bool) {\n\t\t\t\tif (this.__hideNextMonthArrow !== bool) self.nextMonthNav.style.display = bool ? \"none\" : \"block\";\n\t\t\t\tthis.__hideNextMonthArrow = bool;\n\t\t\t}\n\t\t});\n\n\t\tupdateNavigationCurrentMonth();\n\n\t\treturn self.monthNav;\n\t}\n\n\tfunction buildTime() {\n\t\tself.calendarContainer.classList.add(\"hasTime\");\n\t\tif (self.config.noCalendar) self.calendarContainer.classList.add(\"noCalendar\");\n\t\tself.timeContainer = createElement(\"div\", \"flatpickr-time\");\n\t\tself.timeContainer.tabIndex = -1;\n\t\tvar separator = createElement(\"span\", \"flatpickr-time-separator\", \":\");\n\n\t\tvar hourInput = createNumberInput(\"flatpickr-hour\");\n\t\tself.hourElement = hourInput.childNodes[0];\n\n\t\tvar minuteInput = createNumberInput(\"flatpickr-minute\");\n\t\tself.minuteElement = minuteInput.childNodes[0];\n\n\t\tself.hourElement.tabIndex = self.minuteElement.tabIndex = -1;\n\n\t\tself.hourElement.value = self.pad(self.latestSelectedDateObj ? self.latestSelectedDateObj.getHours() : self.config.defaultHour);\n\n\t\tself.minuteElement.value = self.pad(self.latestSelectedDateObj ? self.latestSelectedDateObj.getMinutes() : self.config.defaultMinute);\n\n\t\tself.hourElement.step = self.config.hourIncrement;\n\t\tself.minuteElement.step = self.config.minuteIncrement;\n\n\t\tself.hourElement.min = self.config.time_24hr ? 0 : 1;\n\t\tself.hourElement.max = self.config.time_24hr ? 23 : 12;\n\n\t\tself.minuteElement.min = 0;\n\t\tself.minuteElement.max = 59;\n\n\t\tself.hourElement.title = self.minuteElement.title = self.l10n.scrollTitle;\n\n\t\tself.timeContainer.appendChild(hourInput);\n\t\tself.timeContainer.appendChild(separator);\n\t\tself.timeContainer.appendChild(minuteInput);\n\n\t\tif (self.config.time_24hr) self.timeContainer.classList.add(\"time24hr\");\n\n\t\tif (self.config.enableSeconds) {\n\t\t\tself.timeContainer.classList.add(\"hasSeconds\");\n\n\t\t\tvar secondInput = createNumberInput(\"flatpickr-second\");\n\t\t\tself.secondElement = secondInput.childNodes[0];\n\n\t\t\tself.secondElement.value = self.latestSelectedDateObj ? self.pad(self.latestSelectedDateObj.getSeconds()) : \"00\";\n\n\t\t\tself.secondElement.step = self.minuteElement.step;\n\t\t\tself.secondElement.min = self.minuteElement.min;\n\t\t\tself.secondElement.max = self.minuteElement.max;\n\n\t\t\tself.timeContainer.appendChild(createElement(\"span\", \"flatpickr-time-separator\", \":\"));\n\t\t\tself.timeContainer.appendChild(secondInput);\n\t\t}\n\n\t\tif (!self.config.time_24hr) {\n\t\t\t// add self.amPM if appropriate\n\t\t\tself.amPM = createElement(\"span\", \"flatpickr-am-pm\", [\"AM\", \"PM\"][self.hourElement.value > 11 | 0]);\n\t\t\tself.amPM.title = self.l10n.toggleTitle;\n\t\t\tself.amPM.tabIndex = -1;\n\t\t\tself.timeContainer.appendChild(self.amPM);\n\t\t}\n\n\t\treturn self.timeContainer;\n\t}\n\n\tfunction buildWeekdays() {\n\t\tif (!self.weekdayContainer) self.weekdayContainer = createElement(\"div\", \"flatpickr-weekdays\");\n\n\t\tvar firstDayOfWeek = self.l10n.firstDayOfWeek;\n\t\tvar weekdays = self.l10n.weekdays.shorthand.slice();\n\n\t\tif (firstDayOfWeek > 0 && firstDayOfWeek < weekdays.length) {\n\t\t\tweekdays = [].concat(weekdays.splice(firstDayOfWeek, weekdays.length), weekdays.splice(0, firstDayOfWeek));\n\t\t}\n\n\t\tself.weekdayContainer.innerHTML = \"\\n\\t\\t<span class=flatpickr-weekday>\\n\\t\\t\\t\" + weekdays.join(\"</span><span class=flatpickr-weekday>\") + \"\\n\\t\\t</span>\\n\\t\\t\";\n\n\t\treturn self.weekdayContainer;\n\t}\n\n\t/* istanbul ignore next */\n\tfunction buildWeeks() {\n\t\tself.calendarContainer.classList.add(\"hasWeeks\");\n\t\tself.weekWrapper = createElement(\"div\", \"flatpickr-weekwrapper\");\n\t\tself.weekWrapper.appendChild(createElement(\"span\", \"flatpickr-weekday\", self.l10n.weekAbbreviation));\n\t\tself.weekNumbers = createElement(\"div\", \"flatpickr-weeks\");\n\t\tself.weekWrapper.appendChild(self.weekNumbers);\n\n\t\treturn self.weekWrapper;\n\t}\n\n\tfunction changeMonth(value, is_offset, animate) {\n\t\tis_offset = is_offset === undefined || is_offset;\n\t\tvar delta = is_offset ? value : value - self.currentMonth;\n\t\tvar skipAnimations = !self.config.animate || animate === false;\n\n\t\tif (delta < 0 && self._hidePrevMonthArrow || delta > 0 && self._hideNextMonthArrow) return;\n\n\t\tself.currentMonth += delta;\n\n\t\tif (self.currentMonth < 0 || self.currentMonth > 11) {\n\t\t\tself.currentYear += self.currentMonth > 11 ? 1 : -1;\n\t\t\tself.currentMonth = (self.currentMonth + 12) % 12;\n\n\t\t\ttriggerEvent(\"YearChange\");\n\t\t}\n\n\t\tbuildDays(!skipAnimations ? delta : undefined);\n\n\t\tif (skipAnimations) {\n\t\t\ttriggerEvent(\"MonthChange\");\n\t\t\treturn updateNavigationCurrentMonth();\n\t\t}\n\n\t\t// remove possible remnants from clicking too fast\n\t\tvar nav = self.navigationCurrentMonth;\n\t\tif (delta < 0) {\n\t\t\twhile (nav.nextSibling && /curr/.test(nav.nextSibling.className)) {\n\t\t\t\tself.monthNav.removeChild(nav.nextSibling);\n\t\t\t}\n\t\t} else if (delta > 0) {\n\t\t\twhile (nav.previousSibling && /curr/.test(nav.previousSibling.className)) {\n\t\t\t\tself.monthNav.removeChild(nav.previousSibling);\n\t\t\t}\n\t\t}\n\n\t\tself.oldCurMonth = self.navigationCurrentMonth;\n\n\t\tself.navigationCurrentMonth = self.monthNav.insertBefore(self.oldCurMonth.cloneNode(true), delta > 0 ? self.oldCurMonth.nextSibling : self.oldCurMonth);\n\n\t\tif (delta > 0) {\n\t\t\tself.daysContainer.firstChild.classList.add(\"slideLeft\");\n\t\t\tself.daysContainer.lastChild.classList.add(\"slideLeftNew\");\n\n\t\t\tself.oldCurMonth.classList.add(\"slideLeft\");\n\t\t\tself.navigationCurrentMonth.classList.add(\"slideLeftNew\");\n\t\t} else if (delta < 0) {\n\t\t\tself.daysContainer.firstChild.classList.add(\"slideRightNew\");\n\t\t\tself.daysContainer.lastChild.classList.add(\"slideRight\");\n\n\t\t\tself.oldCurMonth.classList.add(\"slideRight\");\n\t\t\tself.navigationCurrentMonth.classList.add(\"slideRightNew\");\n\t\t}\n\n\t\tself.currentMonthElement = self.navigationCurrentMonth.firstChild;\n\t\tself.currentYearElement = self.navigationCurrentMonth.lastChild.childNodes[0];\n\n\t\tupdateNavigationCurrentMonth();\n\t\tself.oldCurMonth.firstChild.textContent = self.utils.monthToStr(self.currentMonth - delta);\n\n\t\ttriggerEvent(\"MonthChange\");\n\n\t\tif (document.activeElement && document.activeElement.$i) {\n\t\t\tvar index = document.activeElement.$i;\n\t\t\tafterDayAnim(function () {\n\t\t\t\tfocusOnDay(index, 0);\n\t\t\t});\n\t\t}\n\t}\n\n\tfunction clear(triggerChangeEvent) {\n\t\tself.input.value = \"\";\n\n\t\tif (self.altInput) self.altInput.value = \"\";\n\n\t\tif (self.mobileInput) self.mobileInput.value = \"\";\n\n\t\tself.selectedDates = [];\n\t\tself.latestSelectedDateObj = undefined;\n\t\tself.showTimeInput = false;\n\n\t\tself.redraw();\n\n\t\tif (triggerChangeEvent !== false)\n\t\t\t// triggerChangeEvent is true (default) or an Event\n\t\t\ttriggerEvent(\"Change\");\n\t}\n\n\tfunction close() {\n\t\tself.isOpen = false;\n\n\t\tif (!self.isMobile) {\n\t\t\tself.calendarContainer.classList.remove(\"open\");\n\t\t\tself._input.classList.remove(\"active\");\n\t\t}\n\n\t\ttriggerEvent(\"Close\");\n\t}\n\n\tfunction destroy() {\n\t\tif (self.config !== undefined) triggerEvent(\"Destroy\");\n\n\t\tfor (var i = self._handlers.length; i--;) {\n\t\t\tvar h = self._handlers[i];\n\t\t\th.element.removeEventListener(h.event, h.handler);\n\t\t}\n\n\t\tself._handlers = [];\n\n\t\tif (self.mobileInput) {\n\t\t\tif (self.mobileInput.parentNode) self.mobileInput.parentNode.removeChild(self.mobileInput);\n\t\t\tself.mobileInput = null;\n\t\t} else if (self.calendarContainer && self.calendarContainer.parentNode) self.calendarContainer.parentNode.removeChild(self.calendarContainer);\n\n\t\tif (self.altInput) {\n\t\t\tself.input.type = \"text\";\n\t\t\tif (self.altInput.parentNode) self.altInput.parentNode.removeChild(self.altInput);\n\t\t\tdelete self.altInput;\n\t\t}\n\n\t\tif (self.input) {\n\t\t\tself.input.type = self.input._type;\n\t\t\tself.input.classList.remove(\"flatpickr-input\");\n\t\t\tself.input.removeAttribute(\"readonly\");\n\t\t\tself.input.value = \"\";\n\t\t}\n\n\t\t[\"_showTimeInput\", \"latestSelectedDateObj\", \"_hideNextMonthArrow\", \"_hidePrevMonthArrow\", \"__hideNextMonthArrow\", \"__hidePrevMonthArrow\", \"isMobile\", \"isOpen\", \"selectedDateElem\", \"minDateHasTime\", \"maxDateHasTime\", \"days\", \"daysContainer\", \"_input\", \"_positionElement\", \"innerContainer\", \"rContainer\", \"monthNav\", \"todayDateElem\", \"calendarContainer\", \"weekdayContainer\", \"prevMonthNav\", \"nextMonthNav\", \"currentMonthElement\", \"currentYearElement\", \"navigationCurrentMonth\", \"selectedDateElem\", \"config\"].forEach(function (k) {\n\t\t\treturn delete self[k];\n\t\t});\n\t}\n\n\tfunction isCalendarElem(elem) {\n\t\tif (self.config.appendTo && self.config.appendTo.contains(elem)) return true;\n\n\t\treturn self.calendarContainer.contains(elem);\n\t}\n\n\tfunction documentClick(e) {\n\t\tif (self.isOpen && !self.config.inline) {\n\t\t\tvar isCalendarElement = isCalendarElem(e.target);\n\t\t\tvar isInput = e.target === self.input || e.target === self.altInput || self.element.contains(e.target) ||\n\t\t\t// web components\n\t\t\te.path && e.path.indexOf && (~e.path.indexOf(self.input) || ~e.path.indexOf(self.altInput));\n\n\t\t\tvar lostFocus = e.type === \"blur\" ? isInput && e.relatedTarget && !isCalendarElem(e.relatedTarget) : !isInput && !isCalendarElement;\n\n\t\t\tif (lostFocus && self.config.ignoredFocusElements.indexOf(e.target) === -1) {\n\t\t\t\tself.close();\n\n\t\t\t\tif (self.config.mode === \"range\" && self.selectedDates.length === 1) {\n\t\t\t\t\tself.clear(false);\n\t\t\t\t\tself.redraw();\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\tfunction changeYear(newYear) {\n\t\tif (!newYear || self.currentYearElement.min && newYear < self.currentYearElement.min || self.currentYearElement.max && newYear > self.currentYearElement.max) return;\n\n\t\tvar newYearNum = parseInt(newYear, 10),\n\t\t    isNewYear = self.currentYear !== newYearNum;\n\n\t\tself.currentYear = newYearNum || self.currentYear;\n\n\t\tif (self.config.maxDate && self.currentYear === self.config.maxDate.getFullYear()) {\n\t\t\tself.currentMonth = Math.min(self.config.maxDate.getMonth(), self.currentMonth);\n\t\t} else if (self.config.minDate && self.currentYear === self.config.minDate.getFullYear()) {\n\t\t\tself.currentMonth = Math.max(self.config.minDate.getMonth(), self.currentMonth);\n\t\t}\n\n\t\tif (isNewYear) {\n\t\t\tself.redraw();\n\t\t\ttriggerEvent(\"YearChange\");\n\t\t}\n\t}\n\n\tfunction isEnabled(date, timeless) {\n\t\tif (self.config.minDate && compareDates(date, self.config.minDate, timeless !== undefined ? timeless : !self.minDateHasTime) < 0 || self.config.maxDate && compareDates(date, self.config.maxDate, timeless !== undefined ? timeless : !self.maxDateHasTime) > 0) return false;\n\n\t\tif (!self.config.enable.length && !self.config.disable.length) return true;\n\n\t\tvar dateToCheck = self.parseDate(date, null, true); // timeless\n\n\t\tvar bool = self.config.enable.length > 0,\n\t\t    array = bool ? self.config.enable : self.config.disable;\n\n\t\tfor (var i = 0, d; i < array.length; i++) {\n\t\t\td = array[i];\n\n\t\t\tif (d instanceof Function && d(dateToCheck)) // disabled by function\n\t\t\t\treturn bool;else if (d instanceof Date && d.getTime() === dateToCheck.getTime())\n\t\t\t\t// disabled by date\n\t\t\t\treturn bool;else if (typeof d === \"string\" && self.parseDate(d, null, true).getTime() === dateToCheck.getTime())\n\t\t\t\t// disabled by date string\n\t\t\t\treturn bool;else if ( // disabled by range\n\t\t\t(typeof d === \"undefined\" ? \"undefined\" : _typeof(d)) === \"object\" && d.from && d.to && dateToCheck >= d.from && dateToCheck <= d.to) return bool;\n\t\t}\n\n\t\treturn !bool;\n\t}\n\n\tfunction onKeyDown(e) {\n\t\tvar isInput = e.target === self._input;\n\t\tvar calendarElem = isCalendarElem(e.target);\n\t\tvar allowInput = self.config.allowInput;\n\t\tvar allowKeydown = self.isOpen && (!allowInput || !isInput);\n\t\tvar allowInlineKeydown = self.config.inline && isInput && !allowInput;\n\n\t\tif (e.key === \"Enter\" && allowInput && isInput) {\n\t\t\tself.setDate(self._input.value, true, e.target === self.altInput ? self.config.altFormat : self.config.dateFormat);\n\t\t\treturn e.target.blur();\n\t\t} else if (calendarElem || allowKeydown || allowInlineKeydown) {\n\t\t\tvar isTimeObj = self.timeContainer && self.timeContainer.contains(e.target);\n\t\t\tswitch (e.key) {\n\t\t\t\tcase \"Enter\":\n\t\t\t\t\tif (isTimeObj) updateValue();else selectDate(e);\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase \"Escape\":\n\t\t\t\t\t// escape\n\t\t\t\t\te.preventDefault();\n\t\t\t\t\tself.close();\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase \"ArrowLeft\":\n\t\t\t\tcase \"ArrowRight\":\n\t\t\t\t\tif (!isTimeObj) {\n\t\t\t\t\t\te.preventDefault();\n\n\t\t\t\t\t\tif (self.daysContainer) {\n\t\t\t\t\t\t\tvar _delta = e.key === \"ArrowRight\" ? 1 : -1;\n\n\t\t\t\t\t\t\tif (!e.ctrlKey) focusOnDay(e.target.$i, _delta);else changeMonth(_delta, true);\n\t\t\t\t\t\t} else if (self.config.enableTime && !isTimeObj) self.hourElement.focus();\n\t\t\t\t\t}\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase \"ArrowUp\":\n\t\t\t\tcase \"ArrowDown\":\n\t\t\t\t\te.preventDefault();\n\t\t\t\t\tvar delta = e.key === \"ArrowDown\" ? 1 : -1;\n\n\t\t\t\t\tif (self.daysContainer) {\n\t\t\t\t\t\tif (e.ctrlKey) {\n\t\t\t\t\t\t\tchangeYear(self.currentYear - delta);\n\t\t\t\t\t\t\tfocusOnDay(e.target.$i, 0);\n\t\t\t\t\t\t} else if (!isTimeObj) focusOnDay(e.target.$i, delta * 7);\n\t\t\t\t\t} else if (self.config.enableTime) {\n\t\t\t\t\t\tif (!isTimeObj) self.hourElement.focus();\n\t\t\t\t\t\tupdateTime(e);\n\t\t\t\t\t}\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase \"Tab\":\n\t\t\t\t\tif (e.target === self.hourElement) {\n\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\tself.minuteElement.select();\n\t\t\t\t\t} else if (e.target === self.minuteElement && (self.secondElement || self.amPM)) {\n\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t(self.secondElement || self.amPM).focus();\n\t\t\t\t\t} else if (e.target === self.secondElement) {\n\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\tself.amPM.focus();\n\t\t\t\t\t}\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase \"a\":\n\t\t\t\t\tif (e.target === self.amPM) {\n\t\t\t\t\t\tself.amPM.textContent = \"AM\";\n\t\t\t\t\t\tsetHoursFromInputs();\n\t\t\t\t\t\tupdateValue();\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase \"p\":\n\t\t\t\t\tif (e.target === self.amPM) {\n\t\t\t\t\t\tself.amPM.textContent = \"PM\";\n\t\t\t\t\t\tsetHoursFromInputs();\n\t\t\t\t\t\tupdateValue();\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\n\t\t\t\tdefault:\n\t\t\t\t\tbreak;\n\n\t\t\t}\n\n\t\t\ttriggerEvent(\"KeyDown\", e);\n\t\t}\n\t}\n\n\tfunction onMouseOver(elem) {\n\t\tif (self.selectedDates.length !== 1 || !elem.classList.contains(\"flatpickr-day\")) return;\n\n\t\tvar hoverDate = elem.dateObj,\n\t\t    initialDate = self.parseDate(self.selectedDates[0], null, true),\n\t\t    rangeStartDate = Math.min(hoverDate.getTime(), self.selectedDates[0].getTime()),\n\t\t    rangeEndDate = Math.max(hoverDate.getTime(), self.selectedDates[0].getTime()),\n\t\t    containsDisabled = false;\n\n\t\tfor (var t = rangeStartDate; t < rangeEndDate; t += self.utils.duration.DAY) {\n\t\t\tif (!isEnabled(new Date(t))) {\n\t\t\t\tcontainsDisabled = true;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\tvar _loop = function _loop(timestamp, i) {\n\t\t\tvar outOfRange = timestamp < self.minRangeDate.getTime() || timestamp > self.maxRangeDate.getTime(),\n\t\t\t    dayElem = self.days.childNodes[i];\n\n\t\t\tif (outOfRange) {\n\t\t\t\tself.days.childNodes[i].classList.add(\"notAllowed\");\n\t\t\t\t[\"inRange\", \"startRange\", \"endRange\"].forEach(function (c) {\n\t\t\t\t\tdayElem.classList.remove(c);\n\t\t\t\t});\n\t\t\t\treturn \"continue\";\n\t\t\t} else if (containsDisabled && !outOfRange) return \"continue\";\n\n\t\t\t[\"startRange\", \"inRange\", \"endRange\", \"notAllowed\"].forEach(function (c) {\n\t\t\t\tdayElem.classList.remove(c);\n\t\t\t});\n\n\t\t\tvar minRangeDate = Math.max(self.minRangeDate.getTime(), rangeStartDate),\n\t\t\t    maxRangeDate = Math.min(self.maxRangeDate.getTime(), rangeEndDate);\n\n\t\t\telem.classList.add(hoverDate < self.selectedDates[0] ? \"startRange\" : \"endRange\");\n\n\t\t\tif (initialDate < hoverDate && timestamp === initialDate.getTime()) dayElem.classList.add(\"startRange\");else if (initialDate > hoverDate && timestamp === initialDate.getTime()) dayElem.classList.add(\"endRange\");\n\n\t\t\tif (timestamp >= minRangeDate && timestamp <= maxRangeDate) dayElem.classList.add(\"inRange\");\n\t\t};\n\n\t\tfor (var timestamp = self.days.childNodes[0].dateObj.getTime(), i = 0; i < 42; i++, timestamp += self.utils.duration.DAY) {\n\t\t\tvar _ret = _loop(timestamp, i);\n\n\t\t\tif (_ret === \"continue\") continue;\n\t\t}\n\t}\n\n\tfunction onResize() {\n\t\tif (self.isOpen && !self.config.static && !self.config.inline) positionCalendar();\n\t}\n\n\tfunction open(e, positionElement) {\n\t\tif (self.isMobile) {\n\t\t\tif (e) {\n\t\t\t\te.preventDefault();\n\t\t\t\te.target.blur();\n\t\t\t}\n\n\t\t\tsetTimeout(function () {\n\t\t\t\tself.mobileInput.click();\n\t\t\t}, 0);\n\n\t\t\ttriggerEvent(\"Open\");\n\t\t\treturn;\n\t\t}\n\n\t\tif (self.isOpen || self._input.disabled || self.config.inline) return;\n\n\t\tself.isOpen = true;\n\t\tself.calendarContainer.classList.add(\"open\");\n\t\tpositionCalendar(positionElement);\n\t\tself._input.classList.add(\"active\");\n\n\t\ttriggerEvent(\"Open\");\n\t}\n\n\tfunction minMaxDateSetter(type) {\n\t\treturn function (date) {\n\t\t\tvar dateObj = self.config[\"_\" + type + \"Date\"] = self.parseDate(date);\n\n\t\t\tvar inverseDateObj = self.config[\"_\" + (type === \"min\" ? \"max\" : \"min\") + \"Date\"];\n\t\t\tvar isValidDate = date && dateObj instanceof Date;\n\n\t\t\tif (isValidDate) {\n\t\t\t\tself[type + \"DateHasTime\"] = dateObj.getHours() || dateObj.getMinutes() || dateObj.getSeconds();\n\t\t\t}\n\n\t\t\tif (self.selectedDates) {\n\t\t\t\tself.selectedDates = self.selectedDates.filter(function (d) {\n\t\t\t\t\treturn isEnabled(d);\n\t\t\t\t});\n\t\t\t\tif (!self.selectedDates.length && type === \"min\") setHoursFromDate(dateObj);\n\t\t\t\tupdateValue();\n\t\t\t}\n\n\t\t\tif (self.daysContainer) {\n\t\t\t\tredraw();\n\n\t\t\t\tif (isValidDate) self.currentYearElement[type] = dateObj.getFullYear();else self.currentYearElement.removeAttribute(type);\n\n\t\t\t\tself.currentYearElement.disabled = inverseDateObj && dateObj && inverseDateObj.getFullYear() === dateObj.getFullYear();\n\t\t\t}\n\t\t};\n\t}\n\n\tfunction parseConfig() {\n\t\tvar boolOpts = [\"wrap\", \"weekNumbers\", \"allowInput\", \"clickOpens\", \"time_24hr\", \"enableTime\", \"noCalendar\", \"altInput\", \"shorthandCurrentMonth\", \"inline\", \"static\", \"enableSeconds\", \"disableMobile\"];\n\n\t\tvar hooks = [\"onChange\", \"onClose\", \"onDayCreate\", \"onDestroy\", \"onKeyDown\", \"onMonthChange\", \"onOpen\", \"onParseConfig\", \"onReady\", \"onValueUpdate\", \"onYearChange\"];\n\n\t\tself.config = Object.create(flatpickr.defaultConfig);\n\n\t\tvar userConfig = _extends({}, self.instanceConfig, JSON.parse(JSON.stringify(self.element.dataset || {})));\n\n\t\tself.config.parseDate = userConfig.parseDate;\n\t\tself.config.formatDate = userConfig.formatDate;\n\n\t\tObject.defineProperty(self.config, \"enable\", {\n\t\t\tget: function get() {\n\t\t\t\treturn self.config._enable || [];\n\t\t\t},\n\t\t\tset: function set(dates) {\n\t\t\t\treturn self.config._enable = parseDateRules(dates);\n\t\t\t}\n\t\t});\n\n\t\tObject.defineProperty(self.config, \"disable\", {\n\t\t\tget: function get() {\n\t\t\t\treturn self.config._disable || [];\n\t\t\t},\n\t\t\tset: function set(dates) {\n\t\t\t\treturn self.config._disable = parseDateRules(dates);\n\t\t\t}\n\t\t});\n\n\t\t_extends(self.config, userConfig);\n\n\t\tif (!userConfig.dateFormat && userConfig.enableTime) {\n\t\t\tself.config.dateFormat = self.config.noCalendar ? \"H:i\" + (self.config.enableSeconds ? \":S\" : \"\") : flatpickr.defaultConfig.dateFormat + \" H:i\" + (self.config.enableSeconds ? \":S\" : \"\");\n\t\t}\n\n\t\tif (userConfig.altInput && userConfig.enableTime && !userConfig.altFormat) {\n\t\t\tself.config.altFormat = self.config.noCalendar ? \"h:i\" + (self.config.enableSeconds ? \":S K\" : \" K\") : flatpickr.defaultConfig.altFormat + (\" h:i\" + (self.config.enableSeconds ? \":S\" : \"\") + \" K\");\n\t\t}\n\n\t\tObject.defineProperty(self.config, \"minDate\", {\n\t\t\tget: function get() {\n\t\t\t\treturn this._minDate;\n\t\t\t},\n\t\t\tset: minMaxDateSetter(\"min\")\n\t\t});\n\n\t\tObject.defineProperty(self.config, \"maxDate\", {\n\t\t\tget: function get() {\n\t\t\t\treturn this._maxDate;\n\t\t\t},\n\t\t\tset: minMaxDateSetter(\"max\")\n\t\t});\n\n\t\tself.config.minDate = userConfig.minDate;\n\t\tself.config.maxDate = userConfig.maxDate;\n\n\t\tfor (var i = 0; i < boolOpts.length; i++) {\n\t\t\tself.config[boolOpts[i]] = self.config[boolOpts[i]] === true || self.config[boolOpts[i]] === \"true\";\n\t\t}for (var _i = hooks.length; _i--;) {\n\t\t\tif (self.config[hooks[_i]] !== undefined) {\n\t\t\t\tself.config[hooks[_i]] = arrayify(self.config[hooks[_i]] || []).map(bindToInstance);\n\t\t\t}\n\t\t}\n\n\t\tfor (var _i2 = 0; _i2 < self.config.plugins.length; _i2++) {\n\t\t\tvar pluginConf = self.config.plugins[_i2](self) || {};\n\t\t\tfor (var key in pluginConf) {\n\n\t\t\t\tif (self.config[key] instanceof Array || ~hooks.indexOf(key)) {\n\t\t\t\t\tself.config[key] = arrayify(pluginConf[key]).map(bindToInstance).concat(self.config[key]);\n\t\t\t\t} else if (typeof userConfig[key] === \"undefined\") self.config[key] = pluginConf[key];\n\t\t\t}\n\t\t}\n\n\t\ttriggerEvent(\"ParseConfig\");\n\t}\n\n\tfunction setupLocale() {\n\t\tif (_typeof(self.config.locale) !== \"object\" && typeof flatpickr.l10ns[self.config.locale] === \"undefined\") console.warn(\"flatpickr: invalid locale \" + self.config.locale);\n\n\t\tself.l10n = _extends(Object.create(flatpickr.l10ns.default), _typeof(self.config.locale) === \"object\" ? self.config.locale : self.config.locale !== \"default\" ? flatpickr.l10ns[self.config.locale] || {} : {});\n\t}\n\n\tfunction positionCalendar() {\n\t\tvar positionElement = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : self._positionElement;\n\n\t\tif (self.calendarContainer === undefined) return;\n\n\t\tvar calendarHeight = self.calendarContainer.offsetHeight,\n\t\t    calendarWidth = self.calendarContainer.offsetWidth,\n\t\t    configPos = self.config.position,\n\t\t    inputBounds = positionElement.getBoundingClientRect(),\n\t\t    distanceFromBottom = window.innerHeight - inputBounds.bottom,\n\t\t    showOnTop = configPos === \"above\" || configPos !== \"below\" && distanceFromBottom < calendarHeight && inputBounds.top > calendarHeight;\n\n\t\tvar top = window.pageYOffset + inputBounds.top + (!showOnTop ? positionElement.offsetHeight + 2 : -calendarHeight - 2);\n\n\t\ttoggleClass(self.calendarContainer, \"arrowTop\", !showOnTop);\n\t\ttoggleClass(self.calendarContainer, \"arrowBottom\", showOnTop);\n\n\t\tif (self.config.inline) return;\n\n\t\tvar left = window.pageXOffset + inputBounds.left;\n\t\tvar right = window.document.body.offsetWidth - inputBounds.right;\n\t\tvar rightMost = left + calendarWidth > window.document.body.offsetWidth;\n\n\t\ttoggleClass(self.calendarContainer, \"rightMost\", rightMost);\n\n\t\tif (self.config.static) return;\n\n\t\tself.calendarContainer.style.top = top + \"px\";\n\n\t\tif (!rightMost) {\n\t\t\tself.calendarContainer.style.left = left + \"px\";\n\t\t\tself.calendarContainer.style.right = \"auto\";\n\t\t} else {\n\t\t\tself.calendarContainer.style.left = \"auto\";\n\t\t\tself.calendarContainer.style.right = right + \"px\";\n\t\t}\n\t}\n\n\tfunction redraw() {\n\t\tif (self.config.noCalendar || self.isMobile) return;\n\n\t\tbuildWeekdays();\n\t\tupdateNavigationCurrentMonth();\n\t\tbuildDays();\n\t}\n\n\tfunction selectDate(e) {\n\t\te.preventDefault();\n\t\te.stopPropagation();\n\n\t\tif (!e.target.classList.contains(\"flatpickr-day\") || e.target.classList.contains(\"disabled\") || e.target.classList.contains(\"notAllowed\")) return;\n\n\t\tvar selectedDate = self.latestSelectedDateObj = new Date(e.target.dateObj.getTime());\n\n\t\tvar shouldChangeMonth = selectedDate.getMonth() !== self.currentMonth && self.config.mode !== \"range\";\n\n\t\tself.selectedDateElem = e.target;\n\n\t\tif (self.config.mode === \"single\") self.selectedDates = [selectedDate];else if (self.config.mode === \"multiple\") {\n\t\t\tvar selectedIndex = isDateSelected(selectedDate);\n\t\t\tif (selectedIndex) self.selectedDates.splice(selectedIndex, 1);else self.selectedDates.push(selectedDate);\n\t\t} else if (self.config.mode === \"range\") {\n\t\t\tif (self.selectedDates.length === 2) self.clear();\n\n\t\t\tself.selectedDates.push(selectedDate);\n\n\t\t\t// unless selecting same date twice, sort ascendingly\n\t\t\tif (compareDates(selectedDate, self.selectedDates[0], true) !== 0) self.selectedDates.sort(function (a, b) {\n\t\t\t\treturn a.getTime() - b.getTime();\n\t\t\t});\n\t\t}\n\n\t\tsetHoursFromInputs();\n\n\t\tif (shouldChangeMonth) {\n\t\t\tvar isNewYear = self.currentYear !== selectedDate.getFullYear();\n\t\t\tself.currentYear = selectedDate.getFullYear();\n\t\t\tself.currentMonth = selectedDate.getMonth();\n\n\t\t\tif (isNewYear) triggerEvent(\"YearChange\");\n\n\t\t\ttriggerEvent(\"MonthChange\");\n\t\t}\n\n\t\tbuildDays();\n\n\t\tif (self.minDateHasTime && self.config.enableTime && compareDates(selectedDate, self.config.minDate) === 0) setHoursFromDate(self.config.minDate);\n\n\t\tupdateValue();\n\n\t\tif (self.config.enableTime) setTimeout(function () {\n\t\t\treturn self.showTimeInput = true;\n\t\t}, 50);\n\n\t\tif (self.config.mode === \"range\") {\n\t\t\tif (self.selectedDates.length === 1) {\n\t\t\t\tonMouseOver(e.target);\n\n\t\t\t\tself._hidePrevMonthArrow = self._hidePrevMonthArrow || self.minRangeDate > self.days.childNodes[0].dateObj;\n\n\t\t\t\tself._hideNextMonthArrow = self._hideNextMonthArrow || self.maxRangeDate < new Date(self.currentYear, self.currentMonth + 1, 1);\n\t\t\t} else updateNavigationCurrentMonth();\n\t\t}\n\n\t\ttriggerEvent(\"Change\");\n\n\t\t// maintain focus\n\t\tif (!shouldChangeMonth) focusOnDay(e.target.$i, 0);else afterDayAnim(function () {\n\t\t\treturn self.selectedDateElem.focus();\n\t\t});\n\n\t\tif (self.config.enableTime) setTimeout(function () {\n\t\t\treturn self.hourElement.select();\n\t\t}, 451);\n\n\t\tif (self.config.closeOnSelect) {\n\t\t\tvar single = self.config.mode === \"single\" && !self.config.enableTime;\n\t\t\tvar range = self.config.mode === \"range\" && self.selectedDates.length === 2 && !self.config.enableTime;\n\n\t\t\tif (single || range) self.close();\n\t\t}\n\t}\n\n\tfunction set(option, value) {\n\t\tself.config[option] = value;\n\t\tself.redraw();\n\t\tjumpToDate();\n\t}\n\n\tfunction setSelectedDate(inputDate, format) {\n\t\tif (inputDate instanceof Array) self.selectedDates = inputDate.map(function (d) {\n\t\t\treturn self.parseDate(d, format);\n\t\t});else if (inputDate instanceof Date || !isNaN(inputDate)) self.selectedDates = [self.parseDate(inputDate, format)];else if (inputDate && inputDate.substring) {\n\t\t\tswitch (self.config.mode) {\n\t\t\t\tcase \"single\":\n\t\t\t\t\tself.selectedDates = [self.parseDate(inputDate, format)];\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase \"multiple\":\n\t\t\t\t\tself.selectedDates = inputDate.split(\"; \").map(function (date) {\n\t\t\t\t\t\treturn self.parseDate(date, format);\n\t\t\t\t\t});\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase \"range\":\n\t\t\t\t\tself.selectedDates = inputDate.split(self.l10n.rangeSeparator).map(function (date) {\n\t\t\t\t\t\treturn self.parseDate(date, format);\n\t\t\t\t\t});\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tdefault:\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\tself.selectedDates = self.selectedDates.filter(function (d) {\n\t\t\treturn d instanceof Date && isEnabled(d, false);\n\t\t});\n\n\t\tself.selectedDates.sort(function (a, b) {\n\t\t\treturn a.getTime() - b.getTime();\n\t\t});\n\t}\n\n\tfunction setDate(date, triggerChange, format) {\n\t\tif (date !== 0 && !date) return self.clear(triggerChange);\n\n\t\tsetSelectedDate(date, format);\n\n\t\tself.showTimeInput = self.selectedDates.length > 0;\n\t\tself.latestSelectedDateObj = self.selectedDates[0];\n\n\t\tself.redraw();\n\t\tjumpToDate();\n\n\t\tsetHoursFromDate();\n\t\tupdateValue(triggerChange);\n\n\t\tif (triggerChange) triggerEvent(\"Change\");\n\t}\n\n\tfunction parseDateRules(arr) {\n\t\tfor (var i = arr.length; i--;) {\n\t\t\tif (typeof arr[i] === \"string\" || +arr[i]) arr[i] = self.parseDate(arr[i], null, true);else if (arr[i] && arr[i].from && arr[i].to) {\n\t\t\t\tarr[i].from = self.parseDate(arr[i].from);\n\t\t\t\tarr[i].to = self.parseDate(arr[i].to);\n\t\t\t}\n\t\t}\n\n\t\treturn arr.filter(function (x) {\n\t\t\treturn x;\n\t\t}); // remove falsy values\n\t}\n\n\tfunction setupDates() {\n\t\tself.selectedDates = [];\n\t\tself.now = new Date();\n\n\t\tvar preloadedDate = self.config.defaultDate || self.input.value;\n\t\tif (preloadedDate) setSelectedDate(preloadedDate, self.config.dateFormat);\n\n\t\tvar initialDate = self.selectedDates.length ? self.selectedDates[0] : self.config.minDate && self.config.minDate.getTime() > self.now ? self.config.minDate : self.config.maxDate && self.config.maxDate.getTime() < self.now ? self.config.maxDate : self.now;\n\n\t\tself.currentYear = initialDate.getFullYear();\n\t\tself.currentMonth = initialDate.getMonth();\n\n\t\tif (self.selectedDates.length) self.latestSelectedDateObj = self.selectedDates[0];\n\n\t\tself.minDateHasTime = self.config.minDate && (self.config.minDate.getHours() || self.config.minDate.getMinutes() || self.config.minDate.getSeconds());\n\n\t\tself.maxDateHasTime = self.config.maxDate && (self.config.maxDate.getHours() || self.config.maxDate.getMinutes() || self.config.maxDate.getSeconds());\n\n\t\tObject.defineProperty(self, \"latestSelectedDateObj\", {\n\t\t\tget: function get() {\n\t\t\t\treturn self._selectedDateObj || self.selectedDates[self.selectedDates.length - 1];\n\t\t\t},\n\t\t\tset: function set(date) {\n\t\t\t\tself._selectedDateObj = date;\n\t\t\t}\n\t\t});\n\n\t\tif (!self.isMobile) {\n\t\t\tObject.defineProperty(self, \"showTimeInput\", {\n\t\t\t\tget: function get() {\n\t\t\t\t\treturn self._showTimeInput;\n\t\t\t\t},\n\t\t\t\tset: function set(bool) {\n\t\t\t\t\tself._showTimeInput = bool;\n\t\t\t\t\tif (self.calendarContainer) toggleClass(self.calendarContainer, \"showTimeInput\", bool);\n\t\t\t\t\tpositionCalendar();\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t}\n\n\tfunction setupHelperFunctions() {\n\t\tself.utils = {\n\t\t\tduration: {\n\t\t\t\tDAY: 86400000\n\t\t\t},\n\t\t\tgetDaysinMonth: function getDaysinMonth(month, yr) {\n\t\t\t\tmonth = typeof month === \"undefined\" ? self.currentMonth : month;\n\n\t\t\t\tyr = typeof yr === \"undefined\" ? self.currentYear : yr;\n\n\t\t\t\tif (month === 1 && (yr % 4 === 0 && yr % 100 !== 0 || yr % 400 === 0)) return 29;\n\n\t\t\t\treturn self.l10n.daysInMonth[month];\n\t\t\t},\n\t\t\tmonthToStr: function monthToStr(monthNumber, shorthand) {\n\t\t\t\tshorthand = typeof shorthand === \"undefined\" ? self.config.shorthandCurrentMonth : shorthand;\n\n\t\t\t\treturn self.l10n.months[(shorthand ? \"short\" : \"long\") + \"hand\"][monthNumber];\n\t\t\t}\n\t\t};\n\t}\n\n\t/* istanbul ignore next */\n\tfunction setupFormats() {\n\t\tself.formats = Object.create(FlatpickrInstance.prototype.formats);\n\t\t[\"D\", \"F\", \"J\", \"M\", \"W\", \"l\"].forEach(function (f) {\n\t\t\tself.formats[f] = FlatpickrInstance.prototype.formats[f].bind(self);\n\t\t});\n\n\t\tself.revFormat.F = FlatpickrInstance.prototype.revFormat.F.bind(self);\n\t\tself.revFormat.M = FlatpickrInstance.prototype.revFormat.M.bind(self);\n\t}\n\n\tfunction setupInputs() {\n\t\tself.input = self.config.wrap ? self.element.querySelector(\"[data-input]\") : self.element;\n\n\t\t/* istanbul ignore next */\n\t\tif (!self.input) return console.warn(\"Error: invalid input element specified\", self.input);\n\n\t\tself.input._type = self.input.type;\n\t\tself.input.type = \"text\";\n\n\t\tself.input.classList.add(\"flatpickr-input\");\n\t\tself._input = self.input;\n\n\t\tif (self.config.altInput) {\n\t\t\t// replicate self.element\n\t\t\tself.altInput = createElement(self.input.nodeName, self.input.className + \" \" + self.config.altInputClass);\n\t\t\tself._input = self.altInput;\n\t\t\tself.altInput.placeholder = self.input.placeholder;\n\t\t\tself.altInput.disabled = self.input.disabled;\n\t\t\tself.altInput.required = self.input.required;\n\t\t\tself.altInput.type = \"text\";\n\t\t\tself.input.type = \"hidden\";\n\n\t\t\tif (!self.config.static && self.input.parentNode) self.input.parentNode.insertBefore(self.altInput, self.input.nextSibling);\n\t\t}\n\n\t\tif (!self.config.allowInput) self._input.setAttribute(\"readonly\", \"readonly\");\n\n\t\tself._positionElement = self.config.positionElement || self._input;\n\t}\n\n\tfunction setupMobile() {\n\t\tvar inputType = self.config.enableTime ? self.config.noCalendar ? \"time\" : \"datetime-local\" : \"date\";\n\n\t\tself.mobileInput = createElement(\"input\", self.input.className + \" flatpickr-mobile\");\n\t\tself.mobileInput.step = \"any\";\n\t\tself.mobileInput.tabIndex = 1;\n\t\tself.mobileInput.type = inputType;\n\t\tself.mobileInput.disabled = self.input.disabled;\n\t\tself.mobileInput.placeholder = self.input.placeholder;\n\n\t\tself.mobileFormatStr = inputType === \"datetime-local\" ? \"Y-m-d\\\\TH:i:S\" : inputType === \"date\" ? \"Y-m-d\" : \"H:i:S\";\n\n\t\tif (self.selectedDates.length) {\n\t\t\tself.mobileInput.defaultValue = self.mobileInput.value = self.formatDate(self.selectedDates[0], self.mobileFormatStr);\n\t\t}\n\n\t\tif (self.config.minDate) self.mobileInput.min = self.formatDate(self.config.minDate, \"Y-m-d\");\n\n\t\tif (self.config.maxDate) self.mobileInput.max = self.formatDate(self.config.maxDate, \"Y-m-d\");\n\n\t\tself.input.type = \"hidden\";\n\t\tif (self.config.altInput) self.altInput.type = \"hidden\";\n\n\t\ttry {\n\t\t\tself.input.parentNode.insertBefore(self.mobileInput, self.input.nextSibling);\n\t\t} catch (e) {\n\t\t\t//\n\t\t}\n\n\t\tself.mobileInput.addEventListener(\"change\", function (e) {\n\t\t\tself.setDate(e.target.value, false, self.mobileFormatStr);\n\t\t\ttriggerEvent(\"Change\");\n\t\t\ttriggerEvent(\"Close\");\n\t\t});\n\t}\n\n\tfunction toggle() {\n\t\tif (self.isOpen) return self.close();\n\t\tself.open();\n\t}\n\n\tfunction triggerEvent(event, data) {\n\t\tvar hooks = self.config[\"on\" + event];\n\n\t\tif (hooks !== undefined && hooks.length > 0) {\n\t\t\tfor (var i = 0; hooks[i] && i < hooks.length; i++) {\n\t\t\t\thooks[i](self.selectedDates, self.input.value, self, data);\n\t\t\t}\n\t\t}\n\n\t\tif (event === \"Change\") {\n\t\t\tself.input.dispatchEvent(createEvent(\"change\"));\n\n\t\t\t// many front-end frameworks bind to the input event\n\t\t\tself.input.dispatchEvent(createEvent(\"input\"));\n\t\t}\n\t}\n\n\t/**\n  * Creates an Event, normalized across browsers\n  * @param {String} name the event name, e.g. \"click\"\n  * @return {Event} the created event\n  */\n\tfunction createEvent(name) {\n\t\tif (self._supportsEvents) return new Event(name, { bubbles: true });\n\n\t\tself._[name + \"Event\"] = document.createEvent(\"Event\");\n\t\tself._[name + \"Event\"].initEvent(name, true, true);\n\t\treturn self._[name + \"Event\"];\n\t}\n\n\tfunction isDateSelected(date) {\n\t\tfor (var i = 0; i < self.selectedDates.length; i++) {\n\t\t\tif (compareDates(self.selectedDates[i], date) === 0) return \"\" + i;\n\t\t}\n\n\t\treturn false;\n\t}\n\n\tfunction isDateInRange(date) {\n\t\tif (self.config.mode !== \"range\" || self.selectedDates.length < 2) return false;\n\t\treturn compareDates(date, self.selectedDates[0]) >= 0 && compareDates(date, self.selectedDates[1]) <= 0;\n\t}\n\n\tfunction updateNavigationCurrentMonth() {\n\t\tif (self.config.noCalendar || self.isMobile || !self.monthNav) return;\n\n\t\tself.currentMonthElement.textContent = self.utils.monthToStr(self.currentMonth) + \" \";\n\t\tself.currentYearElement.value = self.currentYear;\n\n\t\tself._hidePrevMonthArrow = self.config.minDate && (self.currentYear === self.config.minDate.getFullYear() ? self.currentMonth <= self.config.minDate.getMonth() : self.currentYear < self.config.minDate.getFullYear());\n\n\t\tself._hideNextMonthArrow = self.config.maxDate && (self.currentYear === self.config.maxDate.getFullYear() ? self.currentMonth + 1 > self.config.maxDate.getMonth() : self.currentYear > self.config.maxDate.getFullYear());\n\t}\n\n\t/**\n  * Updates the values of inputs associated with the calendar\n  * @return {void}\n  */\n\tfunction updateValue(triggerChange) {\n\t\tif (!self.selectedDates.length) return self.clear(triggerChange);\n\n\t\tif (self.isMobile) {\n\t\t\tself.mobileInput.value = self.selectedDates.length ? self.formatDate(self.latestSelectedDateObj, self.mobileFormatStr) : \"\";\n\t\t}\n\n\t\tvar joinChar = self.config.mode !== \"range\" ? \"; \" : self.l10n.rangeSeparator;\n\n\t\tself.input.value = self.selectedDates.map(function (dObj) {\n\t\t\treturn self.formatDate(dObj, self.config.dateFormat);\n\t\t}).join(joinChar);\n\n\t\tif (self.config.altInput) {\n\t\t\tself.altInput.value = self.selectedDates.map(function (dObj) {\n\t\t\t\treturn self.formatDate(dObj, self.config.altFormat);\n\t\t\t}).join(joinChar);\n\t\t}\n\n\t\tif (triggerChange !== false) triggerEvent(\"ValueUpdate\");\n\t}\n\n\tfunction mouseDelta(e) {\n\t\treturn Math.max(-1, Math.min(1, e.wheelDelta || -e.deltaY));\n\t}\n\n\tfunction onMonthNavScroll(e) {\n\t\te.preventDefault();\n\t\tvar isYear = self.currentYearElement.parentNode.contains(e.target);\n\n\t\tif (e.target === self.currentMonthElement || isYear) {\n\n\t\t\tvar delta = mouseDelta(e);\n\n\t\t\tif (isYear) {\n\t\t\t\tchangeYear(self.currentYear + delta);\n\t\t\t\te.target.value = self.currentYear;\n\t\t\t} else self.changeMonth(delta, true, false);\n\t\t}\n\t}\n\n\tfunction onMonthNavClick(e) {\n\t\tvar isPrevMonth = self.prevMonthNav.contains(e.target);\n\t\tvar isNextMonth = self.nextMonthNav.contains(e.target);\n\n\t\tif (isPrevMonth || isNextMonth) changeMonth(isPrevMonth ? -1 : 1);else if (e.target === self.currentYearElement) {\n\t\t\te.preventDefault();\n\t\t\tself.currentYearElement.select();\n\t\t} else if (e.target.className === \"arrowUp\") self.changeYear(self.currentYear + 1);else if (e.target.className === \"arrowDown\") self.changeYear(self.currentYear - 1);\n\t}\n\n\t/**\n  * Creates an HTMLElement with given tag, class, and textual content\n  * @param {String} tag the HTML tag\n  * @param {String} className the new element's class name\n  * @param {String} content The new element's text content\n  * @return {HTMLElement} the created HTML element\n  */\n\tfunction createElement(tag, className, content) {\n\t\tvar e = window.document.createElement(tag);\n\t\tclassName = className || \"\";\n\t\tcontent = content || \"\";\n\n\t\te.className = className;\n\n\t\tif (content !== undefined) e.textContent = content;\n\n\t\treturn e;\n\t}\n\n\tfunction arrayify(obj) {\n\t\tif (obj instanceof Array) return obj;\n\t\treturn [obj];\n\t}\n\n\tfunction toggleClass(elem, className, bool) {\n\t\tif (bool) return elem.classList.add(className);\n\t\telem.classList.remove(className);\n\t}\n\n\t/* istanbul ignore next */\n\tfunction debounce(func, wait, immediate) {\n\t\tvar timeout = void 0;\n\t\treturn function () {\n\t\t\tvar context = this,\n\t\t\t    args = arguments;\n\t\t\tclearTimeout(timeout);\n\t\t\ttimeout = setTimeout(function () {\n\t\t\t\ttimeout = null;\n\t\t\t\tif (!immediate) func.apply(context, args);\n\t\t\t}, wait);\n\t\t\tif (immediate && !timeout) func.apply(context, args);\n\t\t};\n\t}\n\n\t/**\n  * Compute the difference in dates, measured in ms\n  * @param {Date} date1\n  * @param {Date} date2\n  * @param {Boolean} timeless whether to reset times of both dates to 00:00\n  * @return {Number} the difference in ms\n  */\n\tfunction compareDates(date1, date2, timeless) {\n\t\tif (!(date1 instanceof Date) || !(date2 instanceof Date)) return false;\n\n\t\tif (timeless !== false) {\n\t\t\treturn new Date(date1.getTime()).setHours(0, 0, 0, 0) - new Date(date2.getTime()).setHours(0, 0, 0, 0);\n\t\t}\n\n\t\treturn date1.getTime() - date2.getTime();\n\t}\n\n\tfunction timeWrapper(e) {\n\t\te.preventDefault();\n\n\t\tvar isKeyDown = e.type === \"keydown\",\n\t\t    isWheel = e.type === \"wheel\",\n\t\t    isIncrement = e.type === \"increment\",\n\t\t    input = e.target;\n\n\t\tif (self.amPM && e.target === self.amPM) return e.target.textContent = [\"AM\", \"PM\"][e.target.textContent === \"AM\" | 0];\n\n\t\tvar min = Number(input.min),\n\t\t    max = Number(input.max),\n\t\t    step = Number(input.step),\n\t\t    curValue = parseInt(input.value, 10),\n\t\t    delta = e.delta || (!isKeyDown ? Math.max(-1, Math.min(1, e.wheelDelta || -e.deltaY)) || 0 : e.which === 38 ? 1 : -1);\n\n\t\tvar newValue = curValue + step * delta;\n\n\t\tif (typeof input.value !== \"undefined\" && input.value.length === 2) {\n\t\t\tvar isHourElem = input === self.hourElement,\n\t\t\t    isMinuteElem = input === self.minuteElement;\n\n\t\t\tif (newValue < min) {\n\t\t\t\tnewValue = max + newValue + !isHourElem + (isHourElem && !self.amPM);\n\n\t\t\t\tif (isMinuteElem) incrementNumInput(null, -1, self.hourElement);\n\t\t\t} else if (newValue > max) {\n\t\t\t\tnewValue = input === self.hourElement ? newValue - max - !self.amPM : min;\n\n\t\t\t\tif (isMinuteElem) incrementNumInput(null, 1, self.hourElement);\n\t\t\t}\n\n\t\t\tif (self.amPM && isHourElem && (step === 1 ? newValue + curValue === 23 : Math.abs(newValue - curValue) > step)) self.amPM.textContent = self.amPM.textContent === \"PM\" ? \"AM\" : \"PM\";\n\n\t\t\tinput.value = self.pad(newValue);\n\t\t}\n\t}\n\n\tinit();\n\treturn self;\n}\n\nFlatpickrInstance.prototype = {\n\tformats: {\n\t\t// get the date in UTC\n\t\tZ: function Z(date) {\n\t\t\treturn date.toISOString();\n\t\t},\n\n\t\t// weekday name, short, e.g. Thu\n\t\tD: function D(date) {\n\t\t\treturn this.l10n.weekdays.shorthand[this.formats.w(date)];\n\t\t},\n\n\t\t// full month name e.g. January\n\t\tF: function F(date) {\n\t\t\treturn this.utils.monthToStr(this.formats.n(date) - 1, false);\n\t\t},\n\n\t\t// padded hour 1-12\n\t\tG: function G(date) {\n\t\t\treturn FlatpickrInstance.prototype.pad(FlatpickrInstance.prototype.formats.h(date));\n\t\t},\n\n\t\t// hours with leading zero e.g. 03\n\t\tH: function H(date) {\n\t\t\treturn FlatpickrInstance.prototype.pad(date.getHours());\n\t\t},\n\n\t\t// day (1-30) with ordinal suffix e.g. 1st, 2nd\n\t\tJ: function J(date) {\n\t\t\treturn date.getDate() + this.l10n.ordinal(date.getDate());\n\t\t},\n\n\t\t// AM/PM\n\t\tK: function K(date) {\n\t\t\treturn date.getHours() > 11 ? \"PM\" : \"AM\";\n\t\t},\n\n\t\t// shorthand month e.g. Jan, Sep, Oct, etc\n\t\tM: function M(date) {\n\t\t\treturn this.utils.monthToStr(date.getMonth(), true);\n\t\t},\n\n\t\t// seconds 00-59\n\t\tS: function S(date) {\n\t\t\treturn FlatpickrInstance.prototype.pad(date.getSeconds());\n\t\t},\n\n\t\t// unix timestamp\n\t\tU: function U(date) {\n\t\t\treturn date.getTime() / 1000;\n\t\t},\n\n\t\tW: function W(date) {\n\t\t\treturn this.config.getWeek(date);\n\t\t},\n\n\t\t// full year e.g. 2016\n\t\tY: function Y(date) {\n\t\t\treturn date.getFullYear();\n\t\t},\n\n\t\t// day in month, padded (01-30)\n\t\td: function d(date) {\n\t\t\treturn FlatpickrInstance.prototype.pad(date.getDate());\n\t\t},\n\n\t\t// hour from 1-12 (am/pm)\n\t\th: function h(date) {\n\t\t\treturn date.getHours() % 12 ? date.getHours() % 12 : 12;\n\t\t},\n\n\t\t// minutes, padded with leading zero e.g. 09\n\t\ti: function i(date) {\n\t\t\treturn FlatpickrInstance.prototype.pad(date.getMinutes());\n\t\t},\n\n\t\t// day in month (1-30)\n\t\tj: function j(date) {\n\t\t\treturn date.getDate();\n\t\t},\n\n\t\t// weekday name, full, e.g. Thursday\n\t\tl: function l(date) {\n\t\t\treturn this.l10n.weekdays.longhand[date.getDay()];\n\t\t},\n\n\t\t// padded month number (01-12)\n\t\tm: function m(date) {\n\t\t\treturn FlatpickrInstance.prototype.pad(date.getMonth() + 1);\n\t\t},\n\n\t\t// the month number (1-12)\n\t\tn: function n(date) {\n\t\t\treturn date.getMonth() + 1;\n\t\t},\n\n\t\t// seconds 0-59\n\t\ts: function s(date) {\n\t\t\treturn date.getSeconds();\n\t\t},\n\n\t\t// number of the day of the week\n\t\tw: function w(date) {\n\t\t\treturn date.getDay();\n\t\t},\n\n\t\t// last two digits of year e.g. 16 for 2016\n\t\ty: function y(date) {\n\t\t\treturn String(date.getFullYear()).substring(2);\n\t\t}\n\t},\n\n\t/**\n  * Formats a given Date object into a string based on supplied format\n  * @param {Date} dateObj the date object\n  * @param {String} frmt a string composed of formatting tokens e.g. \"Y-m-d\"\n  * @return {String} The textual representation of the date e.g. 2017-02-03\n  */\n\tformatDate: function formatDate(dateObj, frmt) {\n\t\tvar _this = this;\n\n\t\tif (this.config !== undefined && this.config.formatDate !== undefined) return this.config.formatDate(dateObj, frmt);\n\n\t\treturn frmt.split(\"\").map(function (c, i, arr) {\n\t\t\treturn _this.formats[c] && arr[i - 1] !== \"\\\\\" ? _this.formats[c](dateObj) : c !== \"\\\\\" ? c : \"\";\n\t\t}).join(\"\");\n\t},\n\n\n\trevFormat: {\n\t\tD: function D() {},\n\t\tF: function F(dateObj, monthName) {\n\t\t\tdateObj.setMonth(this.l10n.months.longhand.indexOf(monthName));\n\t\t},\n\t\tG: function G(dateObj, hour) {\n\t\t\tdateObj.setHours(parseFloat(hour));\n\t\t},\n\t\tH: function H(dateObj, hour) {\n\t\t\tdateObj.setHours(parseFloat(hour));\n\t\t},\n\t\tJ: function J(dateObj, day) {\n\t\t\tdateObj.setDate(parseFloat(day));\n\t\t},\n\t\tK: function K(dateObj, amPM) {\n\t\t\tvar hours = dateObj.getHours();\n\n\t\t\tif (hours !== 12) dateObj.setHours(hours % 12 + 12 * /pm/i.test(amPM));\n\t\t},\n\t\tM: function M(dateObj, shortMonth) {\n\t\t\tdateObj.setMonth(this.l10n.months.shorthand.indexOf(shortMonth));\n\t\t},\n\t\tS: function S(dateObj, seconds) {\n\t\t\tdateObj.setSeconds(seconds);\n\t\t},\n\t\tU: function U(dateObj, unixSeconds) {\n\t\t\treturn new Date(parseFloat(unixSeconds) * 1000);\n\t\t},\n\n\t\tW: function W(dateObj, weekNumber) {\n\t\t\tweekNumber = parseInt(weekNumber);\n\t\t\treturn new Date(dateObj.getFullYear(), 0, 2 + (weekNumber - 1) * 7, 0, 0, 0, 0, 0);\n\t\t},\n\t\tY: function Y(dateObj, year) {\n\t\t\tdateObj.setFullYear(year);\n\t\t},\n\t\tZ: function Z(dateObj, ISODate) {\n\t\t\treturn new Date(ISODate);\n\t\t},\n\n\t\td: function d(dateObj, day) {\n\t\t\tdateObj.setDate(parseFloat(day));\n\t\t},\n\t\th: function h(dateObj, hour) {\n\t\t\tdateObj.setHours(parseFloat(hour));\n\t\t},\n\t\ti: function i(dateObj, minutes) {\n\t\t\tdateObj.setMinutes(parseFloat(minutes));\n\t\t},\n\t\tj: function j(dateObj, day) {\n\t\t\tdateObj.setDate(parseFloat(day));\n\t\t},\n\t\tl: function l() {},\n\t\tm: function m(dateObj, month) {\n\t\t\tdateObj.setMonth(parseFloat(month) - 1);\n\t\t},\n\t\tn: function n(dateObj, month) {\n\t\t\tdateObj.setMonth(parseFloat(month) - 1);\n\t\t},\n\t\ts: function s(dateObj, seconds) {\n\t\t\tdateObj.setSeconds(parseFloat(seconds));\n\t\t},\n\t\tw: function w() {},\n\t\ty: function y(dateObj, year) {\n\t\t\tdateObj.setFullYear(2000 + parseFloat(year));\n\t\t}\n\t},\n\n\ttokenRegex: {\n\t\tD: \"(\\\\w+)\",\n\t\tF: \"(\\\\w+)\",\n\t\tG: \"(\\\\d\\\\d|\\\\d)\",\n\t\tH: \"(\\\\d\\\\d|\\\\d)\",\n\t\tJ: \"(\\\\d\\\\d|\\\\d)\\\\w+\",\n\t\tK: \"(am|AM|Am|aM|pm|PM|Pm|pM)\",\n\t\tM: \"(\\\\w+)\",\n\t\tS: \"(\\\\d\\\\d|\\\\d)\",\n\t\tU: \"(.+)\",\n\t\tW: \"(\\\\d\\\\d|\\\\d)\",\n\t\tY: \"(\\\\d{4})\",\n\t\tZ: \"(.+)\",\n\t\td: \"(\\\\d\\\\d|\\\\d)\",\n\t\th: \"(\\\\d\\\\d|\\\\d)\",\n\t\ti: \"(\\\\d\\\\d|\\\\d)\",\n\t\tj: \"(\\\\d\\\\d|\\\\d)\",\n\t\tl: \"(\\\\w+)\",\n\t\tm: \"(\\\\d\\\\d|\\\\d)\",\n\t\tn: \"(\\\\d\\\\d|\\\\d)\",\n\t\ts: \"(\\\\d\\\\d|\\\\d)\",\n\t\tw: \"(\\\\d\\\\d|\\\\d)\",\n\t\ty: \"(\\\\d{2})\"\n\t},\n\n\tpad: function pad(number) {\n\t\treturn (\"0\" + number).slice(-2);\n\t},\n\n\t/**\n  * Parses a date(+time) string into a Date object\n  * @param {String} date the date string, e.g. 2017-02-03 14:45\n  * @param {String} givenFormat the date format, e.g. Y-m-d H:i\n  * @param {Boolean} timeless whether to reset the time of Date object\n  * @return {Date} the parsed Date object\n  */\n\tparseDate: function parseDate(date, givenFormat, timeless) {\n\t\tif (date !== 0 && !date) return null;\n\n\t\tvar date_orig = date;\n\n\t\tif (date instanceof Date) date = new Date(date.getTime()); // create a copy\n\n\t\telse if (date.toFixed !== undefined) // timestamp\n\t\t\t\tdate = new Date(date);else {\n\t\t\t\t// date string\n\t\t\t\tvar format = givenFormat || (this.config || flatpickr.defaultConfig).dateFormat;\n\t\t\t\tdate = String(date).trim();\n\n\t\t\t\tif (date === \"today\") {\n\t\t\t\t\tdate = new Date();\n\t\t\t\t\ttimeless = true;\n\t\t\t\t} else if (/Z$/.test(date) || /GMT$/.test(date)) // datestrings w/ timezone\n\t\t\t\t\tdate = new Date(date);else if (this.config && this.config.parseDate) date = this.config.parseDate(date, format);else {\n\t\t\t\t\tvar parsedDate = !this.config || !this.config.noCalendar ? new Date(new Date().getFullYear(), 0, 1, 0, 0, 0, 0) : new Date(new Date().setHours(0, 0, 0, 0));\n\n\t\t\t\t\tvar matched = void 0;\n\n\t\t\t\t\tfor (var i = 0, matchIndex = 0, regexStr = \"\"; i < format.length; i++) {\n\t\t\t\t\t\tvar token = format[i];\n\t\t\t\t\t\tvar isBackSlash = token === \"\\\\\";\n\t\t\t\t\t\tvar escaped = format[i - 1] === \"\\\\\" || isBackSlash;\n\n\t\t\t\t\t\tif (this.tokenRegex[token] && !escaped) {\n\t\t\t\t\t\t\tregexStr += this.tokenRegex[token];\n\t\t\t\t\t\t\tvar match = new RegExp(regexStr).exec(date);\n\t\t\t\t\t\t\tif (match && (matched = true)) {\n\t\t\t\t\t\t\t\tparsedDate = this.revFormat[token](parsedDate, match[++matchIndex]) || parsedDate;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else if (!isBackSlash) regexStr += \".\"; // don't really care\n\t\t\t\t\t}\n\n\t\t\t\t\tdate = matched ? parsedDate : null;\n\t\t\t\t}\n\t\t\t}\n\n\t\t/* istanbul ignore next */\n\t\tif (!(date instanceof Date)) {\n\t\t\tconsole.warn(\"flatpickr: invalid date \" + date_orig);\n\t\t\tconsole.info(this.element);\n\t\t\treturn null;\n\t\t}\n\n\t\tif (timeless === true) date.setHours(0, 0, 0, 0);\n\n\t\treturn date;\n\t}\n};\n\n/* istanbul ignore next */\nfunction _flatpickr(nodeList, config) {\n\tvar nodes = Array.prototype.slice.call(nodeList); // static list\n\tvar instances = [];\n\tfor (var i = 0; i < nodes.length; i++) {\n\t\ttry {\n\t\t\tif (nodes[i].getAttribute(\"data-fp-omit\") !== null) continue;\n\n\t\t\tif (nodes[i]._flatpickr) {\n\t\t\t\tnodes[i]._flatpickr.destroy();\n\t\t\t\tnodes[i]._flatpickr = null;\n\t\t\t}\n\n\t\t\tnodes[i]._flatpickr = new FlatpickrInstance(nodes[i], config || {});\n\t\t\tinstances.push(nodes[i]._flatpickr);\n\t\t} catch (e) {\n\t\t\tconsole.warn(e, e.stack);\n\t\t}\n\t}\n\n\treturn instances.length === 1 ? instances[0] : instances;\n}\n\n/* istanbul ignore next */\nif (typeof HTMLElement !== \"undefined\") {\n\t// browser env\n\tHTMLCollection.prototype.flatpickr = NodeList.prototype.flatpickr = function (config) {\n\t\treturn _flatpickr(this, config);\n\t};\n\n\tHTMLElement.prototype.flatpickr = function (config) {\n\t\treturn _flatpickr([this], config);\n\t};\n}\n\n/* istanbul ignore next */\nfunction flatpickr(selector, config) {\n\tif (selector instanceof NodeList) return _flatpickr(selector, config);else if (!(selector instanceof HTMLElement)) return _flatpickr(window.document.querySelectorAll(selector), config);\n\n\treturn _flatpickr([selector], config);\n}\n\n/* istanbul ignore next */\nflatpickr.defaultConfig = FlatpickrInstance.defaultConfig = {\n\tmode: \"single\",\n\n\tposition: \"auto\",\n\n\tanimate: window.navigator.userAgent.indexOf(\"MSIE\") === -1,\n\n\t// wrap: see https://chmln.github.io/flatpickr/examples/#flatpickr-external-elements\n\twrap: false,\n\n\t// enables week numbers\n\tweekNumbers: false,\n\n\t// allow manual datetime input\n\tallowInput: false,\n\n\t/*\n \tclicking on input opens the date(time)picker.\n \tdisable if you wish to open the calendar manually with .open()\n */\n\tclickOpens: true,\n\n\t/*\n \tcloses calendar after date selection,\n \tunless 'mode' is 'multiple' or enableTime is true\n */\n\tcloseOnSelect: true,\n\n\t// display time picker in 24 hour mode\n\ttime_24hr: false,\n\n\t// enables the time picker functionality\n\tenableTime: false,\n\n\t// noCalendar: true will hide the calendar. use for a time picker along w/ enableTime\n\tnoCalendar: false,\n\n\t// more date format chars at https://chmln.github.io/flatpickr/#dateformat\n\tdateFormat: \"Y-m-d\",\n\n\t// date format used in aria-label for days\n\tariaDateFormat: \"F j, Y\",\n\n\t// altInput - see https://chmln.github.io/flatpickr/#altinput\n\taltInput: false,\n\n\t// the created altInput element will have this class.\n\taltInputClass: \"form-control input\",\n\n\t// same as dateFormat, but for altInput\n\taltFormat: \"F j, Y\", // defaults to e.g. June 10, 2016\n\n\t// defaultDate - either a datestring or a date object. used for datetimepicker\"s initial value\n\tdefaultDate: null,\n\n\t// the minimum date that user can pick (inclusive)\n\tminDate: null,\n\n\t// the maximum date that user can pick (inclusive)\n\tmaxDate: null,\n\n\t// dateparser that transforms a given string to a date object\n\tparseDate: null,\n\n\t// dateformatter that transforms a given date object to a string, according to passed format\n\tformatDate: null,\n\n\tgetWeek: function getWeek(givenDate) {\n\t\tvar date = new Date(givenDate.getTime());\n\t\tvar onejan = new Date(date.getFullYear(), 0, 1);\n\t\treturn Math.ceil(((date - onejan) / 86400000 + onejan.getDay() + 1) / 7);\n\t},\n\n\n\t// see https://chmln.github.io/flatpickr/#disable\n\tenable: [],\n\n\t// see https://chmln.github.io/flatpickr/#disable\n\tdisable: [],\n\n\t// display the short version of month names - e.g. Sep instead of September\n\tshorthandCurrentMonth: false,\n\n\t// displays calendar inline. see https://chmln.github.io/flatpickr/#inline-calendar\n\tinline: false,\n\n\t// position calendar inside wrapper and next to the input element\n\t// leave at false unless you know what you\"re doing\n\t\"static\": false,\n\n\t// DOM node to append the calendar to in *static* mode\n\tappendTo: null,\n\n\t// code for previous/next icons. this is where you put your custom icon code e.g. fontawesome\n\tprevArrow: \"<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 17 17'><g></g><path d='M5.207 8.471l7.146 7.147-0.707 0.707-7.853-7.854 7.854-7.853 0.707 0.707-7.147 7.146z' /></svg>\",\n\tnextArrow: \"<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 17 17'><g></g><path d='M13.207 8.472l-7.854 7.854-0.707-0.707 7.146-7.146-7.146-7.148 0.707-0.707 7.854 7.854z' /></svg>\",\n\n\t// enables seconds in the time picker\n\tenableSeconds: false,\n\n\t// step size used when scrolling/incrementing the hour element\n\thourIncrement: 1,\n\n\t// step size used when scrolling/incrementing the minute element\n\tminuteIncrement: 5,\n\n\t// initial value in the hour element\n\tdefaultHour: 12,\n\n\t// initial value in the minute element\n\tdefaultMinute: 0,\n\n\t// disable native mobile datetime input support\n\tdisableMobile: false,\n\n\t// default locale\n\tlocale: \"default\",\n\n\tplugins: [],\n\n\tignoredFocusElements: [],\n\n\t// called every time calendar is closed\n\tonClose: undefined, // function (dateObj, dateStr) {}\n\n\t// onChange callback when user selects a date or time\n\tonChange: undefined, // function (dateObj, dateStr) {}\n\n\t// called for every day element\n\tonDayCreate: undefined,\n\n\t// called every time the month is changed\n\tonMonthChange: undefined,\n\n\t// called every time calendar is opened\n\tonOpen: undefined, // function (dateObj, dateStr) {}\n\n\t// called after the configuration has been parsed\n\tonParseConfig: undefined,\n\n\t// called after calendar is ready\n\tonReady: undefined, // function (dateObj, dateStr) {}\n\n\t// called after input value updated\n\tonValueUpdate: undefined,\n\n\t// called every time the year is changed\n\tonYearChange: undefined,\n\n\tonKeyDown: undefined,\n\n\tonDestroy: undefined\n};\n\n/* istanbul ignore next */\nflatpickr.l10ns = {\n\ten: {\n\t\tweekdays: {\n\t\t\tshorthand: [\"Sun\", \"Mon\", \"Tue\", \"Wed\", \"Thu\", \"Fri\", \"Sat\"],\n\t\t\tlonghand: [\"Sunday\", \"Monday\", \"Tuesday\", \"Wednesday\", \"Thursday\", \"Friday\", \"Saturday\"]\n\t\t},\n\t\tmonths: {\n\t\t\tshorthand: [\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Oct\", \"Nov\", \"Dec\"],\n\t\t\tlonghand: [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\", \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"]\n\t\t},\n\t\tdaysInMonth: [31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31],\n\t\tfirstDayOfWeek: 0,\n\t\tordinal: function ordinal(nth) {\n\t\t\tvar s = nth % 100;\n\t\t\tif (s > 3 && s < 21) return \"th\";\n\t\t\tswitch (s % 10) {\n\t\t\t\tcase 1:\n\t\t\t\t\treturn \"st\";\n\t\t\t\tcase 2:\n\t\t\t\t\treturn \"nd\";\n\t\t\t\tcase 3:\n\t\t\t\t\treturn \"rd\";\n\t\t\t\tdefault:\n\t\t\t\t\treturn \"th\";\n\t\t\t}\n\t\t},\n\t\trangeSeparator: \" to \",\n\t\tweekAbbreviation: \"Wk\",\n\t\tscrollTitle: \"Scroll to increment\",\n\t\ttoggleTitle: \"Click to toggle\"\n\t}\n};\n\nflatpickr.l10ns.default = Object.create(flatpickr.l10ns.en);\nflatpickr.localize = function (l10n) {\n\treturn _extends(flatpickr.l10ns.default, l10n || {});\n};\nflatpickr.setDefaults = function (config) {\n\treturn _extends(flatpickr.defaultConfig, config || {});\n};\n\n/* istanbul ignore next */\nif (typeof jQuery !== \"undefined\") {\n\tjQuery.fn.flatpickr = function (config) {\n\t\treturn _flatpickr(this, config);\n\t};\n}\n\nDate.prototype.fp_incr = function (days) {\n\treturn new Date(this.getFullYear(), this.getMonth(), this.getDate() + parseInt(days, 10));\n};\n\nif (typeof module !== \"undefined\") module.exports = flatpickr;\n\n\n// WEBPACK FOOTER //\n// ./node_modules/flatpickr/dist/flatpickr.js"],"sourceRoot":""}